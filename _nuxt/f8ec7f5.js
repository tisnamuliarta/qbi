(window.webpackJsonp=window.webpackJsonp||[]).push([[43,18],{1128:function(T,m,i){"use strict";i.r(m);var h=function(){var t=this,o=t.$createElement,e=t._self._c||o;return e("div",[e("DialogForm",{ref:"dialogForm",attrs:{"max-width":"600px","dialog-title":t.formTitle,"button-title":"Save"},scopedSlots:t._u([{key:"content",fn:function(){return[e("v-form",[e("v-container",[e("v-row",{attrs:{dense:""}},[e("v-col",{attrs:{cols:"12",md:"4"}},[e("v-autocomplete",{attrs:{items:t.itemGroup,label:"Type","item-text":"name","item-value":"id",outlined:"","persistent-hint":"",dense:"","hide-details":"auto"},scopedSlots:t._u([{key:"item",fn:function(a){return[e("v-list-item-content",[e("v-list-item-title",{staticClass:"font-weight-bold",domProps:{textContent:t._s(a.item.name)}}),t._v(" "),e("v-list-item-subtitle",{domProps:{textContent:t._s(a.item.desc)}})],1)]}}]),model:{value:t.form.item_group_id,callback:function(a){t.$set(t.form,"item_group_id",a)},expression:"form.item_group_id"}})],1),t._v(" "),e("v-col",{attrs:{cols:"12",md:"8"}},[e("v-text-field",{attrs:{label:"Name",outlined:"",dense:"","hide-details":"auto"},model:{value:t.form.name,callback:function(a){t.$set(t.form,"name",a)},expression:"form.name"}})],1),t._v(" "),e("v-col",{attrs:{cols:"12",md:"4"}},[e("v-text-field",{attrs:{label:"Code",outlined:"",dense:"","hide-details":"auto"},model:{value:t.form.code,callback:function(a){t.$set(t.form,"code",a)},expression:"form.code"}})],1),t._v(" "),e("v-col",{attrs:{cols:"12",md:"4"}},[e("v-autocomplete",{attrs:{items:t.itemCategory,label:"Category","item-text":"name","item-value":"id",outlined:"","persistent-hint":"",dense:"","hide-details":"auto"},model:{value:t.form.category_id,callback:function(a){t.$set(t.form,"category_id",a)},expression:"form.category_id"}})],1),t._v(" "),e("v-col",{attrs:{cols:"12",md:"4"}},[e("v-autocomplete",{attrs:{items:t.itemUnit,label:"Unit","item-text":"name","item-value":"name",outlined:"","persistent-hint":"",dense:"","hide-details":"auto"},model:{value:t.form.unit,callback:function(a){t.$set(t.form,"unit",a)},expression:"form.unit"}})],1),t._v(" "),t.form.item_group_id===1?e("v-col",{attrs:{cols:"12",md:"4"}},[e("v-text-field",{staticClass:"text-money",attrs:{type:"number","value-when-is-empty":t.valueWhenIsEmpty,options:t.moneyOptions,label:"Initial quantity onhand",outlined:"",dense:"","hide-details":"auto"},model:{value:t.form.onhand,callback:function(a){t.$set(t.form,"onhand",a)},expression:"form.onhand"}})],1):t._e(),t._v(" "),t.form.item_group_id===1?e("v-col",{attrs:{cols:"12",md:"4"}},[e("v-menu",{ref:"menu",attrs:{"close-on-content-click":!1,transition:"scale-transition","offset-y":"","min-width":"290px"},scopedSlots:t._u([{key:"activator",fn:function(a){var r=a.on,f=a.attrs;return[e("v-text-field",t._g(t._b({attrs:{label:"As of date","prepend-icon":"mdi-calendar",readonly:"","persistent-hint":"",outlined:"",dense:"","hide-details":"auto"},model:{value:t.form.onhand_date,callback:function(p){t.$set(t.form,"onhand_date",p)},expression:"form.onhand_date"}},"v-text-field",f,!1),r))]}}],null,!1,4261197362),model:{value:t.menu,callback:function(a){t.menu=a},expression:"menu"}},[t._v(" "),e("v-date-picker",{attrs:{"no-title":""},on:{input:function(a){t.menu=!1}},model:{value:t.form.onhand_date,callback:function(a){t.$set(t.form,"onhand_date",a)},expression:"form.onhand_date"}})],1)],1):t._e(),t._v(" "),t.form.item_group_id===1?e("v-col",{attrs:{cols:"12",md:"4"}},[e("v-text-field",{staticClass:"text-money",attrs:{type:"number","value-when-is-empty":t.valueWhenIsEmpty,options:t.moneyOptions,label:"Reorder point",outlined:"",dense:"","hide-details":"auto"},model:{value:t.form.reorder_point,callback:function(a){t.$set(t.form,"reorder_point",a)},expression:"form.reorder_point"}})],1):t._e(),t._v(" "),t.form.item_group_id===1?e("v-col",{attrs:{cols:"12",md:"12"}},[e("v-autocomplete",{attrs:{items:t.itemAccounts,"item-text":"name","item-value":"id",label:"Default Inventory Account",outlined:"",dense:"","hide-details":"auto"},model:{value:t.form.inventory_account,callback:function(a){t.$set(t.form,"inventory_account",a)},expression:"form.inventory_account"}})],1):t._e(),t._v(" "),e("v-col",{attrs:{cols:"12",md:"4"}},[e("v-text-field",{staticClass:"text-money",attrs:{type:"number","value-when-is-empty":t.valueWhenIsEmpty,options:t.moneyOptions,label:"Commission Rate",outlined:"",dense:"","hide-details":"auto"},model:{value:t.form.commision_rate,callback:function(a){t.$set(t.form,"commision_rate",a)},expression:"form.commision_rate"}})],1),t._v(" "),e("v-col",{staticClass:"pb-0 font-weight-bold",attrs:{cols:"12",md:"12"}},[e("span",[t._v("Sales Information")])]),t._v(" "),e("v-col",{attrs:{cols:"12",md:"10"}},[e("v-checkbox",{attrs:{"hide-details":"auto",label:"I sell this product/service to customers"},model:{value:t.form.is_sell,callback:function(a){t.$set(t.form,"is_sell",a)},expression:"form.is_sell"}})],1),t._v(" "),t.form.is_sell?e("v-col",{attrs:{cols:"12"}},[e("v-text-field",{attrs:{label:"Descriptions",outlined:"",dense:"","hide-details":"auto"},model:{value:t.form.description,callback:function(a){t.$set(t.form,"description",a)},expression:"form.description"}})],1):t._e(),t._v(" "),t.form.is_sell?e("v-col",{attrs:{cols:"12",md:"3"}},[e("v-text-field",{staticClass:"text-money",attrs:{type:"number","value-when-is-empty":t.valueWhenIsEmpty,options:t.moneyOptions,label:"Sales Price",outlined:"",dense:"","hide-details":"auto"},model:{value:t.form.sale_price,callback:function(a){t.$set(t.form,"sale_price",a)},expression:"form.sale_price"}})],1):t._e(),t._v(" "),t.form.is_sell?e("v-col",{attrs:{cols:"12",md:"9"}},[e("v-autocomplete",{attrs:{items:t.itemAccounts,"item-text":"name","item-value":"id",label:"Income Account",outlined:"",dense:"","hide-details":"auto"},model:{value:t.form.sell_account_id,callback:function(a){t.$set(t.form,"sell_account_id",a)},expression:"form.sell_account_id"}})],1):t._e(),t._v(" "),t.form.is_sell?e("v-col",{attrs:{cols:"12",md:"3"}},[e("v-autocomplete",{attrs:{items:t.itemTax,"item-text":"name","item-value":"id",label:"Sales Tax",outlined:"",dense:"","hide-details":"auto"},model:{value:t.form.sell_tax_id,callback:function(a){t.$set(t.form,"sell_tax_id",a)},expression:"form.sell_tax_id"}})],1):t._e(),t._v(" "),e("v-col",{staticClass:"pb-0 pt-0 font-weight-bold",attrs:{cols:"12",md:"12"}},[e("span",[t._v("Purchase Information")])]),t._v(" "),e("v-col",{attrs:{cols:"12",md:"10"}},[e("v-checkbox",{attrs:{"hide-details":"auto",label:"I purchase this product/service from vendor"},model:{value:t.form.is_purchase,callback:function(a){t.$set(t.form,"is_purchase",a)},expression:"form.is_purchase"}})],1),t._v(" "),t.form.is_purchase?e("v-col",{attrs:{cols:"12"}},[e("v-text-field",{attrs:{label:"Descriptions",outlined:"",dense:"","hide-details":"auto"},model:{value:t.form.purchase_description,callback:function(a){t.$set(t.form,"purchase_description",a)},expression:"form.purchase_description"}})],1):t._e(),t._v(" "),t.form.is_purchase?e("v-col",{attrs:{cols:"12",md:"3"}},[e("v-text-field",{staticClass:"text-money",attrs:{type:"number","value-when-is-empty":t.valueWhenIsEmpty,options:t.moneyOptions,label:"Cost",outlined:"",dense:"","hide-details":"auto"},model:{value:t.form.purchase_price,callback:function(a){t.$set(t.form,"purchase_price",a)},expression:"form.purchase_price"}})],1):t._e(),t._v(" "),t.form.is_purchase?e("v-col",{attrs:{cols:"12",md:"9"}},[e("v-autocomplete",{attrs:{items:t.itemAccounts,"item-text":"name","item-value":"id",label:"Expense Account",outlined:"",dense:"","hide-details":"auto"},model:{value:t.form.buy_account_id,callback:function(a){t.$set(t.form,"buy_account_id",a)},expression:"form.buy_account_id"}})],1):t._e(),t._v(" "),t.form.is_purchase?e("v-col",{attrs:{cols:"12",md:"12"}},[e("v-autocomplete",{attrs:{items:t.itemContact,"item-text":"name","item-value":"id",label:"Prefered Vendor",outlined:"",dense:"","hide-details":"auto"},model:{value:t.form.contact_id,callback:function(a){t.$set(t.form,"contact_id",a)},expression:"form.contact_id"}})],1):t._e()],1)],1)],1)]},proxy:!0},{key:"saveData",fn:function(){return[e("v-btn",{attrs:{color:"green darken-1",dark:"",small:"",loading:t.submitLoad},on:{click:function(a){return t.save()}}},[t._v(`
        `+t._s(t.buttonTitle)+`
      `)])]},proxy:!0}])}),t._v(" "),e("LazyInventoryFormMaster",{ref:"formMaster",on:{returnData:t.returnData}})],1)},g=[],A=i(59),y={name:"FormProduct",props:{formTitle:{type:String,default:""},buttonTitle:{type:String,default:""},formData:{type:Object,default:function(){return{}}}},data:function(){return{logo:"",dialog:!1,submitLoad:!1,form:this.formData,selectedItem:1,itemCategory:[],itemUnit:[],itemClassification:[],itemAccounts:[],itemGroup:[{id:1,name:"Inventory",desc:this.$t("Product you buy and/or sell and you track quantities of")},{id:2,name:"Non inventory",desc:this.$t("Product you buy and/or sell but you don't need to (or can't) track quantities of, for example nuts and bolts used in an installation")},{id:3,name:"Service",desc:this.$t("Service that you provide to customers, for example, landscaping or tax preparation services")},{id:4,name:"Bundle",desc:this.$t("A collection of products and/or services that you sell together, for example a gift basket of fruit, cheese, and whine")}],menu:"",itemTax:[],itemContact:[],images:[],statusProcessing:"insert",valueWhenIsEmpty:null,temp_image:null,url:"/api/inventory/items",moneyOptions:{suffix:"",length:11,precision:2},options:{url:"/api/document-files",timeout:9e9,addRemoveLinks:!0,withCredentials:!0,thumbnailWidth:50,thumbnailHeight:50,acceptedFiles:"image/*",dictDefaultMessage:"<span class='mdi mdi-cloud-upload'></span> UPLOAD HERE"}}},activated:function(){this.loadData()},methods:{loadData:function(){this.getItemCategory(),this.getItemUnit(),this.getAccounts(),this.getTaxes(),this.getContacts()},newData:function(o){this.$refs.dialogForm.openDialog(),this.statusProcessing="insert",this.form=Object.assign({},o),this.getFiles()},editItem:function(o,e){var a=o;this.form=Object.assign({},a),this.statusProcessing="update",this.$refs.dialogForm.openDialog(),this.getFiles()},getItemCategory:function(){var o=this;this.$axios.get("/api/inventory/item-category",{params:{type:"Item Category"}}).then(function(e){o.itemCategory=e.data.data.rows}).catch(function(e){o.$swal({type:"error",title:"Error",text:e.response.data.message})})},getTaxes:function(){var o=this;this.$axios.get("/api/financial/taxes",{params:{type:"Item Category"}}).then(function(e){o.itemTax=e.data.data.rows}).catch(function(e){o.$swal({type:"error",title:"Error",text:e.response.data.message})})},getContacts:function(){var o=this;this.$axios.get("/api/bp/contacts",{params:{type:"Item Category"}}).then(function(e){o.itemContact=e.data.data.rows}).catch(function(e){o.$swal({type:"error",title:"Error",text:e.response.data.message})})},getItemUnit:function(){var o=this;this.$axios.get("/api/inventory/item-units",{params:{type:"Item Category"}}).then(function(e){o.itemUnit=e.data.data.rows}).catch(function(e){o.$swal({type:"error",title:"Error",text:e.response.data.message})})},getAccounts:function(){var o=this;this.$axios.get("/api/financial/accounts",{params:{type:"All"}}).then(function(e){o.itemAccounts=e.data.data.rows}).catch(function(e){o.$swal({type:"error",title:"Error",text:e.response.data.message})})},sendingParams:function(o,e,a){var r=this.form.id?this.form.id:this.form.temp_id;a.append("temp_id",r),a.append("type","item")},handleError:function(o,e,a){this.$swal({type:"error",title:"Error...",text:e.message})},reloadAttachment:function(o,e){var a=this;e.errors?this.$swal({type:"error",title:"Oops...",text:e.message}):(this.$emit("eventCountAttachment",{total:e.data.count,row:this.row}),setTimeout(function(){a.getFiles()},300),this.$swal({type:"success",title:"Success...",text:"Attachment uploaded!"}))},getFiles:function(){var o=this;this.showLoadingAttachment=!0;var e=this,a=this.form.id?this.form.id:this.form.temp_id;this.$axios.get(this.options.url,{params:{type:"item",temp_id:a}}).then(function(r){e.images=r.data.data.rows,e.total=r.data.data.total,e.showLoadingAttachment=!1}).catch(function(r){o.showLoadingAttachment=!1,o.$swal({type:"error",title:"Oops...",text:r.response.message})})},returnData:function(o){o.type==="Item Category"?this.itemCategory=o.item:o.type==="Item Unit"&&(this.itemUnit=o.item)},close:function(){var o=this;this.$refs.dialogForm.closeDialog(),this.statusProcessing="insert",setTimeout(function(){o.form=Object.assign({},o.defaultItem)},300)},save:function(){var o=this,e=this.statusProcessing;e==="insert"?(this.store("post",this.url,this.form),o.submitLoad=!1):e==="update"&&(this.store("put",this.url+"/"+this.form.id,this.form),o.submitLoad=!1)},store:function(o,e,a){var r=this,f=this;f.submitLoad=!0,this.$axios({method:o,url:e,data:a}).then(function(p){r.$refs.dialogForm.closeDialog(),r.$emit("getDataFromApi")}).catch(function(p){r.$swal({type:"error",title:"Error",text:p.response.data.message}),f.submitLoad=!1})}}},x=y,b=i(50),$=i(51),d=i.n($),C=i(643),c=i(164),_=i(623),D=i(581),I=i(582),V=i(1017),u=i(612),v=i(34),s=i(573),F=i(595),n=i(570),l=Object(b.a)(x,h,g,!1,null,null,null),E=m.default=l.exports;d()(l,{DialogForm:i(613).default}),d()(l,{VAutocomplete:C.a,VBtn:c.a,VCheckbox:_.a,VCol:D.a,VContainer:I.a,VDatePicker:V.a,VForm:u.a,VListItemContent:v.b,VListItemSubtitle:v.c,VListItemTitle:v.d,VMenu:s.a,VRow:F.a,VTextField:n.a})},613:function(T,m,i){"use strict";i.r(m);var h=function(){var s=this,F=s.$createElement,n=s._self._c||F;return n("v-dialog",{attrs:{"no-click-animation":"",persistent:"",scrollable:"",origin:s.original,"max-width":s.maxWidth,transition:"dialog-top-transition"},model:{value:s.dialog,callback:function(l){s.dialog=l},expression:"dialog"}},[n("v-card",[n("v-card-title",[n("span",{staticClass:"subtitle-2"},[s._v(s._s(s.dialogTitle))]),s._v(" "),n("v-spacer"),s._v(" "),n("v-btn",{attrs:{icon:"",color:"red",dark:""},on:{click:function(l){return s.closeDialog()}}},[n("v-icon",[s._v("mdi-close-circle")])],1)],1),s._v(" "),n("v-divider"),s._v(" "),n("v-card-text",{staticClass:"pr-0 pl-0"},[s._t("content")],2),s._v(" "),n("v-divider"),s._v(" "),n("v-card-actions",[s._t("addLine"),s._v(" "),n("v-spacer"),s._v(" "),s._t("saveData")],2)],1)],1)},g=[],A={name:"DialogForm",props:{maxWidth:{type:String,default:"800px"},dialogTitle:{type:String,default:""},original:{type:String,default:null}},data:function(){return{dialog:!1}},methods:{addLine:function(){this.$emit("addLine")},openDialog:function(){this.dialog=!0},closeDialog:function(){this.dialog=!1,this.$emit("eventCloseDialog")},saveData:function(){this.$emit("saveData")}}},y=A,x=i(50),b=i(51),$=i.n(b),d=i(164),C=i(247),c=i(88),_=i(591),D=i(572),I=i(246),V=i(589),u=Object(x.a)(y,h,g,!1,null,null,null),v=m.default=u.exports;$()(u,{VBtn:d.a,VCard:C.a,VCardActions:c.a,VCardText:c.b,VCardTitle:c.c,VDialog:_.a,VDivider:D.a,VIcon:I.a,VSpacer:V.a})}}]);
