(window.webpackJsonp=window.webpackJsonp||[]).push([[59,18,52,64],{1136:function(L,x,t){"use strict";t.r(x);var D=function(){var a=this,f=a.$createElement,d=a._self._c||f;return d("v-container",{attrs:{fluid:""}},[d(a.selectComponent,{ref:"childComponent",tag:"component",attrs:{formData:a.form}})],1)},V=[],T=t(59),j=t(890),I=t(892),F=t(891),R=t(893),O=t(894),S=t(895),E=t(896),y={name:"FormSetup",components:{email:j.default,general:I.default,pdf:R.default,finance:F.default,roles:O.default,permissions:S.default,users:E.default},data:function(){return{selectComponent:null,form:{}}},methods:{changeTab:function(f,d,U){var N=this;this.selectComponent=U,this.form=Object.assign({},f),setTimeout(function(){N.$refs.childComponent.setForm(N.form,d)},800)},getForm:function(){return this.$refs.childComponent.getForm()}}},b=y,$=t(50),P=t(51),p=t.n(P),u=t(582),n=Object($.a)(b,D,V,!1,null,null,null),g=x.default=n.exports;p()(n,{VContainer:u.a})},608:function(L,x,t){var D=t(609);D.__esModule&&(D=D.default),typeof D=="string"&&(D=[[L.i,D,""]]),D.locals&&(L.exports=D.locals);var V=t(15).default,T=V("93dca520",D,!0,{sourceMap:!1})},609:function(L,x,t){var D=t(14),V=D(!1);V.push([L.i,".v-input--checkbox.v-input--indeterminate.v-input--is-disabled{opacity:.6}.v-input--checkbox.v-input--dense{margin-top:4px}",""]),L.exports=V},613:function(L,x,t){"use strict";t.r(x);var D=function(){var n=this,g=n.$createElement,a=n._self._c||g;return a("v-dialog",{attrs:{"no-click-animation":"",persistent:"",scrollable:"",origin:n.original,"max-width":n.maxWidth,transition:"dialog-top-transition"},model:{value:n.dialog,callback:function(f){n.dialog=f},expression:"dialog"}},[a("v-card",[a("v-card-title",[a("span",{staticClass:"subtitle-2"},[n._v(n._s(n.dialogTitle))]),n._v(" "),a("v-spacer"),n._v(" "),a("v-btn",{attrs:{icon:"",color:"red",dark:""},on:{click:function(f){return n.closeDialog()}}},[a("v-icon",[n._v("mdi-close-circle")])],1)],1),n._v(" "),a("v-divider"),n._v(" "),a("v-card-text",{staticClass:"pr-0 pl-0"},[n._t("content")],2),n._v(" "),a("v-divider"),n._v(" "),a("v-card-actions",[n._t("addLine"),n._v(" "),a("v-spacer"),n._v(" "),n._t("saveData")],2)],1)],1)},V=[],T={name:"DialogForm",props:{maxWidth:{type:String,default:"800px"},dialogTitle:{type:String,default:""},original:{type:String,default:null}},data:function(){return{dialog:!1}},methods:{addLine:function(){this.$emit("addLine")},openDialog:function(){this.dialog=!0},closeDialog:function(){this.dialog=!1,this.$emit("eventCloseDialog")},saveData:function(){this.$emit("saveData")}}},j=T,I=t(50),F=t(51),R=t.n(F),O=t(164),S=t(247),E=t(88),y=t(591),b=t(572),$=t(246),P=t(589),p=Object(I.a)(j,D,V,!1,null,null,null),u=x.default=p.exports;R()(p,{VBtn:O.a,VCard:S.a,VCardActions:E.a,VCardText:E.b,VCardTitle:E.c,VDialog:y.a,VDivider:b.a,VIcon:$.a,VSpacer:P.a})},623:function(L,x,t){"use strict";var D=t(8),V=t.n(D),T=t(7),j=t.n(T),I=t(9),F=t.n(I),R=t(12),O=t.n(R),S=t(10),E=t.n(S),y=t(13),b=t.n(y),$=t(90),P=t(1),p=t(4),u=t.n(p),n=t(70),g=t.n(n),a=t(608),f=t.n(a),d=t(602),U=t.n(d),N=t(45),M=t(89),l=t(603),s=["title"];function o(c,h){var C=Object.keys(c);if(Object.getOwnPropertySymbols){var e=Object.getOwnPropertySymbols(c);h&&(e=e.filter(function(v){return Object.getOwnPropertyDescriptor(c,v).enumerable})),C.push.apply(C,e)}return C}function r(c){for(var h=1;h<arguments.length;h++){var C=arguments[h]!=null?arguments[h]:{};h%2?o(Object(C),!0).forEach(function(e){Object(P.a)(c,e,C[e])}):Object.getOwnPropertyDescriptors?Object.defineProperties(c,Object.getOwnPropertyDescriptors(C)):o(Object(C)).forEach(function(e){Object.defineProperty(c,e,Object.getOwnPropertyDescriptor(C,e))})}return c}x.a=l.a.extend({name:"v-checkbox",props:{indeterminate:Boolean,indeterminateIcon:{type:String,default:"$checkboxIndeterminate"},offIcon:{type:String,default:"$checkboxOff"},onIcon:{type:String,default:"$checkboxOn"}},data:function(){return{inputIndeterminate:this.indeterminate}},computed:{classes:function(){return r(r({},M.a.options.computed.classes.call(this)),{},{"v-input--selection-controls":!0,"v-input--checkbox":!0,"v-input--indeterminate":this.inputIndeterminate})},computedIcon:function(){return this.inputIndeterminate?this.indeterminateIcon:this.isActive?this.onIcon:this.offIcon},validationState:function(){if(!(this.isDisabled&&!this.inputIndeterminate)){if(this.hasError&&this.shouldValidate)return"error";if(this.hasSuccess)return"success";if(this.hasColor!==null)return this.computedColor}}},watch:{indeterminate:function(h){var C=this;this.$nextTick(function(){return C.inputIndeterminate=h})},inputIndeterminate:function(h){this.$emit("update:indeterminate",h)},isActive:function(){!this.indeterminate||(this.inputIndeterminate=!1)}},methods:{genCheckbox:function(){var h=this.attrs$,C=h.title,e=Object($.a)(h,s);return this.$createElement("div",{staticClass:"v-input--selection-controls__input"},[this.$createElement(N.a,this.setTextColor(this.validationState,{props:{dense:this.dense,dark:this.dark,light:this.light}}),this.computedIcon),this.genInput("checkbox",r(r({},e),{},{"aria-checked":this.inputIndeterminate?"mixed":this.isActive.toString()})),this.genRipple(this.setTextColor(this.rippleState))])},genDefaultSlot:function(){return[this.genCheckbox(),this.genLabel()]}}})},639:function(L,x,t){"use strict";t.r(x);var D=function(){var n=this,g=n.$createElement,a=n._self._c||g;return a("v-dialog",{attrs:{persistent:"","max-width":"1000px",transition:"dialog-bottom-transition"},model:{value:n.dialogPermission,callback:function(f){n.dialogPermission=f},expression:"dialogPermission"}},[a("v-card",{attrs:{loading:n.loadingPermission}},[a("v-card-title",[a("span",{staticClass:"subtitle-2"},[n._v(`
        `+n._s(n.dialogTitle)+`
      `)]),n._v(" "),a("v-spacer"),n._v(" "),a("v-btn",{attrs:{color:"red darken-1",dark:"",icon:"",small:""},on:{click:n.closeDialogPermission}},[a("v-icon",[n._v("mdi-close-circle")])],1)],1),n._v(" "),a("v-card-text",[a("div",{staticClass:"scroll-container"},[a("LazyMasterPermissionList",{ref:"childDetails"})],1)]),n._v(" "),a("v-card-actions",[n.canAddData?a("v-btn",{staticClass:"white--text",attrs:{small:"",color:"orange darken-1"},on:{click:function(f){return n.$refs.childDetails.addLine()}}},[n._v(`
        Add Line
      `)]):n._e(),n._v(" "),a("v-spacer"),n._v(" "),n.canAddData?a("v-btn",{attrs:{color:"green darken-1",dark:"",small:"",loading:n.loadingPermission},on:{click:function(f){return n.saveRolePermission()}}},[n._v(`
        Save
      `)]):n._e()],1)],1)],1)},V=[],T=t(4),j={name:"DialogPermission",data:function(){return{loadingPermission:!1,dialogPermission:!1,dialogTitle:"",role:"",userRole:[],form:{},canAddData:!1,type:""}},mounted:function(){this.getPermissionList()},methods:{getPermissionList:function(){var g=this;this.$axios.get("/api/master/permissions").then(function(a){g.$auth.$storage.setLocalStorage("permission_list",a.data.data.simple)})},openDialogPermission:function(g,a){this.dialogTitle=a,this.dialogPermission=!0,this.loadingPermission=!0,this.form=Object.assign({},g),this.canAddData=!0,this.getPermissionUser(g),this.type="user"},getPermissionUser:function(g){var a=this;this.userRole=null,this.$axios.get("/api/master/user/permission",{params:{form:g}}).then(function(f){a.$refs.childDetails.setDataToDetails(f.data.data.rows)}).finally(function(f){a.loadingPermission=!1})},closeDialogPermission:function(){this.dialogPermission=!1,this.userRole=[],this.canAddData=!1},openRolePermissions:function(g,a,f){var d=this,U=this;this.type=f,this.dialogTitle=a,this.dialogPermission=!0,this.loadingPermission=!0,this.form=Object.assign({},g);var N="";f==="user"?N="/api/master/user/roles":(this.canAddData=!0,N="/api/master/permission-role"),this.$axios.get(N,{params:{form:this.form}}).then(function(M){U.$refs.childDetails.setDataToDetails(M.data.data.rows),d.loadingPermission=!1}).finally(function(M){d.loadingPermission=!1})},changeTab:function(g){var a=this;this.loadingPermission=!0,this.$axios.post("/api/master/permission-role",{form:g}).then(function(f){a.$refs.childDetails.setDataToDetails(f.data.data.rows)}).finally(function(f){a.loadingPermission=!1})},getRolePermissionUser:function(g){var a=this;this.$axios.post("/api/master/user/role-permission",{item:g}).then(function(f){a.$refs.childDetails.setDataToDetails(f.data.data.rows)}).finally(function(f){a.loadingPermission=!1})},getPermissionRole:function(g){var a=this;this.$axios.post("/api/master/permission-role",{form:this.form}).then(function(f){a.$refs.childDetails.setDataToDetails(f.data.data.rows)}).finally(function(f){a.loadingPermission=!1})},saveRolePermission:function(){var g=this;this.loadingPermission=!0;var a=this.$refs.childDetails.getAddData(),f="";this.type==="user"?f="/api/master/user/permission":f="/api/master/permission-role",this.$axios.post(f,{details:a,form:this.form}).then(function(d){g.$swal({icon:"success",title:"Success",text:d.data.message}),g.type==="user"?g.getPermissionUser(g.form):g.getPermissionRole(g.form)}).catch(function(d){g.$swal({icon:"error",title:"Error",text:d.response.data.message})}).finally(function(d){g.loadingPermission=!1})}}},I=j,F=t(50),R=t(51),O=t.n(R),S=t(164),E=t(247),y=t(88),b=t(591),$=t(246),P=t(589),p=Object(F.a)(I,D,V,!1,null,null,null),u=x.default=p.exports;O()(p,{VBtn:S.a,VCard:E.a,VCardActions:y.a,VCardText:y.b,VCardTitle:y.c,VDialog:b.a,VIcon:$.a,VSpacer:P.a})},890:function(L,x,t){"use strict";t.r(x);var D=function(){var P=this,p=P.$createElement,u=P._self._c||p;return u("v-row",{attrs:{"no-gutters":""}},[u("v-col",{staticClass:"pr-md-3 pl-md-3",attrs:{cols:"12",md:"6"}},[u("v-col",{staticClass:"pr-1 pl-1 pb-1 pt-1 mt-1",attrs:{cols:"12"}},[u("v-text-field",{attrs:{label:"Mailer",placeholder:"Product Name",outlined:"",dense:"","hide-details":"auto"}})],1),P._v(" "),u("v-col",{staticClass:"pr-1 pl-1 pb-1 pt-1 mt-1",attrs:{cols:"12"}},[u("v-text-field",{attrs:{label:"Host",placeholder:"Product Name",outlined:"",dense:"","hide-details":"auto"}})],1),P._v(" "),u("v-col",{staticClass:"pr-1 pl-1 pb-1 pt-1 mt-1",attrs:{cols:"12"}},[u("v-text-field",{attrs:{label:"Port",placeholder:"Product Name",outlined:"",dense:"","hide-details":"auto"}})],1),P._v(" "),u("v-col",{staticClass:"pr-1 pl-1 pb-1 pt-1 mt-1",attrs:{cols:"12"}},[u("v-text-field",{attrs:{label:"Username",placeholder:"Product Name",outlined:"",dense:"","hide-details":"auto"}})],1),P._v(" "),u("v-col",{staticClass:"pr-1 pl-1 pb-1 pt-1 mt-1",attrs:{cols:"12"}},[u("v-text-field",{attrs:{label:"Password",placeholder:"Product Name",outlined:"",dense:"","hide-details":"auto"}})],1),P._v(" "),u("v-col",{staticClass:"pr-1 pl-1 pb-1 pt-1 mt-1",attrs:{cols:"12"}},[u("v-select",{attrs:{items:["null","ssl","tls"],label:"Encryption",placeholder:"Product Name",outlined:"",dense:"","hide-details":"auto"}})],1),P._v(" "),u("v-col",{staticClass:"pr-1 pl-1 pb-1 pt-1 mt-1",attrs:{cols:"12"}},[u("v-text-field",{attrs:{label:"Mail From Address",placeholder:"Product Name",outlined:"",dense:"","hide-details":"auto"}})],1)],1)],1)},V=[],T={name:"EmailSetup",props:{formData:{type:Object,default:function(){return{}}}},data:function(){return{form:this.formData}},methods:{getForm:function(){return this.form},setForm:function(p){this.form=Object.assign({},p)}}},j=T,I=t(50),F=t(51),R=t.n(F),O=t(581),S=t(595),E=t(637),y=t(570),b=Object(I.a)(j,D,V,!1,null,null,null),$=x.default=b.exports;R()(b,{VCol:O.a,VRow:S.a,VSelect:E.a,VTextField:y.a})},891:function(L,x,t){"use strict";t.r(x);var D=function(){var p=this,u=p.$createElement,n=p._self._c||u;return n("v-row",{attrs:{"no-gutters":""}},[n("v-col",{staticClass:"pr-md-3 pl-md-3",attrs:{cols:"12",md:"6"}},[n("v-col",{staticClass:"pr-1 pl-1 pb-1 pt-1 mt-1",attrs:{cols:"12"}},[n("v-text-field",{attrs:{label:"Invoice Number Prefix",placeholder:"Product Name",outlined:"",dense:"","hide-details":"auto"}})],1),p._v(" "),n("v-col",{staticClass:"pr-1 pl-1 pb-1 pt-1 mt-1",attrs:{cols:"12"}},[n("v-radio-group",{attrs:{dense:"",row:"",label:"Invoice Number Format"}},[n("v-radio",{attrs:{label:"Number Based (000001)",value:"radio-1"}}),p._v(" "),n("v-radio",{attrs:{label:"000001-YY",value:"radio-1"}}),p._v(" "),n("v-radio",{attrs:{label:"000001/MM/YYYY",value:"radio-1"}}),p._v(" "),n("v-radio",{attrs:{label:"Year Based (YYYY/000001)",value:"radio-2"}})],1)],1)],1)],1)},V=[],T={name:"EmailSetup",props:{formData:{type:Object,default:function(){return{}}}},data:function(){return{form:this.formData}},methods:{getForm:function(){return this.form},setForm:function(u){this.form=Object.assign({},u)}}},j=T,I=t(50),F=t(51),R=t.n(F),O=t(581),S=t(830),E=t(831),y=t(595),b=t(570),$=Object(I.a)(j,D,V,!1,null,null,null),P=x.default=$.exports;R()($,{VCol:O.a,VRadio:S.a,VRadioGroup:E.a,VRow:y.a,VTextField:b.a})},892:function(L,x,t){"use strict";t.r(x);var D=function(){var P=this,p=P.$createElement,u=P._self._c||p;return u("v-form",{staticClass:"pt-2"},[u("v-layout",{attrs:{wrap:""}},[u("v-flex",{staticClass:"d-flex",attrs:{md12:""}},[u("v-layout",{attrs:{wrap:""}},[u("v-flex",{staticClass:"pa-1 mb-1",attrs:{md12:""}},[u("v-text-field",{attrs:{label:"General Name",placeholder:"Product Name",outlined:"",dense:"","hide-details":"auto"}})],1)],1)],1)],1)],1)},V=[],T={name:"EmailSetup"},j=T,I=t(50),F=t(51),R=t.n(F),O=t(617),S=t(612),E=t(615),y=t(570),b=Object(I.a)(j,D,V,!1,null,null,null),$=x.default=b.exports;R()(b,{VFlex:O.a,VForm:S.a,VLayout:E.a,VTextField:y.a})},893:function(L,x,t){"use strict";t.r(x);var D=function(){var a=this,f=a.$createElement,d=a._self._c||f;return d("v-row",{attrs:{"no-gutters":""}},[d("v-col",{staticClass:"pr-md-3 pl-md-3",attrs:{cols:"12",md:"6"}},[d("v-subheader",[a._v("General")]),a._v(" "),d("v-col",{staticClass:"pr-1 pl-1 pb-1 pt-1 mt-1",attrs:{cols:"12"}},[d("v-divider")],1),a._v(" "),d("v-col",{staticClass:"pr-1 pl-1 pb-1 pt-1 mt-1",attrs:{cols:"12"}},[d("v-text-field",{attrs:{label:"Font Size",placeholder:"Product Name",outlined:"",dense:"","hide-details":"auto"}})],1),a._v(" "),d("v-col",{staticClass:"pr-1 pl-1 pb-1 pt-1 mt-1",attrs:{cols:"12"}},[d("v-text-field",{attrs:{label:"Logo",placeholder:"Product Name",outlined:"",dense:"","hide-details":"auto"}})],1),a._v(" "),d("v-col",{staticClass:"pr-1 pl-1 pb-1 pt-1 mt-1",attrs:{cols:"12"}},[d("v-text-field",{attrs:{label:"Logo Width",placeholder:"Product Name",outlined:"",dense:"","hide-details":"auto"}})],1),a._v(" "),d("v-subheader",[a._v("Signature")]),a._v(" "),d("v-col",{staticClass:"pr-1 pl-1 pb-1 pt-1 mt-1",attrs:{cols:"12"}},[d("v-divider")],1),a._v(" "),d("v-col",{staticClass:"pr-1 pl-1 pb-1 pt-1 mt-1",attrs:{cols:"12"}},[d("v-radio-group",{attrs:{dense:"",row:"",label:"Show PDF Signature on Invoice"}},[d("v-radio",{attrs:{label:"Option 1",value:"radio-1"}}),a._v(" "),d("v-radio",{attrs:{label:"Option 2",value:"radio-2"}})],1)],1),a._v(" "),d("v-col",{staticClass:"pr-1 pl-1 pb-1 pt-1 mt-1",attrs:{cols:"12"}},[d("v-file-input",{attrs:{accept:"image/*",label:"Logo",placeholder:"Product Name",outlined:"",dense:"","hide-details":"auto"}})],1),a._v(" "),d("v-col",{staticClass:"pr-1 pl-1 pb-1 pt-1 mt-1",attrs:{cols:"12"}},[d("v-text-field",{attrs:{label:"Logo Width",placeholder:"Product Name",outlined:"",dense:"","hide-details":"auto"}})],1),a._v(" "),d("v-col",{staticClass:"pr-1 pl-1 pb-1 pt-1 mt-1",attrs:{cols:"12"}},[d("v-text-field",{attrs:{label:"Mail From Address",placeholder:"Product Name",outlined:"",dense:"","hide-details":"auto"}})],1)],1),a._v(" "),d("v-col",{staticClass:"pr-md-3 pl-md-3",attrs:{cols:"12",md:"6"}},[d("v-subheader",[a._v("Document Format")]),a._v(" "),d("v-col",{staticClass:"pr-1 pl-1 pb-1 pt-1 mt-1",attrs:{cols:"12"}},[d("v-divider")],1),a._v(" "),d("v-col",{staticClass:"pr-1 pl-1 pb-1 pt-1 mt-1",attrs:{cols:"12"}},[d("v-select",{attrs:{items:a.paperSize,label:"Invoice",placeholder:"Product Name",outlined:"",dense:"","hide-details":"auto"}})],1),a._v(" "),d("v-col",{staticClass:"pr-1 pl-1 pb-1 pt-1 mt-1",attrs:{cols:"12"}},[d("v-select",{attrs:{items:a.paperSize,label:"Estimate",placeholder:"Product Name",outlined:"",dense:"","hide-details":"auto"}})],1),a._v(" "),d("v-col",{staticClass:"pr-1 pl-1 pb-1 pt-1 mt-1",attrs:{cols:"12"}},[d("v-select",{attrs:{items:a.paperSize,label:"Proposal",placeholder:"Product Name",outlined:"",dense:"","hide-details":"auto"}})],1),a._v(" "),d("v-col",{staticClass:"pr-1 pl-1 pb-1 pt-1 mt-1",attrs:{cols:"12"}},[d("v-select",{attrs:{items:a.paperSize,label:"Payment",placeholder:"Product Name",outlined:"",dense:"","hide-details":"auto"}})],1),a._v(" "),d("v-col",{staticClass:"pr-1 pl-1 pb-1 pt-1 mt-1",attrs:{cols:"12"}},[d("v-select",{attrs:{items:a.paperSize,label:"Credit Note",placeholder:"Product Name",outlined:"",dense:"","hide-details":"auto"}})],1),a._v(" "),d("v-col",{staticClass:"pr-1 pl-1 pb-1 pt-1 mt-1",attrs:{cols:"12"}},[d("v-select",{attrs:{items:a.paperSize,label:"Statement",placeholder:"Product Name",outlined:"",dense:"","hide-details":"auto"}})],1),a._v(" "),d("v-col",{staticClass:"pr-1 pl-1 pb-1 pt-1 mt-1",attrs:{cols:"12"}},[d("v-select",{attrs:{items:a.paperSize,label:"Contract",placeholder:"Product Name",outlined:"",dense:"","hide-details":"auto"}})],1)],1)],1)},V=[],T={name:"EmailSetup",props:{form:{type:Object,default:function(){return{}}}},data:function(){return{paperSize:["A4 Portrait","A4 Landscape","Letter Portrait","Letter Landscape"]}},methods:{getForm:function(){return this.form},setForm:function(f){this.form=Object.assign({},f)}}},j=T,I=t(50),F=t(51),R=t.n(F),O=t(581),S=t(572),E=t(1012),y=t(830),b=t(831),$=t(595),P=t(637),p=t(820),u=t(570),n=Object(I.a)(j,D,V,!1,null,null,null),g=x.default=n.exports;R()(n,{VCol:O.a,VDivider:S.a,VFileInput:E.a,VRadio:y.a,VRadioGroup:b.a,VRow:$.a,VSelect:P.a,VSubheader:p.a,VTextField:u.a})},894:function(L,x,t){"use strict";t.r(x);var D=function(){var l=this,s=l.$createElement,o=l._self._c||s;return o("v-layout",[o("v-flex",{attrs:{sm12:"",md12:""}},[o("div",{staticClass:"mt-0"},[o("v-data-table",{staticClass:"elevation-1",attrs:{"mobile-breakpoint":0,headers:l.headers,items:l.allData,"items-per-page":20,options:l.options,"server-items-length":l.totalData,loading:l.loading,"footer-props":{"items-per-page-options":[20,50,100,-1]}},on:{"update:options":function(r){l.options=r}},scopedSlots:l._u([{key:"top",fn:function(){return[o("v-toolbar",{attrs:{flat:"",color:"white",dense:""}},[o("v-toolbar-title",{staticClass:"hidden-xs-only"},[l._v("Master Roles")]),l._v(" "),o("v-divider",{staticClass:"mx-2",attrs:{inset:"",vertical:""}}),l._v(" "),o("v-spacer"),l._v(" "),o("v-btn",{attrs:{icon:"",color:"green",dark:""},on:{click:function(r){return l.newData()}}},[o("v-icon",[l._v("mdi-plus-circle")])],1),l._v(" "),o("v-btn",{attrs:{loading:l.loading,icon:""},on:{click:l.getDataFromApi}},[o("v-icon",[l._v("mdi-refresh")])],1)],1)]},proxy:!0},{key:"item.ACTIONS",fn:function(r){var c=r.item;return[o("v-icon",{staticClass:"mr-2",attrs:{small:"",color:"orange"},on:{click:function(h){return l.editItem(c)}}},[l._v(`
            mdi-pencil-circle
          `)]),l._v(" "),o("v-icon",{staticClass:"mr-2",attrs:{small:"",color:"orange"},on:{click:function(h){return l.$refs.dialogPermission.openRolePermissions(c,"Role Permissions","role")}}},[l._v(`
            mdi-gate
          `)])]}}],null,!0)})],1)]),l._v(" "),o("v-dialog",{attrs:{persistent:"","max-width":"500px"},model:{value:l.dialog,callback:function(r){l.dialog=r},expression:"dialog"}},[o("v-card",[o("v-card-title",[o("span",{staticClass:"headline"},[l._v(l._s(l.formTitle))])]),l._v(" "),o("v-card-text",[o("v-form",[o("v-layout",{attrs:{wrap:""}},[l.message?o("v-flex",{attrs:{xs12:""}},[o("div",{staticClass:"red darken-2 text-xs-center"},[o("span",{staticClass:"white--text"},[l._v(l._s(l.message))])])]):l._e(),l._v(" "),o("v-flex",{staticClass:"d-flex",attrs:{md12:""}},[o("v-layout",{attrs:{wrap:""}},[o("v-flex",{staticClass:"pa-2",attrs:{md12:""}},[o("v-text-field",{attrs:{label:"Role Name",placeholder:"Role Name",outlined:"",dense:"","hide-details":"auto"},model:{value:l.form.name,callback:function(r){l.$set(l.form,"name",r)},expression:"form.name"}})],1),l._v(" "),o("v-flex",{staticClass:"pa-2",attrs:{md12:""}},[o("v-text-field",{attrs:{label:"Description",placeholder:"Description",outlined:"",dense:"","hide-details":"auto"},model:{value:l.form.description,callback:function(r){l.$set(l.form,"description",r)},expression:"form.description"}})],1)],1)],1)],1)],1)],1),l._v(" "),o("v-card-actions",[o("v-spacer"),l._v(" "),o("v-btn",{attrs:{color:"red darken-1",text:"",small:""},on:{click:function(r){l.dialog=!1}}},[l._v(`
          Close
        `)]),l._v(" "),o("v-btn",{attrs:{color:"green darken-1",dark:"",small:"",loading:l.submitLoad},on:{click:function(r){return l.save()}}},[l._v(`
          Save
        `)])],1)],1)],1),l._v(" "),o("MasterDialogPermission",{ref:"dialogPermission"})],1)},V=[],T=t(59),j={name:"MasterRole",layout:"dashboard",data:function(){return{totalData:0,editedIndex:-1,loadNewBtn:!1,submitLoad:!1,dialogWindow:!1,statusProcessing:"insert",dialog:!1,message:!1,loading:!0,insertDivision:!0,insert:!0,loadingPermission:!0,allData:[],department:{},form:{id:null,name:null,description:null},defaultItem:{id:null,name:null,description:null},options:{},optionDivision:{},headers:[{text:"Role Name",value:"name"},{text:"Description",value:"description"},{text:"Guard",value:"guard_name"},{text:"Action",value:"ACTIONS",align:"center"}]}},head:function(){return{title:"Master Roles"}},computed:{formTitle:function(){return this.editedIndex===-1?"New":"Edit"}},watch:{options:{handler:function(){this.getDataFromApi()},deep:!0}},mounted:function(){this.getDataFromApi()},methods:{getDataFromApi:function(){var s=this;this.loading=!0;var o=this;this.$axios.get("/api/master/roles",{params:{options:o.options}}).then(function(r){s.loading=!1,s.allData=r.data.data.rows,s.totalData=r.data.data.total}).catch(function(r){s.loading=!1,s.$swal({type:"error",title:"Error",text:r.response.data.message})})},newData:function(){this.dialog=!0,this.statusProcessing="insert",this.form=Object.assign({},this.defaultItem),this.message=!1},editItem:function(s){this.editedIndex=this.allData.indexOf(s),this.form=Object.assign({},s),this.statusProcessing="update",this.dialog=!0,this.insert=!1},close:function(){var s=this;this.dialog=!1,this.statusProcessing="insert",setTimeout(function(){s.form=Object.assign({},s.defaultItem),s.editedIndex=-1},300)},save:function(){var s=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"all",o=arguments.length>1&&arguments[1]!==void 0?arguments[1]:null,r=this,c=this.form,h=this.statusProcessing,C={form:c,status:h};h==="insert"?(this.store("post","/api/master/roles",C,"insert",s),r.submitLoad=!1):h==="update"&&(this.store("put","/api/master/roles/"+this.form.id,C,"update",s),r.submitLoad=!1)},store:function(s,o,r,c){var h=this,C=arguments.length>4&&arguments[4]!==void 0?arguments[4]:"all",e=this;e.submitLoad=!0,this.$axios({method:s,url:o,data:r}).then(function(v){v.data.status==="Error"?(h.$swal({type:"error",title:"Error",text:v.data.message}),e.submitLoad=!1):(h.dialog=!1,h.message=v.data.message,setTimeout(function(){return h.message=!1},8e3),h.getDataFromApi())}).catch(function(v){h.$swal({type:"error",title:"Error",text:v.response.data.message}),e.submitLoad=!1})}}},I=j,F=t(50),R=t(51),O=t.n(R),S=t(164),E=t(247),y=t(88),b=t(1018),$=t(591),P=t(572),p=t(617),u=t(612),n=t(246),g=t(615),a=t(589),f=t(570),d=t(73),U=t(119),N=Object(F.a)(I,D,V,!1,null,null,null),M=x.default=N.exports;O()(N,{MasterDialogPermission:t(639).default}),O()(N,{VBtn:S.a,VCard:E.a,VCardActions:y.a,VCardText:y.b,VCardTitle:y.c,VDataTable:b.a,VDialog:$.a,VDivider:P.a,VFlex:p.a,VForm:u.a,VIcon:n.a,VLayout:g.a,VSpacer:a.a,VTextField:f.a,VToolbar:d.a,VToolbarTitle:U.a})},895:function(L,x,t){"use strict";t.r(x);var D=function(){var e=this,v=e.$createElement,i=e._self._c||v;return i("v-layout",[i("v-flex",{attrs:{sm12:""}},[i("div",{staticClass:"mt-0"},[i("v-skeleton-loader",{directives:[{name:"show",rawName:"v-show",value:e.loading,expression:"loading"}],staticClass:"mx-auto",attrs:{type:"table"}}),e._v(" "),i("v-data-table",{directives:[{name:"show",rawName:"v-show",value:!e.loading,expression:"!loading"}],staticClass:"elevation-1",attrs:{"mobile-breakpoint":0,headers:e.headers,items:e.allData,"items-per-page":20,options:e.options,"server-items-length":e.totalData,loading:e.loading,"footer-props":{"items-per-page-options":[20,50,100,-1]},dense:""},on:{"update:options":function(m){e.options=m}},scopedSlots:e._u([{key:"top",fn:function(){return[i("LazyMainToolbar",{attrs:{"document-status":e.documentStatus,"search-status":e.searchStatus,"item-search":e.itemSearch,"search-item":e.searchItem,search:e.search,filter:!1,title:"Master Permissions"},on:{emitData:e.emitData,newData:e.newData}})]},proxy:!0},{key:"item.ACTIONS",fn:function(m){var B=m.item;return[i("v-btn",{attrs:{small:"",text:"",dark:"",color:"green"},on:{click:function(A){return e.editItem(B)}}},[i("v-icon",{staticClass:"mr-2",attrs:{left:""}},[e._v(`
              mdi-pencil-circle
            `)]),e._v(`
            Edit
          `)],1)]}}],null,!0)})],1)]),e._v(" "),i("v-dialog",{attrs:{persistent:"","max-width":"600px",transition:"dialog-bottom-transition"},model:{value:e.dialog,callback:function(m){e.dialog=m},expression:"dialog"}},[i("v-card",[i("v-card-title",[i("LazyToolbarTitle",{attrs:{title:e.formTitle}}),e._v(" "),i("v-spacer"),e._v(" "),i("v-btn",{attrs:{icon:"",color:"red",dark:""},on:{click:function(m){e.dialog=!1}}},[i("v-icon",[e._v("mdi-close-circle")])],1)],1),e._v(" "),i("v-divider"),e._v(" "),i("v-card-text",[i("v-form",[i("v-layout",{attrs:{wrap:""}},[e.message?i("v-flex",{attrs:{xs12:""}},[i("div",{staticClass:"red darken-2 text-xs-center"},[i("span",{staticClass:"white--text"},[e._v(e._s(e.message))])])]):e._e(),e._v(" "),i("v-flex",{staticClass:"d-flex",attrs:{md12:""}},[i("v-layout",{attrs:{wrap:""}},[i("v-flex",{staticClass:"pa-1 mt-1",attrs:{xs12:""}},[i("v-select",{attrs:{items:e.itemRole,chips:"","deletable-chips":"","small-chips":"",label:"Role",multiple:"",outlined:"",dense:"","hide-details":"auto"},model:{value:e.form.role,callback:function(m){e.$set(e.form,"role",m)},expression:"form.role"}})],1),e._v(" "),i("v-flex",{staticClass:"pa-1 mt-1",attrs:{xs12:""}},[i("v-select",{attrs:{items:e.dataParent,label:"Parent Name",outlined:"",dense:"","hide-details":"auto",clearable:""},model:{value:e.form.parent_name,callback:function(m){e.$set(e.form,"parent_name",m)},expression:"form.parent_name"}})],1),e._v(" "),i("v-flex",{staticClass:"pa-1 mt-1",attrs:{md12:""}},[i("v-text-field",{attrs:{label:"Name",placeholder:"Name",outlined:"",dense:"","hide-details":"auto"},model:{value:e.form.menu_name,callback:function(m){e.$set(e.form,"menu_name",m)},expression:"form.menu_name"}})],1),e._v(" "),i("v-flex",{staticClass:"pa-1 mt-1",attrs:{md12:""}},[i("v-text-field",{attrs:{label:"Icon",placeholder:"Icon",outlined:"",dense:"","hide-details":"auto"},model:{value:e.form.icon,callback:function(m){e.$set(e.form,"icon",m)},expression:"form.icon"}})],1),e._v(" "),i("v-flex",{staticClass:"pa-1 mt-1",attrs:{md12:""}},[i("v-text-field",{attrs:{label:"Order Line",placeholder:"Order Line",outlined:"",dense:"","hide-details":"auto"},model:{value:e.form.order_line,callback:function(m){e.$set(e.form,"order_line",m)},expression:"form.order_line"}})],1),e._v(" "),i("v-flex",{staticClass:"pa-1 mt-1",attrs:{xs12:""}},[i("v-radio-group",{attrs:{row:"","hide-details":"auto",label:"Has Route"},model:{value:e.form.has_route,callback:function(m){e.$set(e.form,"has_route",m)},expression:"form.has_route"}},[i("v-radio",{attrs:{label:"Yes",value:"Y",color:"primary"}}),e._v(" "),i("v-radio",{attrs:{label:"No",value:"N",color:"primary"}})],1)],1),e._v(" "),e.form.has_route==="Y"?i("v-flex",{staticClass:"pa-1",attrs:{md12:""}},[i("v-text-field",{attrs:{label:"Route Name",placeholder:"Route Name",outlined:"",dense:"","hide-details":"auto"},model:{value:e.form.route_name,callback:function(m){e.$set(e.form,"route_name",m)},expression:"form.route_name"}})],1):e._e(),e._v(" "),i("v-flex",{staticClass:"pa-1",attrs:{xs12:""}},[i("v-radio-group",{attrs:{row:"","hide-details":"auto",label:"Has Child"},model:{value:e.form.has_child,callback:function(m){e.$set(e.form,"has_child",m)},expression:"form.has_child"}},[i("v-radio",{attrs:{label:"Yes",value:"Y",color:"primary"}}),e._v(" "),i("v-radio",{attrs:{label:"No",value:"N",color:"primary"}})],1)],1),e._v(" "),i("v-flex",{staticClass:"pa-1",attrs:{xs12:""}},[i("v-radio-group",{attrs:{row:"","hide-details":"auto",label:"Is CRUD"},model:{value:e.form.is_crud,callback:function(m){e.$set(e.form,"is_crud",m)},expression:"form.is_crud"}},[i("v-radio",{attrs:{label:"Yes",value:"Y",color:"primary"},on:{change:function(m){return e.changeCrud("Y")}}}),e._v(" "),i("v-radio",{attrs:{label:"No",value:"N",color:"primary"},on:{change:function(m){return e.changeCrud("N")}}})],1)],1),e._v(" "),i("v-flex",{staticClass:"pa-1 d-flex",attrs:{xs12:""}},[i("span",{staticClass:"font-weight-medium"},[e._v("Ability")])]),e._v(" "),i("v-flex",{staticClass:"pa-1 d-flex",attrs:{xs12:""}},[i("v-checkbox",{attrs:{value:e.form.index,label:"Index",color:"primary","hide-details":""},model:{value:e.form.index,callback:function(m){e.$set(e.form,"index",m)},expression:"form.index"}}),e._v(" "),i("v-checkbox",{attrs:{value:e.form.store,label:"Store",color:"primary","hide-details":""},model:{value:e.form.store,callback:function(m){e.$set(e.form,"store",m)},expression:"form.store"}}),e._v(" "),i("v-checkbox",{attrs:{value:e.form.edits,label:"Edits",color:"primary","hide-details":""},model:{value:e.form.edits,callback:function(m){e.$set(e.form,"edits",m)},expression:"form.edits"}}),e._v(" "),i("v-checkbox",{attrs:{value:e.form.erase,label:"Erase",color:"primary","hide-details":""},model:{value:e.form.erase,callback:function(m){e.$set(e.form,"erase",m)},expression:"form.erase"}})],1)],1)],1)],1)],1)],1),e._v(" "),i("v-divider"),e._v(" "),i("v-card-actions",[i("v-spacer"),e._v(" "),i("v-btn",{attrs:{color:"blue darken-1",dark:"",small:"",loading:e.submitLoad},on:{click:function(m){return e.save()}}},[e._v(`
          Save
        `)])],1)],1)],1),e._v(" "),i("v-dialog",{attrs:{persistent:"","max-width":"1000px"},model:{value:e.dialogPermission,callback:function(m){e.dialogPermission=m},expression:"dialogPermission"}},[i("v-card",{attrs:{loading:e.loadingPermission}},[i("v-card-title",[i("span",{staticClass:"font-weight-medium"},[e._v("Role Permission")])]),e._v(" "),i("v-card-text",[i("div",{staticClass:"scroll-container"},[i("LazyMasterPermissionList",{ref:"childDetails"})],1)]),e._v(" "),i("v-card-actions",[i("v-btn",{staticClass:"white--text",attrs:{small:"",color:"blue darken-1"},on:{click:function(m){return e.$refs.childDetails.addLine()}}},[i("v-icon",{attrs:{small:""}},[e._v(" mdi-plus ")])],1),e._v(" "),i("v-spacer"),e._v(" "),i("v-btn",{attrs:{color:"red darken-1",dark:"",small:""},on:{click:function(m){e.dialogPermission=!1}}},[e._v(`
          close
        `)]),e._v(" "),i("v-btn",{attrs:{color:"green darken-1",dark:"",small:"",loading:e.loadingPermission},on:{click:function(m){return e.saveRolePermission()}}},[e._v(`
          Save
        `)])],1)],1)],1)],1)},V=[],T=t(21),j=t(283),I=t(59),F=t(4),R=t(29),O={name:"MasterPermission",layout:"dashboard",data:function(){return{totalData:0,editedIndex:-1,loadNewBtn:!1,submitLoad:!1,dialogWindow:!1,statusProcessing:"insert",dialog:!1,dialogPermission:!1,message:!1,loading:!0,insertDivision:!0,insert:!0,documentStatus:[],itemSearch:[],searchStatus:"",searchItem:"",search:"",loadingPermission:!0,allData:[],dataParent:[],itemApps:[],itemRole:[],department:{},form:{id:null,is_crud:"N",order_line:null,has_route:"N",has_child:"N",route_name:"N",icon:null,menu_name:null,parent_name:null,app_name:null,name:null,old_name:null,index:"Y",store:"",edits:"",erase:"",role:[]},defaultItem:{id:null,is_crud:"N",order_line:null,has_route:"N",has_child:"N",route_name:"N",icon:null,menu_name:null,parent_name:null,app_name:null,name:null,old_name:null,index:"Y",store:"",edits:"",erase:"",role:[]},options:{},headers:[{text:"Name",value:"menu_name"},{text:"Parent Name",value:"parent_name"},{text:"Route",value:"route_name"},{text:"Has Child",value:"has_child"},{text:"Is CRUD",value:"is_crud"},{text:"Order Line",value:"order_line"},{text:"Action",value:"ACTIONS",align:"center"}]}},head:function(){return{title:"Master Permissions"}},computed:{formTitle:function(){return this.editedIndex===-1?"New":"Edit"}},watch:{options:{handler:function(){this.getDataFromApi()},deep:!0}},mounted:function(){this.getDataFromApi(),this.getRole()},methods:{getRole:function(){var v=this;this.$axios.get("/api/master/roles").then(function(i){v.itemRole=i.data.data.simple})},emitData:function(v){this.documentStatus=v.documentStatus,this.itemSearch=v.itemSearch,this.searchStatus=v.searchStatus,this.searchItem=v.searchItem,this.search=v.search,this.filters=v.filters,this.getDataFromApi()},getDataFromApi:function(){var v=this;this.loading=!0;var i=this;this.$axios.get("/api/master/permissions",{params:{options:i.options}}).then(function(m){v.loading=!1,v.allData=m.data.data.rows,v.totalData=m.data.data.total,v.dataParent=m.data.data.parent}).catch(function(m){v.loading=!1,v.$swal({type:"error",title:"Error",text:m.response.data.message})})},newData:function(){this.dialog=!0,this.statusProcessing="insert",this.form=Object.assign({},this.defaultItem),this.message=!1},editItem:function(v){var i=this;this.editedIndex=this.allData.indexOf(v),this.form=Object.assign({},v),this.statusProcessing="update",this.$axios.get("/api/master/permissions/"+this.form.parent_id,{params:{menu_name:this.form.menu_name}}).then(function(m){var B=Object.assign({},m.data.data.rows);B.old_name=m.data.data.rows.menu_name,B.role=JSON.parse(m.data.data.rows.role_name),setTimeout(function(){return i.form=Object.assign({},B)},150)}),this.dialog=!0,this.insert=!1},openDialogPermission:function(v){this.dialogPermission=!0,this.loadingPermission=!0,this.form=Object.assign({},v),this.getPermissionRole(v)},getPermissionRole:function(v){var i=this;this.$axios.get("/api/master/permission-role",{params:{role:v.name}}).then(function(m){i.$refs.childDetails.setDataToDetails(m.data.data.rows)}).finally(function(m){i.loadingPermission=!1})},saveRolePermission:function(){var v=this;this.loadingPermission=!0;var i=this.$refs.childDetails.getAddData();this.$axios.post("/api/master/permission-role",{details:i,role:this.form.name}).then(function(m){v.$swal({icon:"success",title:"Success",text:m.data.message}),v.getPermissionRole(v.form)}).catch(function(m){v.$swal({type:"error",title:"Error",text:m.response.data.message})}).finally(function(m){v.loadingPermission=!1})},close:function(){var v=this;this.dialog=!1,this.statusProcessing="insert",setTimeout(function(){v.form=Object.assign({},v.defaultItem),v.editedIndex=-1},300)},save:function(){var v=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"all",i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:null,m=this,B=this.form,A=this.statusProcessing,K={form:B,status:A};A==="insert"?(this.store("post","/api/master/permissions",K,"insert",v),m.submitLoad=!1):A==="update"&&(this.store("put","/api/master/permissions/"+this.form.parent_id,K,"update",v),m.submitLoad=!1)},store:function(v,i,m,B){var A=this,K=arguments.length>4&&arguments[4]!==void 0?arguments[4]:"all",Y=this;Y.submitLoad=!0,this.$axios({method:v,url:i,data:m}).then(function(W){W.data.status==="Error"?(A.$swal({type:"error",title:"Error",text:W.data.message}),Y.submitLoad=!1):(A.dialog=!1,A.message=W.data.message,setTimeout(function(){return A.message=!1},8e3),A.$nuxt.$emit("getMenu","nice payload"),A.getDataFromApi())}).catch(function(W){A.$swal({type:"error",title:"Error",text:W.response.data.message}),Y.submitLoad=!1})},changeCrud:function(v){v==="Y"?(this.form.index="Y",this.form.store="Y",this.form.edits="Y",this.form.erase="Y"):(this.form.index="",this.form.store="",this.form.edits="",this.form.erase="")}}},S=O,E=t(50),y=t(51),b=t.n(y),$=t(164),P=t(247),p=t(88),u=t(623),n=t(1018),g=t(591),a=t(572),f=t(617),d=t(612),U=t(246),N=t(615),M=t(830),l=t(831),s=t(637),o=t(587),r=t(589),c=t(570),h=Object(E.a)(S,D,V,!1,null,null,null),C=x.default=h.exports;b()(h,{VBtn:$.a,VCard:P.a,VCardActions:p.a,VCardText:p.b,VCardTitle:p.c,VCheckbox:u.a,VDataTable:n.a,VDialog:g.a,VDivider:a.a,VFlex:f.a,VForm:d.a,VIcon:U.a,VLayout:N.a,VRadio:M.a,VRadioGroup:l.a,VSelect:s.a,VSkeletonLoader:o.a,VSpacer:r.a,VTextField:c.a})},896:function(L,x,t){"use strict";t.r(x);var D=function(){var s=this,o=s.$createElement,r=s._self._c||o;return r("v-layout",[r("v-flex",{attrs:{sm12:""}},[r("div",{staticClass:"mt-0"},[r("v-skeleton-loader",{directives:[{name:"show",rawName:"v-show",value:s.loading,expression:"loading"}],staticClass:"mx-auto",attrs:{type:"table"}}),s._v(" "),r("v-data-table",{directives:[{name:"show",rawName:"v-show",value:!s.loading,expression:"!loading"}],staticClass:"elevation-1",attrs:{"mobile-breakpoint":0,headers:s.headers,items:s.allData,"items-per-page":20,options:s.options,"server-items-length":s.totalData,loading:s.loading,dense:"","footer-props":{"items-per-page-options":[20,50,100,-1]}},on:{"update:options":function(c){s.options=c}},scopedSlots:s._u([{key:"top",fn:function(){return[r("LazyMainToolbar",{staticClass:"has-border-bottom",attrs:{"document-status":s.documentStatus,"search-status":s.searchStatus,"item-search":s.itemSearch,"search-item":s.searchItem,search:s.search,filter:!1,title:"Users","title-button":"User"},on:{emitData:s.emitData,newData:s.newData}})]},proxy:!0},{key:"item.Action",fn:function(c){var h=c.item;return[r("v-btn",{attrs:{value:"left",small:"",icon:""},on:{click:function(C){return s.editItem(h)}}},[r("v-icon",{attrs:{left:""}},[s._v(`
              mdi-pencil-circle
            `)])],1),s._v(" "),r("v-btn",{attrs:{value:"center",small:"",icon:""},on:{click:function(C){return s.copyItem(h)}}},[r("v-icon",{attrs:{left:""}},[s._v(`
              mdi-content-copy
            `)])],1),s._v(" "),r("v-btn",{attrs:{value:"right",small:"",icon:""},on:{click:function(C){return s.$refs.dialogPermission.openDialogPermission(h,"Direct Permissions")}}},[r("v-icon",{attrs:{left:""}},[s._v(`
              mdi-playlist-edit
            `)])],1)]}}],null,!0)})],1)]),s._v(" "),r("DialogForm",{ref:"dialogForm",attrs:{"max-width":"600px","dialog-title":s.formTitle,"button-title":"Save"},scopedSlots:s._u([{key:"content",fn:function(){return[r("v-form",[r("v-layout",{attrs:{wrap:""}},[r("v-flex",{staticClass:"d-flex",attrs:{md12:""}},[r("v-layout",{attrs:{wrap:""}},[r("v-flex",{staticClass:"pa-2",attrs:{xs12:""}},[r("v-text-field",{attrs:{label:"Name",placeholder:"Name",outlined:"",dense:"",clearable:"","hide-details":"auto"},model:{value:s.form.name,callback:function(c){s.$set(s.form,"name",c)},expression:"form.name"}})],1),s._v(" "),r("v-flex",{staticClass:"pa-2",attrs:{xs12:""}},[r("v-text-field",{attrs:{label:"Username",placeholder:"Username",outlined:"",dense:"",clearable:"","hide-details":"auto"},model:{value:s.form.username,callback:function(c){s.$set(s.form,"username",c)},expression:"form.username"}})],1),s._v(" "),r("v-flex",{staticClass:"pa-2",attrs:{xs12:""}},[r("v-text-field",{attrs:{label:"E-mail",placeholder:"E-mail",outlined:"",dense:"",clearable:"","hide-details":"auto"},model:{value:s.form.email,callback:function(c){s.$set(s.form,"email",c)},expression:"form.email"}})],1),s._v(" "),r("v-flex",{staticClass:"pa-2",attrs:{xs12:""}},[r("v-autocomplete",{attrs:{items:s.itemRole,chips:"","deletable-chips":"","hide-no-data":"","small-chips":"",label:"Role",multiple:"",outlined:"",dense:"","hide-details":"auto"},model:{value:s.form.role,callback:function(c){s.$set(s.form,"role",c)},expression:"form.role"}})],1),s._v(" "),r("v-flex",{staticClass:"pa-2",attrs:{xs12:""}},[r("v-select",{attrs:{items:s.itemEntity,"hide-no-data":"",label:"Company",outlined:"",dense:"","item-text":"name","item-value":"id","hide-details":"auto",clearable:""},model:{value:s.form.entity_id,callback:function(c){s.$set(s.form,"entity_id",c)},expression:"form.entity_id"}})],1),s._v(" "),r("v-flex",{staticClass:"pa-2",attrs:{xs12:""}},[r("v-switch",{attrs:{inset:"",label:"Enabled"},model:{value:s.form.enabled,callback:function(c){s.$set(s.form,"enabled",c)},expression:"form.enabled"}})],1)],1)],1)],1)],1)]},proxy:!0},{key:"saveData",fn:function(){return[r("v-btn",{attrs:{color:"green darken-1",small:"",dark:"",loading:s.submitLoad},on:{click:function(c){return s.save()}}},[s._v(`
        Save
      `)])]},proxy:!0}])}),s._v(" "),r("MasterDialogPermission",{ref:"dialogPermission"})],1)},V=[],T=t(59),j=t(21),I=t(283),F=t(9),R=t(4),O={name:"MasterUser",layout:"dashboard",data:function(){return{totalData:0,editedIndex:-1,loadNewBtn:!1,submitLoad:!1,statusProcessing:"insert",show:!1,dialog:!1,message:!1,loading:!0,loadingSync:!1,searchItem:"",searchRole:"",search:"",searchStatus:"",allData:[],itemRole:[],itemEntity:[],itemSearch:[],documentStatus:[],options:{},sub_id:{},url:"",form:{},defaultForm:{},headers:[{text:"Username",value:"username"},{text:"Name",value:"name"},{text:"Email",value:"email"},{text:"Enabled",value:"enabled"},{text:"Role",value:"role"},{text:"Action",value:"Action",align:"end"}]}},head:function(){return{title:"Master Users"}},computed:{formTitle:function(){return this.editedIndex===-1?"New User":"Edit User"}},watch:{options:{handler:function(){this.getDataFromApi()},deep:!0}},mounted:function(){var o=this;setTimeout(function(){o.refreshData()},500)},methods:{emitData:function(o){this.documentStatus=o.documentStatus,this.itemSearch=o.itemSearch,this.searchStatus=o.searchStatus,this.searchItem=o.searchItem,this.search=o.search,this.filters=o.filters,this.getDataFromApi()},refreshData:function(){this.getDataFromApi(),this.getRole(),this.getEntity()},getRole:function(){var o=this;this.$axios.get("/api/master/roles").then(function(r){o.itemRole=r.data.data.simple}).catch(function(r){o.$swal({type:"error",title:"Error",text:r.response.data.message})})},getEntity:function(){var o=this;this.$axios.get("/api/entities").then(function(r){o.itemEntity=r.data.data.rows}).catch(function(r){o.$swal({type:"error",title:"Error",text:r.response.data.message})})},getDataFromApi:function(){var o=this;this.loading=!0;var r=this;this.$axios.get("/api/master/users",{params:{options:r.options,searchItem:r.searchItem,documentStatus:r.documentStatus,searchStatus:r.searchStatus,search:r.search}}).then(function(c){o.loading=!1,o.allData=c.data.data.rows,o.totalData=c.data.data.total,o.itemSearch=c.data.data.filter,o.form=Object.assign({},c.data.data.form),o.defaultForm=Object.assign({},c.data.data.form)}).catch(function(c){o.loading=!1,o.$swal({type:"error",title:"Error",text:c.response.data.message})})},newData:function(){var o=this;this.$refs.dialogForm.openDialog(),setTimeout(function(){o.form=Object.assign({},o.defaultForm),o.editedIndex=-1},300),this.statusProcessing="insert"},editItem:function(o){var r=o;r.role=JSON.parse(r.role),this.statusProcessing="update",this.editedIndex=this.allData.indexOf(o),this.form=Object.assign({},r),this.$refs.dialogForm.openDialog(),this.insert=!1},copyItem:function(o){var r=o;r.role=JSON.parse(r.role),this.statusProcessing="copy",this.editedIndex=this.allData.indexOf(o),this.form=Object.assign({},r),this.$refs.dialogForm.openDialog(),this.insert=!1},close:function(){var o=this;this.statusProcessing="insert",this.dialog=!1,setTimeout(function(){o.form=Object.assign({},o.defaultForm),o.editedIndex=-1},300)},save:function(){var o=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"all",r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:null,c=this,h=this.form,C=this.statusProcessing;c.submitLoad=!0,C==="insert"?this.store("post","/api/master/users",h,"insert",o):C==="copy"?this.store("post","/api/master/users",h,"insert",o):C==="update"&&this.store("put","/api/master/users/"+this.form.id,h,"update",o)},store:function(o,r,c,h){var C=this,e=arguments.length>4&&arguments[4]!==void 0?arguments[4]:"all",v=this;v.submitLoad=!0,this.$axios({method:o,url:r,data:c}).then(function(i){C.dialog=!1,C.$swal({type:"success",title:"Success!",text:i.data.message}),C.$refs.dialogForm.closeDialog(),C.getDataFromApi(),v.submitLoad=!1}).catch(function(i){C.$swal({type:"error",title:"Error",text:i.response.data.message}),v.submitLoad=!1})}}},S=O,E=t(50),y=t(51),b=t.n(y),$=t(643),P=t(164),p=t(1018),u=t(617),n=t(612),g=t(246),a=t(615),f=t(637),d=t(587),U=t(1e3),N=t(570),M=Object(E.a)(S,D,V,!1,null,null,null),l=x.default=M.exports;b()(M,{DialogForm:t(613).default,MasterDialogPermission:t(639).default}),b()(M,{VAutocomplete:$.a,VBtn:P.a,VDataTable:p.a,VFlex:u.a,VForm:n.a,VIcon:g.a,VLayout:a.a,VSelect:f.a,VSkeletonLoader:d.a,VSwitch:U.a,VTextField:N.a})}}]);
