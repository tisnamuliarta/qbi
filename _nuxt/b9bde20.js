(window.webpackJsonp=window.webpackJsonp||[]).push([[39,37],{1094:function(D,_,a){"use strict";a.r(_);var d=a(21),w=a(268),A=a(27),P=function(){var t=this,e=t._self._c;return e("v-row",{attrs:{dense:""}},[e("v-col",{attrs:{cols:"12",md:"9",sm:"8"}},[e("v-row",{attrs:{dense:""}},[e("v-col",{attrs:{cols:"12",md:"3",sm:"12"}},[e("v-autocomplete",{attrs:{items:t.itemContact,label:"Customer/Vendor","return-object":"","item-value":"id","item-text":"name",outlined:"",dense:"","hide-details":"auto",clearable:""},on:{change:t.changeContact},model:{value:t.form.contact_id,callback:function(o){t.$set(t.form,"contact_id",o)},expression:"form.contact_id"}})],1),t._v(" "),e("v-col",{attrs:{cols:"12",lg:"2",md:"2",sm:"6"}},[e("v-select",{attrs:{items:t.itemPaymentTerm,"item-value":"id","item-text":"name",label:"Payment Term",outlined:"",dense:"","hide-details":"auto",clearable:""},on:{change:t.changePaymentTerm},model:{value:t.form.payment_term_id,callback:function(o){t.$set(t.form,"payment_term_id",o)},expression:"form.payment_term_id"}})],1),t._v(" "),e("v-col",{attrs:{cols:"12",lg:"2",md:"2",sm:"6"}},[e("v-text-field",{attrs:{label:"Transaction Date","persistent-hint":"",outlined:"",dense:"","hide-details":"auto",type:"date"},on:{change:t.changePaymentTerm},model:{value:t.form.transaction_date,callback:function(o){t.$set(t.form,"transaction_date",o)},expression:"form.transaction_date"}})],1),t._v(" "),e("v-col",{attrs:{cols:"12",lg:"2",md:"2",sm:"6"}},[e("v-text-field",{attrs:{label:"Due Date","persistent-hint":"",outlined:"",dense:"",type:"date","hide-details":"auto"},model:{value:t.form.due_date,callback:function(o){t.$set(t.form,"due_date",o)},expression:"form.due_date"}})],1),t._v(" "),e("v-col",{attrs:{cols:"12",md:"2"}}),t._v(" "),e("v-col",{attrs:{cols:"12",md:"3",sm:"6"}},[e("v-text-field",{attrs:{label:"No Contract",outlined:"",dense:"","hide-details":"auto"},model:{value:t.form.reference_no,callback:function(o){t.$set(t.form,"reference_no",o)},expression:"form.reference_no"}})],1),t._v(" "),e("v-col",{attrs:{cols:"12",md:"6"}},[e("v-combobox",{attrs:{items:t.itemTag,"search-input":t.search,"hide-selected":"",label:"Tags","hide-details":"",dense:"",multiple:"","persistent-hint":"","small-chips":"",outlined:""},on:{"update:searchInput":function(o){t.search=o},"update:search-input":function(o){t.search=o}},scopedSlots:t._u([{key:"no-data",fn:function(){return[e("v-list-item",[e("v-list-item-content",[e("v-list-item-title",[t._v(`
                    No results matching "`),e("strong",[t._v(t._s(t.search))]),t._v('". Press '),e("kbd",[t._v("enter")]),t._v(` to create a new one
                  `)])],1)],1)]},proxy:!0}]),model:{value:t.form.tags,callback:function(o){t.$set(t.form,"tags",o)},expression:"form.tags"}})],1),t._v(" "),e("v-col",{attrs:{cols:"12",md:"2"}}),t._v(" "),e("v-col",{attrs:{cols:"12",md:"3"}},[e("v-autocomplete",{attrs:{items:t.itemWarehouse,"item-value":"id","item-text":"name",label:"Warehouse",outlined:"",dense:"","persistent-hint":"","hide-details":"auto",clearable:""},on:{change:t.changeWarehouse},model:{value:t.form.warehouse_id,callback:function(o){t.$set(t.form,"warehouse_id",o)},expression:"form.warehouse_id"}})],1),t._v(" "),t.formType==="CS"||t.formType==="CP"?e("v-col",{attrs:{cols:"12",lg:"2",md:"2",sm:"6"}},[e("v-select",{attrs:{items:t.itemPaymentMethod,"item-value":"id","item-text":"name",label:"Payment Method",outlined:"",dense:"","hide-details":"auto"},model:{value:t.form.payment_term_id,callback:function(o){t.$set(t.form,"payment_term_id",o)},expression:"form.payment_term_id"}})],1):t._e(),t._v(" "),t.formType==="CS"||t.formType==="CP"?e("v-col",{attrs:{cols:"12",md:"4",sm:"12"}},[e("v-autocomplete",{attrs:{items:t.itemAccounts,label:"Deposit Account","return-object":"","item-value":"id","item-text":"name",outlined:"",dense:"","hide-details":"auto"},model:{value:t.form.account_id,callback:function(o){t.$set(t.form,"account_id",o)},expression:"form.account_id"}})],1):t._e(),t._v(" "),t.form.transaction_type==="IN"||t.form.transaction_type==="CS"?e("v-col",{attrs:{cols:"12",md:"5"}},[e("v-autocomplete",{attrs:{items:t.itemSalesPersons,"item-value":"user_id","item-text":"first_name",label:"Sales Person",outlined:"",dense:"",multiple:"","persistent-hint":"","small-chips":"",clearable:"","hide-details":"auto"},model:{value:t.form.sales_person,callback:function(o){t.$set(t.form,"sales_person",o)},expression:"form.sales_person"}})],1):t._e()],1)],1),t._v(" "),e("v-spacer"),t._v(" "),e("v-col",{staticClass:"text-right",attrs:{cols:"12",md:"3",xl:"2",sm:"4"}},[e("v-row",{attrs:{dense:""}},[e("v-col",{staticClass:"pt-0",attrs:{cols:"12"}},[e("p",{staticClass:"mb-0"},[t._v("Amount Due")]),t._v(" "),e("span",{staticClass:"text-right font-weight-bold text-h4"},[t._v(`
            `+t._s(isNaN(t.form.balance_due)?0:t.$formatter.formatPrice(t.form.balance_due))+`
          `)])]),t._v(" "),e("v-col",{attrs:{cols:"12"}},[e("v-chip",{attrs:{label:"",color:t.$formatter.statusColor(t.form.status),dark:""}},[t._v(`
            `+t._s(t.form.status))])],1)],1)],1),t._v(" "),e("v-col",{staticClass:"mt-n5",attrs:{cols:"12"}},[e("v-card",{attrs:{flat:""}},[e("v-tabs",{attrs:{"align-with-title":"",color:"black","slider-color":"green","slider-size":"4"},model:{value:t.tab,callback:function(o){t.tab=o},expression:"tab"}},[e("v-tab",{attrs:{href:"#tab-1"}},[t._v(" Content ")]),t._v(" "),e("v-tab",{attrs:{href:"#tab-2"}},[t._v(" Details ")])],1),t._v(" "),e("v-tabs-items",{model:{value:t.tab,callback:function(o){t.tab=o},expression:"tab"}},[e("v-tab-item",{attrs:{value:"tab-1"}},[e("div",{staticClass:"scroll-container-min"},[e("LazyDocumentTableDetail",{ref:"childDetails",attrs:{form:t.form},on:{calcTotal:t.calcTotal}})],1)]),t._v(" "),e("v-tab-item",{attrs:{value:"tab-2"}},[e("v-col",{attrs:{cols:"12",md:"4"}},[e("v-textarea",{attrs:{rows:"2",label:"Billing Address",outlined:"",dense:"","hide-details":"auto"},model:{value:t.form.contact_address,callback:function(o){t.$set(t.form,"contact_address",o)},expression:"form.contact_address"}})],1)],1)],1),t._v(" "),e("v-card-actions",[e("v-btn",{attrs:{small:"",depressed:"",outlined:""},on:{click:function(o){return t.$refs.childDetails.addLine(1)}}},[t._v(`
            Add Line
            `),e("v-icon",[t._v("mdi-plus")])],1)],1)],1)],1),t._v(" "),e("v-col",{attrs:{cols:"12",md:"4",lg:"4"}},[e("v-col",{attrs:{cols:"12",md:"12"}},[e("v-textarea",{attrs:{rows:"2",label:"Journal Remark",outlined:"",dense:"","hide-details":"auto"},model:{value:t.form.narration,callback:function(o){t.$set(t.form,"narration",o)},expression:"form.narration"}})],1),t._v(" "),t.$route.query.document!=="0"?e("v-col",{attrs:{cols:"12",md:"12"}},[e("DocumentFieldUpload",{ref:"uploadField",attrs:{"form-data":t.form,"form-type":"document"},on:{eventGetFiles:t.eventGetFiles}}),t._v(" "),t.itemFiles?e("v-col",{attrs:{cols:"12",md:"12"}},[e("v-simple-table",{attrs:{dense:""},scopedSlots:t._u([{key:"default",fn:function(){return[e("thead",[e("tr",[e("th",{staticClass:"text-left"},[t._v("File Name")]),t._v(" "),e("th",{staticClass:"text-left"},[t._v("Delete")])])]),t._v(" "),e("tbody",t._l(t.itemFiles,function(o){return e("tr",{key:o.id},[e("td",[e("a",{attrs:{target:"_blank",href:o.directory}},[t._v(t._s(o.filename))])]),t._v(" "),e("td",[e("v-btn",{attrs:{"x-small":"",color:"red darken-1",dark:""},on:{click:function(l){return t.$refs.uploadField.deleteFile(o)}}},[t._v("Remove")])],1)])}),0)]},proxy:!0}],null,!1,937874706)})],1):t._e()],1):t._e()],1),t._v(" "),e("v-spacer"),t._v(" "),e("v-col",{attrs:{cols:"12",md:"6",lg:"5"}},[e("v-row",{attrs:{dense:""}},[e("v-col",{attrs:{cols:"12"}},[e("v-row",{attrs:{dense:""}},[e("v-spacer"),t._v(" "),e("v-col",{staticClass:"text-right pa-1",attrs:{cols:"12",md:"4"}},[e("span",{staticClass:"font-weight-bold subtitle-1"},[t._v("Subtotal")])]),t._v(" "),e("v-col",{staticClass:"text-right pa-1",attrs:{cols:"12",md:"4"}},[e("span",{staticClass:"font-weight-bold subtitle-1"},[t._v(`
                `+t._s(isNaN(t.form.sub_total)?0:t.$formatter.formatPrice(t.form.sub_total))+`
              `)])])],1)],1),t._v(" "),e("v-col",{attrs:{cols:"12"}},[e("v-row",{staticClass:"align-right",attrs:{dense:""}},[e("v-spacer"),t._v(" "),e("v-col",{staticClass:"pa-1",attrs:{cols:"12",md:"4"}},[e("v-select",{attrs:{items:["Value","Percent"],label:"Discount Type",outlined:"",dense:"","hide-details":"auto"},model:{value:t.form.discount_type,callback:function(o){t.$set(t.form,"discount_type",o)},expression:"form.discount_type"}})],1),t._v(" "),e("v-col",{staticClass:"pa-1",attrs:{cols:"12",md:"3"}},[e("vuetify-money",{staticClass:"text-money",attrs:{"value-when-is-empty":t.valueWhenIsEmpty,options:t.moneyOptionTotalDiscount,label:"Discount Rate",outlined:"",dense:"","hide-details":"auto"},model:{value:t.form.discount_rate,callback:function(o){t.$set(t.form,"discount_rate",o)},expression:"form.discount_rate"}})],1),t._v(" "),e("v-col",{staticClass:"text-right pa-1",attrs:{cols:"12",md:"4"}},[e("span",{staticClass:"font-weight-bold subtitle-1"},[t._v(`
                `+t._s(isNaN(t.form.discount_amount)?0:t.$formatter.formatPrice(t.form.discount_amount))+`
              `)])])],1)],1),t._v(" "),e("v-col",{attrs:{cols:"12"}},t._l(t.form.tax_details,function(s,o){return e("v-row",{key:o,attrs:{dense:""}},[e("v-spacer"),t._v(" "),e("v-col",{staticClass:"text-right pa-1",attrs:{cols:"12",md:"4"}},[e("span",{staticClass:"font-weight-bold subtitle-1"},[t._v(t._s(s.name))])]),t._v(" "),e("v-col",{staticClass:"text-right pa-1",attrs:{cols:"12",md:"4"}},[e("span",{staticClass:"font-weight-bold subtitle-1"},[t._v(`
                `+t._s(isNaN(s.amount)?0:t.$formatter.formatPrice(s.amount))+`
              `)])])],1)}),1),t._v(" "),e("v-col",{attrs:{cols:"12"}},[e("v-row",{attrs:{dense:""}},[e("v-spacer"),t._v(" "),e("v-col",{staticClass:"text-right pa-1",attrs:{cols:"12",md:"4"}},[e("span",{staticClass:"font-weight-bold subtitle-1"},[t._v("Total")])]),t._v(" "),e("v-col",{staticClass:"text-right pa-1",attrs:{cols:"12",md:"4"}},[e("span",{staticClass:"font-weight-bold subtitle-1"},[t._v(`
                `+t._s(isNaN(t.form.main_account_amount)?0:t.$formatter.formatPrice(t.form.main_account_amount))+`
              `)])])],1)],1),t._v(" "),e("v-col",{attrs:{cols:"12"}},[e("v-row",{attrs:{dense:""}},[e("v-spacer"),t._v(" "),e("v-col",{staticClass:"text-right pa-1",attrs:{cols:"12",md:"4"}},[e("span",{staticClass:"font-weight-bold subtitle-1"},[t._v("Balance Due")])]),t._v(" "),e("v-col",{staticClass:"text-right pa-1",attrs:{cols:"12",md:"4"}},[e("span",{staticClass:"font-weight-bold subtitle-1"},[t._v(`
                `+t._s(isNaN(t.form.balance_due)?0:t.$formatter.formatPrice(t.form.balance_due))+`
              `)])])],1)],1)],1)],1)],1)},E=[],j=a(24),O=a(74),M=a(4),p=a(10),v=a(59),C=a(101),T={name:"FormDocument",props:{formType:{type:String,default:""}},data:function(){return{tab:null,menu:"",menu2:"",menu3:"",menu4:"",logo:"",search:null,selectedItem:1,dialog:!1,checkbox:!1,deposit:!1,tax:!0,withholding:!1,submitLoad:!1,showLoading:!1,form:{},itemCategory:[],itemUnit:[],itemContact:[],itemAccounts:[],itemTag:[],itemPaymentTerm:[],itemWarehouse:[],itemFiles:[],taxDetails:[],itemSalesPersons:[],itemPaymentMethod:[],statusProcessing:"insert",valueWhenIsEmpty:"0",tempTotalTax:0,subTotalMinDiscount:0,taxAmount:0,taxDiscount:0,amountBeforeTax:0,withholdingAmount:0,discountAmount:0,moneyOptions:{locale:"en",prefix:"",length:11,precision:0},moneyOptionTotal:{locale:"en",prefix:"",length:14,precision:2},moneyOptionTotalDiscount:{locale:"en",prefix:"",length:14,precision:0}}},computed:{depositAmount:function(){return this.form.deposit_amount},discountRate:function(){return this.form.discount_rate},discountType:function(){return this.form.discount_type},withholdingType:function(){return this.form.withholding_type},withholdingRate:function(){return this.form.withholding_rate},shippingFee:function(){return this.form.shipping_fee}},watch:{shippingFee:{handler:function(){this.changeCalculation()},deep:!0},depositAmount:{handler:function(){this.changeCalculation()},deep:!0},withholdingType:{handler:function(){this.changeCalculation()},deep:!0},discountType:{handler:function(){this.changeCalculation()},deep:!0},discountRate:{handler:function(){this.changeCalculation()},deep:!0},withholdingRate:{handler:function(){this.changeCalculation()},deep:!0}},activated:function(){var t=this;this.getMasterData(),this.$nextTick(function(){t.$nuxt.$loading.start()})},mounted:function(){},methods:{checkDisable:function(){return this.form.status==="closed"||this.form.status==="cancel"},statusColor:function(t){switch(t){case"open":return"blue darken-3";case"partial":return"orange";case"paid":return"green";case"closed":return"green";case"overdue":return"red";case"canceled":return"red"}},calcTotal:function(t){try{this.form.discount_per_line=t.discountAmount,this.form.sub_total=t.subTotal,this.form.tax_details=this.reduceArrayTax(t.taxDetail),this.taxDetails=t.taxDetail,this.form.main_account_amount=t.amount+this.tempTotalTax,this.form.balance_due=this.form.main_account_amount,this.subTotalMinDiscount=parseFloat(this.form.sub_total)-parseFloat(this.form.discount_per_line),this.form.sub_total===0&&(this.form.discount_rate=0,this.form.discount_amount=0),this.changeCalculation(t)}catch(e){console.log(e)}},changeCalculation:function(t){this.taxDetails.length>0&&(this.form.tax_details=this.reduceArrayTax(this.taxDetails)),this.form.discount_amount=0,this.form.discount_type==="Percent"?this.form.discount_rate>0&&(this.subTotalMinDiscount=parseFloat(this.form.sub_total)-parseFloat(this.form.discount_per_line),this.form.discount_amount=this.form.discount_rate/100*this.subTotalMinDiscount,this.taxDiscount=this.form.discount_rate/100*this.tempTotalTax):(this.form.discount_amount=parseFloat(this.form.discount_rate),this.tempTotalTax>0&&(this.taxDiscount=this.tempTotalTax-this.form.discount_amount)),this.taxAmount=parseFloat(this.tempTotalTax)-parseFloat(this.taxDiscount),this.taxAmount=this.taxAmount===void 0?0:this.taxAmount,this.taxDetails.length>0&&parseFloat(this.form.discount_rate)>0&&(this.form.tax_details=this.reduceArrayTaxAfterDiscount(this.taxDetails)),this.form.main_account_amount=parseFloat(this.form.sub_total)-parseFloat(this.form.discount_per_line)-parseFloat(this.form.discount_amount)+parseFloat(this.taxAmount),this.amountBeforeTax=this.form.main_account_amount-this.taxAmount,this.form.withholding_type==="Percent"?this.form.withholding_rate>0&&(this.form.withholding_amount=this.form.withholding_rate/100*this.amountBeforeTax):this.form.withholding_amount=parseFloat(this.form.withholding_rate),this.form.balance_due=this.form.main_account_amount-this.form.deposit_amount-this.form.withholding_amount-parseFloat(this.form.shipping_fee)},reduceArrayTaxAfterDiscount:function(t){var e=[],s=this;return t.reduce(function(o,n){if(o[n.name]||(o[n.name]={name:n.name,amount:0},e.push(o[n.name])),parseFloat(s.form.discount_rate)>0){var l=0;s.form.discount_type==="Percent"?l=parseFloat(s.form.discount_rate)/100*parseFloat(n.amount):l=parseFloat(s.form.discount_rate),o[n.name].amount=parseFloat(n.amount)-parseFloat(l)}return o},{}),e},reduceArrayTax:function(t){var e=[],s=this,o=0;return t.forEach(function(n,l){o+=parseFloat(n.amount)}),s.tempTotalTax=o,t.reduce(function(n,l){return n[l.name]||(n[l.name]={name:l.name,amount:0},e.push(n[l.name])),n[l.name].amount+=l.amount,n},{}),e},showLoad:function(t){this.showLoading=t},changeWarehouse:function(){this.setData(this.form)},setData:function(t){var e=this;this.showLoading=!0,setTimeout(function(){e.$refs.childDetails.setDataToDetails([{item_number:null,narration:null,qty:null,unit:null}],t)},500),this.form=Object.assign({},t),this.form.tax_details&&(this.form.tax_details=this.reduceArrayTax(this.form.tax_details)),this.moneyOptionTotal.prefix=this.form.default_currency_symbol,this.moneyOptionTotalDiscount.prefix=this.form.default_currency_symbol,this.moneyOptions.prefix=this.form.default_currency_symbol,this.statusProcessing="insert"},eventGetFiles:function(t){this.itemFiles=t.row},getMasterData:function(){var t=this;return Object(j.a)(regeneratorRuntime.mark(function e(){var s,o,n,l,k,z,N,G,W,U;return regeneratorRuntime.wrap(function(i){for(;;)switch(i.prev=i.next){case 0:return t.$nuxt.$loading.start(),i.prev=1,i.next=4,t.$axios.get("/api/master/categories",{params:{type:"Item Category"}});case 4:return s=i.sent,o="CURRENT_ASSET, BANK",(t.formType==="CS"||t.formType==="CP")&&(o="BANK"),i.next=9,t.$axios.get("/api/inventory/item-units");case 9:return n=i.sent,i.next=12,t.$axios.get("/api/inventory/warehouse");case 12:return l=i.sent,i.next=15,t.$axios.get("/api/financial/accounts",{params:{type:o}});case 15:return k=i.sent,i.next=18,t.$axios.get("/api/bp/contacts",{params:{type:t.formType}});case 18:return z=i.sent,i.next=21,t.$axios.get("/api/financial/payment-terms");case 21:return N=i.sent,i.next=24,t.$axios.get("/api/financial/payment-methods");case 24:return G=i.sent,i.next=27,t.$axios.get("/api/financial/taxes");case 27:return W=i.sent,i.next=30,t.$axios.get("/api/payroll/employees",{params:{type:"All"}});case 30:U=i.sent,t.itemCategory=s.data.simple,t.itemUnit=n.data.simple,t.itemAccounts=k.data.data,t.itemContact=z.data.data,t.itemPaymentTerm=N.data.auto_complete,t.itemPaymentMethod=G.data.data,t.itemWarehouse=l.data.data,t.$auth.$storage.removeState("tax"),t.$auth.$storage.setState("tax",W.data.simple),t.$auth.$storage.removeState("warehouse"),t.$auth.$storage.setState("warehouse",l.data.simple),t.$auth.$storage.setState("tax_row",W.data.data),t.$auth.$storage.setState("salesPerson",U.data.data),t.itemSalesPersons=U.data.data,t.uploadField&&t.$refs.uploadField.getFiles(),i.next=51;break;case 48:i.prev=48,i.t0=i.catch(1),t.$swal({type:"error",title:"Error",text:i.t0.response.data.error});case 51:case"end":return i.stop()}},e,null,[[1,48]])}))()},changePaymentTerm:function(){var t=this;this.$axios.get("/api/financial/payment-terms/"+this.form.payment_term_id).then(function(e){Date.prototype.addDays=function(o){var n=new Date(this.valueOf());return n.setDate(n.getDate()+o),n};var s=t.$moment(t.form.transaction_date);t.form.due_date=s.add(e.data.data.value,"days").format("YYYY-MM-DD")})},formatDate:function(t){var e=new Date(t),s=""+(e.getMonth()+1),o=""+e.getDate(),n=e.getFullYear();return s.length<2&&(s="0"+s),o.length<2&&(o="0"+o),[n,s,o].join("-")},changeContact:function(){var t=this.form.contact_id;t&&(this.form.contact_id=t.id,this.form.contact_address=t.address?t.address:this.form.contact_address,this.form.shipping_address=t.shipping_address?t.shipping_address:this.form.shipping_address)},checkDocument:function(){var t=this.$route.query.type;switch(t){case"SQ":case"PQ":return!1;default:return!0}},returnData:function(t){var e=this,s={},o=e.$refs.childDetails.getAddData(t);return o.forEach(function(n,l){e.$refs.childDetails.checkIfEmptyRow(l)||(s[l]=n)}),this.form.line_items=s,this.form},changeValue:function(t,e){this.form[t]=e}}},c=T,m=a(50),u=a(51),h=a.n(u),g=a(634),$=a(164),K=a(248),I=a(88),S=a(578),V=a(585),F=a(902),L=a(247),f=a(165),b=a(35),y=a(599),x=a(630),R=a(627),H=a(593),Y=a(594),J=a(698),Q=a(596),X=a(373),Z=a(574),q=a(659),B=Object(m.a)(c,P,E,!1,null,null,null),tt=_.default=B.exports;h()(B,{DocumentFieldUpload:a(642).default}),h()(B,{VAutocomplete:g.a,VBtn:$.a,VCard:K.a,VCardActions:I.a,VChip:S.a,VCol:V.a,VCombobox:F.a,VIcon:L.a,VListItem:f.a,VListItemContent:b.a,VListItemTitle:b.c,VRow:y.a,VSelect:x.a,VSimpleTable:R.a,VSpacer:H.a,VTab:Y.a,VTabItem:J.a,VTabs:Q.a,VTabsItems:X.a,VTextField:Z.a,VTextarea:q.a})},603:function(D,_,a){var d=a(604);d.__esModule&&(d=d.default),typeof d=="string"&&(d=[[D.i,d,""]]),d.locals&&(D.exports=d.locals);var w=a(15).default,A=w("146bc305",d,!0,{sourceMap:!1})},604:function(D,_,a){var d=a(14),w=d(!1);w.push([D.i,".theme--light.v-data-table{background-color:#fff;color:rgba(0,0,0,.87)}.theme--light.v-data-table .v-data-table__divider{border-right:thin solid rgba(0,0,0,.12)}.theme--light.v-data-table.v-data-table--fixed-header thead th{background:#fff;box-shadow:inset 0 -1px 0 rgba(0,0,0,.12)}.theme--light.v-data-table>.v-data-table__wrapper>table>thead>tr>th{color:rgba(0,0,0,.6)}.theme--light.v-data-table>.v-data-table__wrapper>table>tbody>tr:not(:last-child)>td:last-child,.theme--light.v-data-table>.v-data-table__wrapper>table>tbody>tr:not(:last-child)>td:not(.v-data-table__mobile-row),.theme--light.v-data-table>.v-data-table__wrapper>table>tbody>tr:not(:last-child)>th:last-child,.theme--light.v-data-table>.v-data-table__wrapper>table>tbody>tr:not(:last-child)>th:not(.v-data-table__mobile-row),.theme--light.v-data-table>.v-data-table__wrapper>table>thead>tr:last-child>th{border-bottom:thin solid rgba(0,0,0,.12)}.theme--light.v-data-table>.v-data-table__wrapper>table>tbody>tr.active{background:#f5f5f5}.theme--light.v-data-table>.v-data-table__wrapper>table>tbody>tr:hover:not(.v-data-table__expanded__content):not(.v-data-table__empty-wrapper){background:#eee}.theme--light.v-data-table>.v-data-table__wrapper>table>tfoot>tr>td:not(.v-data-table__mobile-row),.theme--light.v-data-table>.v-data-table__wrapper>table>tfoot>tr>th:not(.v-data-table__mobile-row){border-top:thin solid rgba(0,0,0,.12)}.theme--dark.v-data-table{background-color:#1e1e1e;color:#fff}.theme--dark.v-data-table .v-data-table__divider{border-right:thin solid hsla(0,0%,100%,.12)}.theme--dark.v-data-table.v-data-table--fixed-header thead th{background:#1e1e1e;box-shadow:inset 0 -1px 0 hsla(0,0%,100%,.12)}.theme--dark.v-data-table>.v-data-table__wrapper>table>thead>tr>th{color:hsla(0,0%,100%,.7)}.theme--dark.v-data-table>.v-data-table__wrapper>table>tbody>tr:not(:last-child)>td:last-child,.theme--dark.v-data-table>.v-data-table__wrapper>table>tbody>tr:not(:last-child)>td:not(.v-data-table__mobile-row),.theme--dark.v-data-table>.v-data-table__wrapper>table>tbody>tr:not(:last-child)>th:last-child,.theme--dark.v-data-table>.v-data-table__wrapper>table>tbody>tr:not(:last-child)>th:not(.v-data-table__mobile-row),.theme--dark.v-data-table>.v-data-table__wrapper>table>thead>tr:last-child>th{border-bottom:thin solid hsla(0,0%,100%,.12)}.theme--dark.v-data-table>.v-data-table__wrapper>table>tbody>tr.active{background:#505050}.theme--dark.v-data-table>.v-data-table__wrapper>table>tbody>tr:hover:not(.v-data-table__expanded__content):not(.v-data-table__empty-wrapper){background:#616161}.theme--dark.v-data-table>.v-data-table__wrapper>table>tfoot>tr>td:not(.v-data-table__mobile-row),.theme--dark.v-data-table>.v-data-table__wrapper>table>tfoot>tr>th:not(.v-data-table__mobile-row){border-top:thin solid hsla(0,0%,100%,.12)}.v-data-table{line-height:1.5;max-width:100%}.v-data-table>.v-data-table__wrapper>table{width:100%;border-spacing:0}.v-data-table>.v-data-table__wrapper>table>tbody>tr>td,.v-data-table>.v-data-table__wrapper>table>tbody>tr>th,.v-data-table>.v-data-table__wrapper>table>tfoot>tr>td,.v-data-table>.v-data-table__wrapper>table>tfoot>tr>th,.v-data-table>.v-data-table__wrapper>table>thead>tr>td,.v-data-table>.v-data-table__wrapper>table>thead>tr>th{padding:0 16px;transition:height .2s cubic-bezier(.4,0,.6,1)}.v-data-table>.v-data-table__wrapper>table>tbody>tr>th,.v-data-table>.v-data-table__wrapper>table>tfoot>tr>th,.v-data-table>.v-data-table__wrapper>table>thead>tr>th{-webkit-user-select:none;-moz-user-select:none;user-select:none;font-size:.75rem;height:48px}.v-application--is-ltr .v-data-table>.v-data-table__wrapper>table>tbody>tr>th,.v-application--is-ltr .v-data-table>.v-data-table__wrapper>table>tfoot>tr>th,.v-application--is-ltr .v-data-table>.v-data-table__wrapper>table>thead>tr>th{text-align:left}.v-application--is-rtl .v-data-table>.v-data-table__wrapper>table>tbody>tr>th,.v-application--is-rtl .v-data-table>.v-data-table__wrapper>table>tfoot>tr>th,.v-application--is-rtl .v-data-table>.v-data-table__wrapper>table>thead>tr>th{text-align:right}.v-data-table>.v-data-table__wrapper>table>tbody>tr>td,.v-data-table>.v-data-table__wrapper>table>tfoot>tr>td,.v-data-table>.v-data-table__wrapper>table>thead>tr>td{font-size:.875rem;height:48px}.v-data-table__wrapper{overflow-x:auto;overflow-y:hidden}.v-data-table__progress{height:auto!important}.v-data-table__progress th{height:auto!important;border:none!important;padding:0;position:relative}.v-data-table--dense>.v-data-table__wrapper>table>tbody>tr>td,.v-data-table--dense>.v-data-table__wrapper>table>tfoot>tr>td,.v-data-table--dense>.v-data-table__wrapper>table>thead>tr>td{height:32px}.v-data-table--dense>.v-data-table__wrapper>table>tbody>tr>th,.v-data-table--dense>.v-data-table__wrapper>table>tfoot>tr>th,.v-data-table--dense>.v-data-table__wrapper>table>thead>tr>th{height:48px}.v-data-table--has-top>.v-data-table__wrapper>table>tbody>tr:first-child:hover>td:first-child{border-top-left-radius:0}.v-data-table--has-top>.v-data-table__wrapper>table>tbody>tr:first-child:hover>td:last-child{border-top-right-radius:0}.v-data-table--has-bottom>.v-data-table__wrapper>table>tbody>tr:last-child:hover>td:first-child{border-bottom-left-radius:0}.v-data-table--has-bottom>.v-data-table__wrapper>table>tbody>tr:last-child:hover>td:last-child{border-bottom-right-radius:0}.v-data-table--fixed-header>.v-data-table__wrapper,.v-data-table--fixed-height .v-data-table__wrapper{overflow-y:auto}.v-data-table--fixed-header>.v-data-table__wrapper>table>thead>tr>th{border-bottom:0!important;position:-webkit-sticky;position:sticky;top:0;z-index:2}.v-data-table--fixed-header>.v-data-table__wrapper>table>thead>tr:nth-child(2)>th{top:48px}.v-application--is-ltr .v-data-table--fixed-header .v-data-footer{margin-right:17px}.v-application--is-rtl .v-data-table--fixed-header .v-data-footer{margin-left:17px}.v-data-table--fixed-header.v-data-table--dense>.v-data-table__wrapper>table>thead>tr:nth-child(2)>th{top:48px}",""]),D.exports=w},627:function(D,_,a){"use strict";var d=a(8),w=a.n(d),A=a(7),P=a.n(A),E=a(9),j=a.n(E),O=a(4),M=a.n(O),p=a(12),v=a.n(p),C=a(10),T=a.n(C),c=a(13),m=a.n(c),u=a(2),h=a(22),g=a.n(h),$=a(603),K=a.n($),I=a(1),S=a(16),V=a(5);function F(f,b){var y=Object.keys(f);if(Object.getOwnPropertySymbols){var x=Object.getOwnPropertySymbols(f);b&&(x=x.filter(function(R){return Object.getOwnPropertyDescriptor(f,R).enumerable})),y.push.apply(y,x)}return y}function L(f){for(var b=1;b<arguments.length;b++){var y=arguments[b]!=null?arguments[b]:{};b%2?F(Object(y),!0).forEach(function(x){Object(u.a)(f,x,y[x])}):Object.getOwnPropertyDescriptors?Object.defineProperties(f,Object.getOwnPropertyDescriptors(y)):F(Object(y)).forEach(function(x){Object.defineProperty(f,x,Object.getOwnPropertyDescriptor(y,x))})}return f}_.a=Object(V.a)(S.a).extend({name:"v-simple-table",props:{dense:Boolean,fixedHeader:Boolean,height:[Number,String]},computed:{classes:function(){return L({"v-data-table--dense":this.dense,"v-data-table--fixed-height":!!this.height&&!this.fixedHeader,"v-data-table--fixed-header":this.fixedHeader,"v-data-table--has-top":!!this.$slots.top,"v-data-table--has-bottom":!!this.$slots.bottom},this.themeClasses)}},methods:{genWrapper:function(){return this.$slots.wrapper||this.$createElement("div",{staticClass:"v-data-table__wrapper",style:{height:Object(I.i)(this.height)}},[this.$createElement("table",this.$slots.default)])}},render:function(b){return b("div",{staticClass:"v-data-table",class:this.classes},[this.$slots.top,this.genWrapper(),this.$slots.bottom])}})},642:function(D,_,a){"use strict";a.r(_);var d=function(){var c=this,m=c._self._c;return m("div",[m("dropzone",{ref:"attachment",attrs:{id:"attachment",options:c.options,"destroy-dropzone":!0},on:{"vdropzone-sending":function(h,g,$){return c.sendingParams(h,g,$)},"vdropzone-success":function(h,g){return c.reloadAttachment(h,g)},"vdropzone-error":function(h,g,$){return c.handleError(h,g,$)}}})],1)},w=[],A=a(59),P=a(657),E=a.n(P),j=a(658),O={name:"FieldUpload",components:{Dropzone:E.a},props:{formType:{type:String,default:""},formData:{type:Object,default:function(){return{}}}},data:function(){return{showLoadingAttachment:!1,form:this.formData,options:{url:window.location.protocol+"//"+window.location.hostname+"/qb-core/api/document-files",timeout:9e9,addRemoveLinks:!0,withCredentials:!0,thumbnailWidth:50,thumbnailHeight:50,acceptedFiles:"image/*, application/pdf",dictDefaultMessage:"<span class='mdi mdi-cloud-upload'></span> UPLOAD HERE",headers:{Authorization:this.$auth.$storage.getCookie("_token.local")}}}},methods:{sendingParams:function(c,m,u){var h=this.form.id!==0?this.form.id:this.form.temp_id;u.append("temp_id",h),u.append("type",this.formType)},handleError:function(c,m,u){this.$swal({type:"error",title:"Error...",text:m.message})},reloadAttachment:function(c,m){var u=this;m.errors?this.$swal({type:"error",title:"Oops...",text:m.message}):(setTimeout(function(){u.getFiles()},300),this.$swal({type:"success",title:"Success...",text:"Attachment uploaded!"}))},getFiles:function(){var c=this;this.showLoadingAttachment=!0;var m=this,u=this.form.id?this.form.id:this.form.temp_id;this.$axios.get(m.options.url,{params:{type:this.formType,temp_id:u}}).then(function(h){c.$emit("eventGetFiles",{row:h.data.rows}),m.showLoadingAttachment=!1}).catch(function(h){c.showLoadingAttachment=!1,c.$swal({type:"error",title:"Error...",text:h.response.message})})},deleteFile:function(c){var m=this,u=this;this.$swal({title:"Are you sure?",text:"The file will be permanently deleted",type:"warning",showCancelButton:!0,confirmButtonColor:"#3085d6",cancelButtonColor:"#d33",confirmButtonText:"Yes, delete it!"}).then(function(h){h.value&&m.$axios.delete(u.options.url,{params:{id:c.id}}).then(function(g){m.$swal({type:"success",title:"Success...",text:"Attachment Deleted!"}),u.getFiles()}).catch(function(g){m.$swal({type:"error",title:"Oops...",text:g.response.data.message})})})}}},M=O,p=a(50),v=Object(p.a)(M,d,w,!1,null,null,null),C=_.default=v.exports},698:function(D,_,a){"use strict";var d=a(179),w=a(102),A=a(120),P=a(1),E=a(5),j=Object(E.a)(d.a,Object(w.a)("windowGroup","v-window-item","v-window")),O=j.extend().extend().extend({name:"v-window-item",directives:{Touch:A.a},props:{disabled:Boolean,reverseTransition:{type:[Boolean,String],default:void 0},transition:{type:[Boolean,String],default:void 0},value:{required:!1}},data:function(){return{isActive:!1,inTransition:!1}},computed:{classes:function(){return this.groupClasses},computedTransition:function(){return this.windowGroup.internalReverse?typeof this.reverseTransition!="undefined"?this.reverseTransition||"":this.windowGroup.computedTransition:typeof this.transition!="undefined"?this.transition||"":this.windowGroup.computedTransition}},methods:{genDefaultSlot:function(){return this.$slots.default},genWindowItem:function(){return this.$createElement("div",{staticClass:"v-window-item",class:this.classes,directives:[{name:"show",value:this.isActive}],on:this.$listeners},this.genDefaultSlot())},onAfterTransition:function(){!this.inTransition||(this.inTransition=!1,this.windowGroup.transitionCount>0&&(this.windowGroup.transitionCount--,this.windowGroup.transitionCount===0&&(this.windowGroup.transitionHeight=void 0)))},onBeforeTransition:function(){this.inTransition||(this.inTransition=!0,this.windowGroup.transitionCount===0&&(this.windowGroup.transitionHeight=Object(P.i)(this.windowGroup.$el.clientHeight)),this.windowGroup.transitionCount++)},onTransitionCancelled:function(){this.onAfterTransition()},onEnter:function(v){var C=this;!this.inTransition||this.$nextTick(function(){!C.computedTransition||!C.inTransition||(C.windowGroup.transitionHeight=Object(P.i)(v.clientHeight))})}},render:function(v){var C=this;return v("transition",{props:{name:this.computedTransition},on:{beforeEnter:this.onBeforeTransition,afterEnter:this.onAfterTransition,enterCancelled:this.onTransitionCancelled,beforeLeave:this.onBeforeTransition,afterLeave:this.onAfterTransition,leaveCancelled:this.onTransitionCancelled,enter:this.onEnter}},this.showLazyContent(function(){return[C.genWindowItem()]}))}}),M=_.a=O.extend({name:"v-tab-item",props:{id:String},methods:{genWindowItem:function(){var v=O.options.methods.genWindowItem.call(this);return v.data.domProps=v.data.domProps||{},v.data.domProps.id=this.id||this.value,v}}})}}]);
