(window.webpackJsonp=window.webpackJsonp||[]).push([[77,31],{1122:function(T,h,l){"use strict";l.r(h);var f=l(633),k=l(165),p=l(249),s=l(587),b=l(585),g=l(624),c=l(598),y=l(629),$=l(588),v=l(697),x=l(595),D=l(373),i=l(573),_=function(){var e=this,a=e._self._c;return a("div",[a("DialogForm",{ref:"dialogForm",attrs:{"max-width":"600px","dialog-title":e.formTitle,"button-title":"Save"},scopedSlots:e._u([{key:"content",fn:function(){return[a(g.a,{staticClass:"pt-2"},[a(b.a,[a(c.a,{attrs:{dense:""}},[a(s.a,{attrs:{cols:"12",md:"4"}},[a(i.a,{attrs:{label:e.$t("First name"),outlined:"",dense:"","hide-details":"auto"},model:{value:e.form.first_name,callback:function(t){e.$set(e.form,"first_name",t)},expression:"form.first_name"}})],1),e._v(" "),a(s.a,{attrs:{cols:"12",md:"4"}},[a(i.a,{attrs:{label:e.$t("Middle name"),outlined:"",dense:"","hide-details":"auto"},model:{value:e.form.middle_name,callback:function(t){e.$set(e.form,"middle_name",t)},expression:"form.middle_name"}})],1),e._v(" "),a(s.a,{attrs:{cols:"12",md:"4"}},[a(i.a,{attrs:{label:e.$t("Last name"),outlined:"",dense:"","hide-details":"auto"},model:{value:e.form.last_name,callback:function(t){e.$set(e.form,"last_name",t)},expression:"form.last_name"}})],1),e._v(" "),a(s.a,{attrs:{cols:"12",md:"8"}},[a(i.a,{attrs:{label:"Email",outlined:"",dense:"","hide-details":"auto"},model:{value:e.form.email,callback:function(t){e.$set(e.form,"email",t)},expression:"form.email"}})],1),e._v(" "),a(s.a,{attrs:{cols:"12"}},[a(p.a,{attrs:{flat:""}},[a(x.a,{model:{value:e.tab,callback:function(t){e.tab=t},expression:"tab"}},e._l(e.items,function(o){return a($.a,{key:o.tab,attrs:{href:o.href}},[e._v(`
                    `+e._s(o.tab)+`
                  `)])}),1),e._v(" "),a(D.a,{model:{value:e.tab,callback:function(t){e.tab=t},expression:"tab"}},[a(v.a,{attrs:{value:"tab-1"}},[a(c.a,{staticClass:"mt-2",attrs:{dense:""}},[a(s.a,{attrs:{cols:"12",md:"5"}},[a(i.a,{attrs:{label:e.$t("Birth Date"),"prepend-icon":"mdi-calendar",type:"date","persistent-hint":"",outlined:"",dense:"","hide-details":"auto"},model:{value:e.form.birth_date,callback:function(t){e.$set(e.form,"birth_date",t)},expression:"form.birth_date"}})],1),e._v(" "),a(s.a,{attrs:{cols:"12",md:"5"}},[a(y.a,{attrs:{items:e.itemGender,"item-text":"name","item-value":"id",label:e.$t("Gender"),outlined:"",dense:"","hide-details":"auto"},model:{value:e.form.gender,callback:function(t){e.$set(e.form,"gender",t)},expression:"form.gender"}})],1),e._v(" "),a(s.a,{attrs:{cols:"12",md:"12"}},[a(i.a,{attrs:{label:e.$t("Address"),outlined:"",dense:"","hide-details":"auto"},model:{value:e.form.address,callback:function(t){e.$set(e.form,"address",t)},expression:"form.address"}})],1),e._v(" "),a(s.a,{attrs:{cols:"12",md:"12"}},[a(i.a,{attrs:{label:e.$t("City"),outlined:"",dense:"","hide-details":"auto"},model:{value:e.form.city,callback:function(t){e.$set(e.form,"city",t)},expression:"form.city"}})],1),e._v(" "),a(s.a,{attrs:{cols:"12",md:"12"}},[a(i.a,{attrs:{label:e.$t("Zip Code"),outlined:"",dense:"","hide-details":"auto"},model:{value:e.form.zip_code,callback:function(t){e.$set(e.form,"zip_code",t)},expression:"form.zip_code"}})],1),e._v(" "),a(s.a,{attrs:{cols:"12",md:"12"}},[a(i.a,{attrs:{label:e.$t("Home Phone"),outlined:"",dense:"","hide-details":"auto"},model:{value:e.form.home_phone,callback:function(t){e.$set(e.form,"home_phone",t)},expression:"form.home_phone"}})],1),e._v(" "),a(s.a,{attrs:{cols:"12",md:"12"}},[a(i.a,{attrs:{label:e.$t("Work Phone"),outlined:"",dense:"","hide-details":"auto"},model:{value:e.form.work_phone,callback:function(t){e.$set(e.form,"work_phone",t)},expression:"form.work_phone"}})],1),e._v(" "),a(s.a,{attrs:{cols:"12",md:"12"}},[a(i.a,{attrs:{label:e.$t("Mobile Phone"),outlined:"",dense:"","hide-details":"auto"},model:{value:e.form.mobile_phone,callback:function(t){e.$set(e.form,"mobile_phone",t)},expression:"form.mobile_phone"}})],1),e._v(" "),a(s.a,{attrs:{cols:"12",md:"12"}},[a(i.a,{attrs:{label:"National ID",outlined:"",dense:"","hide-details":"auto"},model:{value:e.form.national_id,callback:function(t){e.$set(e.form,"national_id",t)},expression:"form.national_id"}})],1)],1)],1),e._v(" "),a(v.a,{attrs:{value:"tab-2"}},[a(c.a,{staticClass:"mt-2",attrs:{dense:""}},[a(s.a,{attrs:{cols:"12",md:"12"}},[a(f.a,{attrs:{items:e.itemPaymentMethod,label:e.$t("Payment Method"),"item-text":"name","item-value":"id",outlined:"",dense:"","hide-details":"auto"},model:{value:e.form.payment_method,callback:function(t){e.$set(e.form,"payment_method",t)},expression:"form.payment_method"}})],1),e._v(" "),e.form.payment_method===2?a(s.a,{attrs:{cols:"12",md:"7"}},[a(i.a,{attrs:{label:e.$t("Bank Account Name"),outlined:"",dense:"","hide-details":"auto"},model:{value:e.form.bank_account_name,callback:function(t){e.$set(e.form,"bank_account_name",t)},expression:"form.bank_account_name"}})],1):e._e(),e._v(" "),e.form.payment_method===2?a(s.a,{attrs:{cols:"12",md:"7"}},[a(i.a,{attrs:{label:e.$t("Bank Account Number"),outlined:"",dense:"","hide-details":"auto"},model:{value:e.form.bank_account_number,callback:function(t){e.$set(e.form,"bank_account_number",t)},expression:"form.bank_account_number"}})],1):e._e()],1)],1),e._v(" "),a(v.a,{attrs:{value:"tab-3"}},[a(c.a,{staticClass:"mt-2",attrs:{dense:""}},[a(s.a,{attrs:{cols:"12",md:"12"}},[a(i.a,{attrs:{label:e.$t("Hire Date"),"prepend-icon":"mdi-calendar",type:"date","persistent-hint":"",outlined:"",dense:"","hide-details":"auto"},model:{value:e.form.hire_date,callback:function(t){e.$set(e.form,"hire_date",t)},expression:"form.hire_date"}})],1),e._v(" "),a(s.a,{attrs:{cols:"12",md:"12"}},[a(y.a,{attrs:{items:e.itemWorkLocation,"item-text":"name","item-value":"id",label:e.$t("Work Location"),outlined:"",dense:"","hide-details":"auto"},model:{value:e.form.work_location_id,callback:function(t){e.$set(e.form,"work_location_id",t)},expression:"form.work_location_id"}})],1),e._v(" "),a(s.a,{attrs:{cols:"12",md:"12"}},[a(i.a,{attrs:{label:"Employee ID",outlined:"",dense:"","hide-details":"auto"},model:{value:e.form.employee_id,callback:function(t){e.$set(e.form,"employee_id",t)},expression:"form.employee_id"}})],1)],1)],1),e._v(" "),a(v.a,{attrs:{value:"tab-4"}},[a(c.a,{staticClass:"mt-2",attrs:{dense:""}},[a(s.a,{attrs:{cols:"12",md:"12"}},[a(f.a,{attrs:{items:e.itemPaySchedule,label:e.$t("Pay Schedule"),"item-text":"name","item-value":"id",outlined:"",dense:"","hide-details":"auto"},model:{value:e.form.pay_schedule_id,callback:function(t){e.$set(e.form,"pay_schedule_id",t)},expression:"form.pay_schedule_id"}})],1),e._v(" "),a(s.a,{attrs:{cols:"12",md:"12"}},[a(f.a,{attrs:{items:e.itemPayType,label:e.$t("Pay Type"),outlined:"",dense:"","hide-details":"auto"},model:{value:e.form.pay_type,callback:function(t){e.$set(e.form,"pay_type",t)},expression:"form.pay_type"}})],1),e._v(" "),a(s.a,{attrs:{cols:"12",md:"12"}},[a(f.a,{attrs:{items:e.itemPayFrequency,label:e.$t("Pay Frequency"),outlined:"",dense:"","hide-details":"auto"},model:{value:e.form.pay_frequency,callback:function(t){e.$set(e.form,"pay_frequency",t)},expression:"form.pay_frequency"}})],1),e._v(" "),a(s.a,{attrs:{cols:"12",md:"12"}},[a(i.a,{attrs:{label:e.$t("Salary"),outlined:"",dense:"","hide-details":"auto"},model:{value:e.form.salary,callback:function(t){e.$set(e.form,"salary",t)},expression:"form.salary"}})],1),e._v(" "),a(s.a,{attrs:{cols:"12",md:"12"}},[a(i.a,{attrs:{label:e.$t("Per Hour Rate"),outlined:"",dense:"","hide-details":"auto"},model:{value:e.form.per_hour_rate,callback:function(t){e.$set(e.form,"per_hour_rate",t)},expression:"form.per_hour_rate"}})],1),e._v(" "),a(s.a,{attrs:{cols:"12",md:"12"}},[a(i.a,{attrs:{label:e.$t("Hour per day"),outlined:"",dense:"","hide-details":"auto"},model:{value:e.form.hour_per_day,callback:function(t){e.$set(e.form,"hour_per_day",t)},expression:"form.hour_per_day"}})],1),e._v(" "),a(s.a,{attrs:{cols:"12",md:"12"}},[a(i.a,{attrs:{label:e.$t("Day per week"),outlined:"",dense:"","hide-details":"auto"},model:{value:e.form.day_per_week,callback:function(t){e.$set(e.form,"day_per_week",t)},expression:"form.day_per_week"}})],1)],1)],1)],1)],1)],1)],1)],1)],1)]},proxy:!0},{key:"saveData",fn:function(){return[a(k.a,{attrs:{color:"green darken-1",dark:"",small:"",loading:e.submitLoad},on:{click:function(t){return e.save()}}},[e._v(`
        `+e._s(e.buttonTitle)+`
      `)])]},proxy:!0}])})],1)},u=[],n=l(24),d=l(214),F=l(58),P=l(73),S={name:"FormEmployee",props:{formTitle:{type:String,default:""},buttonTitle:{type:String,default:""},formData:{type:Object,default:function(){return{}}},formUrl:{type:String,default:""}},data:function(){return{dialog:!1,submitLoad:!1,show:!1,form:this.formData,defaultItem:this.formData,itemWorkLocation:[],statusProcessing:"insert",menu3:"",menu4:"",valueWhenIsEmpty:"0",url:"/api/payroll/employees",moneyOptions:{suffix:"",length:11,precision:2},tab:null,itemGender:[],itemPaymentMethod:[],itemPayFrequency:[],itemPaySchedule:[],itemPayType:[],items:[{tab:"Personal Info",href:"#tab-1"},{tab:"Payment method",href:"#tab-2"},{tab:"Employment details",href:"#tab-3"},{tab:"Pay types",href:"#tab-4"}]}},mounted:function(){this.getMasterData()},methods:{getMasterData:function(){var e=this;return Object(n.a)(regeneratorRuntime.mark(function a(){var m;return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,e.$axios.get("/api/payroll/work-locations");case 3:m=t.sent,e.itemWorkLocation=m.data.data,t.next=10;break;case 7:t.prev=7,t.t0=t.catch(0),e.$swal({type:"error",title:"Error",text:t.t0.response.data.error});case 10:case"end":return t.stop()}},a,null,[[0,7]])}))()},setItemGender:function(e){this.itemGender=e},setPaymentMethod:function(e){this.itemPaymentMethod=e},setPayFrequency:function(e){this.itemPayFrequency=e},setPayType:function(e){this.itemPayType=e},setPaySchedule:function(e){this.itemPaySchedule=e},newData:function(e){this.$refs.dialogForm.openDialog(),this.statusProcessing="insert",this.form=Object.assign({},e)},editItem:function(e){this.form=Object.assign({},e),this.statusProcessing="update",this.$refs.dialogForm.openDialog()},addLine:function(e){e==="email"?this.form.emails.push({email:null}):e==="bank"&&this.form.banks.push({name:null,branch:null,contact_account_name:null,contact_account_number:null})},removeLine:function(e,a,m){a==="email"?(this.form.emails.splice(e,1),this.$axios.delete("/api/bp/delete-email/"+m.email)):a==="bank"&&(this.form.banks.splice(e,1),this.$axios.delete("/api/bp/delete-bank/"+m.id))},close:function(){var e=this;this.$refs.dialogForm.closeDialog(),this.statusProcessing="insert",setTimeout(function(){e.form=Object.assign({},e.defaultItem)},300)},save:function(){var e=this,a=this.statusProcessing;a==="insert"?(this.store("post",this.url,this.form),e.submitLoad=!1):a==="update"&&(this.store("put",this.url+"/"+this.form.id,this.form),e.submitLoad=!1)},store:function(e,a,m){var o=this,t=this;t.submitLoad=!0,this.$axios({method:e,url:a,data:m}).then(function(L){o.$refs.dialogForm.closeDialog(),o.$emit("getDataFromApi")}).catch(function(L){o.$swal({type:"error",title:"Error",text:L.response.data.message}),t.submitLoad=!1})}}},C=S,I=l(50),V=Object(I.a)(C,_,u,!1,null,null,null),E=h.default=V.exports;installComponents(V,{DialogForm:l(600).default})},600:function(T,h,l){"use strict";l.r(h);var f=l(165),k=l(249),p=l(87),s=l(594),b=l(575),g=l(247),c=l(589),y=function(){var n=this,d=n._self._c;return d(s.a,{attrs:{"no-click-animation":"",persistent:"",scrollable:"",origin:n.original,"max-width":n.maxWidth,transition:"dialog-top-transition"},model:{value:n.dialog,callback:function(P){n.dialog=P},expression:"dialog"}},[d(k.a,[d(p.c,[d("span",{staticClass:"subtitle-2"},[n._v(n._s(n.dialogTitle))]),n._v(" "),d(c.a),n._v(" "),d(f.a,{attrs:{icon:"",color:"red",dark:""},on:{click:function(P){return n.closeDialog()}}},[d(g.a,[n._v("mdi-close-circle")])],1)],1),n._v(" "),d(b.a),n._v(" "),d(p.b,{staticClass:"pr-0 pl-0"},[n._t("content")],2),n._v(" "),d(b.a),n._v(" "),d(p.a,[n._t("addLine"),n._v(" "),d(c.a),n._v(" "),n._t("saveData")],2)],1)],1)},$=[],v={name:"DialogForm",props:{maxWidth:{type:String,default:"800px"},dialogTitle:{type:String,default:""},original:{type:String,default:null}},data:function(){return{dialog:!1}},methods:{addLine:function(){this.$emit("addLine")},openDialog:function(){this.dialog=!0},closeDialog:function(){this.dialog=!1,this.$emit("eventCloseDialog")},saveData:function(){this.$emit("saveData")}}},x=v,D=l(50),i=Object(D.a)(x,y,$,!1,null,null,null),_=h.default=i.exports}}]);
