(window.webpackJsonp=window.webpackJsonp||[]).push([[52,28],{1095:function(t,e,o){"use strict";o.r(e);o(27),o(214),o(59);var n={name:"FormContact",props:{formTitle:{type:String,default:""},buttonTitle:{type:String,default:""},formData:{type:Object,default:function(){return{}}}},data:function(){return{dialog:!1,submitLoad:!1,show:!1,form:this.formData,defaultItem:this.formData,itemCategory:[],itemUnit:[],itemAccounts:[],itemBank:[],itemPaymentTerm:[],statusProcessing:"insert",valueWhenIsEmpty:"0",url:"/api/bp/contacts",moneyOptions:{suffix:"",length:11,precision:2},tab:null,items:[{tab:"General Information",href:"#tab-1"},{tab:"List Of Bank",href:"#tab-2"},{tab:"Account Mapping",href:"#tab-3"},{tab:"Email",href:"#tab-4"}]}},mounted:function(){this.getAccounts(),this.getPaymentTerms(),this.getBanks()},methods:{newData:function(form,t){this.$refs.dialogForm.openDialog(),this.statusProcessing="insert",this.form=Object.assign({},t)},editItem:function(t){this.form=Object.assign({},t),this.statusProcessing="update",this.$refs.dialogForm.openDialog()},addLine:function(t){"email"===t?this.form.emails.push({email:null}):"bank"===t&&this.form.banks.push({name:null,branch:null,contact_account_name:null,contact_account_number:null})},removeLine:function(t,e,o){"email"===e?(this.form.emails.splice(t,1),this.$axios.delete("/api/bp/delete-email/"+o.email)):"bank"===e&&(this.form.banks.splice(t,1),this.$axios.delete("/api/bp/delete-bank/"+o.id))},getAccounts:function(){var t=this;this.$axios.get("/api/financial/accounts",{params:{type:"All"}}).then((function(e){t.itemAccounts=e.data.data})).catch((function(e){t.$swal({type:"error",title:"Error",text:e.response.data.message})}))},getPaymentTerms:function(){var t=this;this.$axios.get("/api/financial/payment-terms",{params:{type:"All"}}).then((function(e){t.itemPaymentTerm=e.data.auto_complete})).catch((function(e){t.$swal({type:"error",title:"Error",text:e.response.data.message})}))},getBanks:function(){var t=this;this.$axios.get("/api/master/banks",{params:{type:"All"}}).then((function(e){t.itemBank=e.data.simple})).catch((function(e){t.$swal({type:"error",title:"Error",text:e.response.data.message})}))},returnData:function(data){"Item Category"===data.type?this.itemCategory=data.item:"Item Unit"===data.type&&(this.itemUnit=data.item)},close:function(){var t=this;this.$refs.dialogForm.closeDialog(),this.statusProcessing="insert",setTimeout((function(){t.form=Object.assign({},t.defaultItem)}),300)},save:function(){var t=this.statusProcessing;"insert"===t?(this.store("post",this.url,this.form),this.submitLoad=!1):"update"===t&&(this.store("put",this.url+"/"+this.form.id,this.form),this.submitLoad=!1)},store:function(t,e,data){var o=this,n=this;n.submitLoad=!0,this.$axios({method:t,url:e,data:data}).then((function(t){o.$refs.dialogForm.closeDialog(),o.$emit("getDataFromApi")})).catch((function(t){o.$swal({type:"error",title:"Error",text:t.response.data.message}),n.submitLoad=!1}))}}},l=o(50),r=o(51),c=o.n(r),m=o(637),d=o(164),f=o(248),v=o(629),_=o(585),h=o(586),x=o(620),y=o(247),k=o(598),$=o(632),D=o(594),V=o(732),w=o(596),T=o(373),A=o(575),C=o(659),component=Object(l.a)(n,(function(){var t=this,e=t._self._c;return e("div",[e("DialogForm",{ref:"dialogForm",attrs:{"max-width":"700px","dialog-title":t.formTitle,"button-title":t.$t("Save")},scopedSlots:t._u([{key:"content",fn:function(){return[e("v-form",{staticClass:"pt-2"},[e("v-container",[e("v-row",{attrs:{dense:""}},[e("v-col",{attrs:{cols:"12",md:"4"}},[e("v-select",{attrs:{items:["Vendor","Customer","Other"],label:"Category",outlined:"","persistent-hint":"",dense:"","hide-details":"auto"},model:{value:t.form.type,callback:function(e){t.$set(t.form,"type",e)},expression:"form.type"}})],1),t._v(" "),e("v-col",{attrs:{cols:"12",md:"8"}},[e("v-text-field",{attrs:{label:"Name",outlined:"",dense:"","hide-details":"auto"},model:{value:t.form.name,callback:function(e){t.$set(t.form,"name",e)},expression:"form.name"}})],1),t._v(" "),e("v-col",{attrs:{cols:"12"}},[e("v-card",{attrs:{flat:""}},[e("v-tabs",{model:{value:t.tab,callback:function(e){t.tab=e},expression:"tab"}},t._l(t.items,(function(o){return e("v-tab",{key:o.tab,attrs:{href:o.href}},[t._v("\n                      "+t._s(o.tab)+"\n                    ")])})),1),t._v(" "),e("v-tabs-items",{model:{value:t.tab,callback:function(e){t.tab=e},expression:"tab"}},[e("v-tab-item",{attrs:{value:"tab-1"}},[e("v-row",{staticClass:"mt-2",attrs:{dense:""}},[e("v-col",{attrs:{cols:"12",md:"3"}},[e("v-select",{attrs:{items:["Mr.","Ms."],label:"Title",outlined:"",dense:"","hide-details":"auto"},model:{value:t.form.identify,callback:function(e){t.$set(t.form,"identify",e)},expression:"form.identify"}})],1),t._v(" "),e("v-col",{attrs:{cols:"12",md:"3"}},[e("v-text-field",{attrs:{label:"First Name",outlined:"",dense:"","hide-details":"auto"},model:{value:t.form.first_name,callback:function(e){t.$set(t.form,"first_name",e)},expression:"form.first_name"}})],1),t._v(" "),e("v-col",{attrs:{cols:"12",md:"3"}},[e("v-text-field",{attrs:{label:"Middle Name",outlined:"",dense:"","hide-details":"auto"},model:{value:t.form.middle_name,callback:function(e){t.$set(t.form,"middle_name",e)},expression:"form.middle_name"}})],1),t._v(" "),e("v-col",{attrs:{cols:"12",md:"3"}},[e("v-text-field",{attrs:{label:"Last Name",outlined:"",dense:"","hide-details":"auto"},model:{value:t.form.last_name,callback:function(e){t.$set(t.form,"last_name",e)},expression:"form.last_name"}})],1),t._v(" "),e("v-col",{attrs:{cols:"12",md:"3"}},[e("v-select",{attrs:{items:["Driver License","National ID","Passport"],label:"Identify By",outlined:"",dense:"","hide-details":"auto"},model:{value:t.form.identify_by,callback:function(e){t.$set(t.form,"identify_by",e)},expression:"form.identify_by"}})],1),t._v(" "),e("v-col",{attrs:{cols:"12",md:"9"}},[e("v-text-field",{attrs:{label:"Identify Number",outlined:"",dense:"","hide-details":"auto"},model:{value:t.form.identify_number,callback:function(e){t.$set(t.form,"identify_number",e)},expression:"form.identify_number"}})],1),t._v(" "),e("v-col",{attrs:{cols:"12",md:"6"}},[e("v-text-field",{attrs:{label:"Company Name",outlined:"",dense:"","hide-details":"auto"},model:{value:t.form.company_name,callback:function(e){t.$set(t.form,"company_name",e)},expression:"form.company_name"}})],1),t._v(" "),e("v-col",{attrs:{cols:"12",md:"6"}},[e("v-text-field",{attrs:{label:"Handphone",outlined:"",dense:"","hide-details":"auto"},model:{value:t.form.phone,callback:function(e){t.$set(t.form,"phone",e)},expression:"form.phone"}})],1),t._v(" "),e("v-col",{attrs:{cols:"12",md:"6"}},[e("v-text-field",{attrs:{label:"Fax",outlined:"",dense:"","hide-details":"auto"},model:{value:t.form.fax,callback:function(e){t.$set(t.form,"fax",e)},expression:"form.fax"}})],1),t._v(" "),e("v-col",{attrs:{cols:"12",md:"6"}},[e("v-text-field",{attrs:{label:"Tax Number",outlined:"",dense:"","hide-details":"auto"},model:{value:t.form.tax_number,callback:function(e){t.$set(t.form,"tax_number",e)},expression:"form.tax_number"}})],1),t._v(" "),e("v-col",{attrs:{cols:"12",md:"12"}},[e("v-textarea",{attrs:{rows:"3",label:"Billing Address",outlined:"",dense:"","hide-details":"auto"},model:{value:t.form.address,callback:function(e){t.$set(t.form,"address",e)},expression:"form.address"}})],1),t._v(" "),e("v-col",{attrs:{cols:"12",md:"12"}},[e("v-textarea",{attrs:{rows:"3",label:"Shipping Address",outlined:"",dense:"","hide-details":"auto"},model:{value:t.form.shipping_address,callback:function(e){t.$set(t.form,"shipping_address",e)},expression:"form.shipping_address"}})],1)],1)],1),t._v(" "),e("v-tab-item",{attrs:{value:"tab-2"}},[t._l(t.form.banks,(function(o,n){return e("v-row",{key:n,attrs:{dense:""}},[e("v-col",{attrs:{cols:"11"}},[e("v-col",{attrs:{cols:"12"}},[e("span",[t._v("Bank Account")]),t._v(" "),e("hr")]),t._v(" "),e("v-col",{attrs:{cols:"12"}},[e("v-autocomplete",{attrs:{items:t.itemBank,label:"Bank Name",outlined:"",dense:"","hide-details":"auto"},model:{value:o.name,callback:function(e){t.$set(o,"name",e)},expression:"item.name"}})],1),t._v(" "),e("v-col",{attrs:{cols:"12"}},[e("v-text-field",{attrs:{label:"Bank Branch",outlined:"",dense:"","hide-details":"auto"},model:{value:o.branch,callback:function(e){t.$set(o,"branch",e)},expression:"item.branch"}})],1),t._v(" "),e("v-col",{attrs:{cols:"12"}},[e("v-text-field",{attrs:{label:"Bank Holder Name",outlined:"",dense:"","hide-details":"auto"},model:{value:o.contact_account_name,callback:function(e){t.$set(o,"contact_account_name",e)},expression:"item.contact_account_name"}})],1),t._v(" "),e("v-col",{attrs:{cols:"12"}},[e("v-text-field",{attrs:{label:"Bank Holder Account",outlined:"",dense:"","hide-details":"auto"},model:{value:o.contact_account_number,callback:function(e){t.$set(o,"contact_account_number",e)},expression:"item.contact_account_number"}})],1)],1),t._v(" "),e("v-col",{attrs:{cols:"1"}},[e("v-btn",{attrs:{color:"red darken-1",dark:"",small:"",icon:""},on:{click:function(e){return t.removeLine(n,"bank",o)}}},[e("v-icon",[t._v(" mdi-delete ")])],1)],1)],1)})),t._v(" "),e("v-col",{attrs:{cols:"12"}},[e("v-btn",{attrs:{color:"green darken-1",dark:"",small:""},on:{click:function(e){return t.addLine("bank")}}},[t._v("\n                          Add Line\n                        ")])],1)],2),t._v(" "),e("v-tab-item",{attrs:{value:"tab-3"}},[e("v-row",{attrs:{dense:""}},[e("v-col",{staticClass:"mt-3",attrs:{cols:"12"}},[e("v-autocomplete",{attrs:{items:t.itemAccounts,"item-text":"name","item-value":"id",label:"Account Receivable",clearable:"",outlined:"",dense:"","hide-details":"auto"},model:{value:t.form.receivable_account_id,callback:function(e){t.$set(t.form,"receivable_account_id",e)},expression:"form.receivable_account_id"}})],1),t._v(" "),e("v-col",{attrs:{cols:"12"}},[e("v-autocomplete",{attrs:{items:t.itemAccounts,"item-text":"name","item-value":"id",label:"Account Payable",clearable:"",outlined:"",dense:"","hide-details":"auto"},model:{value:t.form.payable_account_id,callback:function(e){t.$set(t.form,"payable_account_id",e)},expression:"form.payable_account_id"}})],1),t._v(" "),e("v-col",{attrs:{cols:"12"}},[e("v-checkbox",{attrs:{dense:"","hide-details":"",label:"Active Max Payable"},model:{value:t.form.active_max_payable,callback:function(e){t.$set(t.form,"active_max_payable",e)},expression:"form.active_max_payable"}})],1),t._v(" "),t.form.active_max_payable?e("v-col",{attrs:{cols:"12"}},[e("vuetify-money",{attrs:{"value-when-is-empty":t.valueWhenIsEmpty,options:t.moneyOptions,label:"Max Payable",outlined:"",dense:"","hide-details":"auto"},model:{value:t.form.max_payable,callback:function(e){t.$set(t.form,"max_payable",e)},expression:"form.max_payable"}})],1):t._e(),t._v(" "),e("v-col",{attrs:{cols:"12"}},[e("v-autocomplete",{attrs:{items:t.itemPaymentTerm,"item-text":"name","item-value":"id",label:"Default Payment Term",clearable:"",outlined:"",dense:"","hide-details":"auto"},model:{value:t.form.payment_term_id,callback:function(e){t.$set(t.form,"payment_term_id",e)},expression:"form.payment_term_id"}})],1)],1)],1),t._v(" "),e("v-tab-item",{attrs:{value:"tab-4"}},[t._l(t.form.emails,(function(o,n){return e("v-row",{key:n,staticClass:"mt-2",attrs:{dense:""}},[e("v-col",{attrs:{cols:"11"}},[e("v-text-field",{attrs:{label:"Email",outlined:"",dense:"","hide-details":"auto"},model:{value:o.email,callback:function(e){t.$set(o,"email",e)},expression:"item.email"}})],1),t._v(" "),e("v-col",{attrs:{cols:"1"}},[e("v-btn",{attrs:{color:"red darken-1",dark:"",small:"",icon:""},on:{click:function(e){return t.removeLine(n,"email",o)}}},[e("v-icon",[t._v(" mdi-delete ")])],1)],1)],1)})),t._v(" "),e("v-col",{attrs:{cols:"12"}},[e("v-btn",{attrs:{color:"green darken-1",dark:"",small:""},on:{click:function(e){return t.addLine("email")}}},[t._v("\n                          Add Line\n                        ")])],1)],2)],1)],1)],1)],1)],1)],1)]},proxy:!0},{key:"saveData",fn:function(){return[e("v-btn",{attrs:{color:"green darken-1",dark:"",small:"",loading:t.submitLoad},on:{click:function(e){return t.save()}}},[t._v("\n          "+t._s(t.buttonTitle)+"\n        ")])]},proxy:!0}])})],1)}),[],!1,null,null,null);e.default=component.exports;c()(component,{DialogForm:o(603).default}),c()(component,{VAutocomplete:m.a,VBtn:d.a,VCard:f.a,VCheckbox:v.a,VCol:_.a,VContainer:h.a,VForm:x.a,VIcon:y.a,VRow:k.a,VSelect:$.a,VTab:D.a,VTabItem:V.a,VTabs:w.a,VTabsItems:T.a,VTextField:A.a,VTextarea:C.a})},603:function(t,e,o){"use strict";o.r(e);var n={name:"DialogForm",props:{maxWidth:{type:String,default:"800px"},dialogTitle:{type:String,default:""},original:{type:String,default:null}},data:function(){return{dialog:!1}},methods:{addLine:function(){this.$emit("addLine")},openDialog:function(){this.dialog=!0},closeDialog:function(){this.dialog=!1,this.$emit("eventCloseDialog")},saveData:function(){this.$emit("saveData")}}},l=o(50),r=o(51),c=o.n(r),m=o(164),d=o(248),f=o(88),v=o(595),_=o(576),h=o(247),x=o(593),component=Object(l.a)(n,(function(){var t=this,e=t._self._c;return e("v-dialog",{attrs:{"no-click-animation":"",persistent:"",scrollable:"",origin:t.original,"max-width":t.maxWidth,transition:"dialog-top-transition"},model:{value:t.dialog,callback:function(e){t.dialog=e},expression:"dialog"}},[e("v-card",[e("v-card-title",[e("span",{staticClass:"subtitle-2"},[t._v(t._s(t.dialogTitle))]),t._v(" "),e("v-spacer"),t._v(" "),e("v-btn",{attrs:{icon:"",color:"red",dark:""},on:{click:function(e){return t.closeDialog()}}},[e("v-icon",[t._v("mdi-close-circle")])],1)],1),t._v(" "),e("v-divider"),t._v(" "),e("v-card-text",{staticClass:"pr-0 pl-0"},[t._t("content")],2),t._v(" "),e("v-divider"),t._v(" "),e("v-card-actions",[t._t("addLine"),t._v(" "),e("v-spacer"),t._v(" "),t._t("saveData")],2)],1)],1)}),[],!1,null,null,null);e.default=component.exports;c()(component,{VBtn:m.a,VCard:d.a,VCardActions:f.a,VCardText:f.b,VCardTitle:f.c,VDialog:v.a,VDivider:_.a,VIcon:h.a,VSpacer:x.a})}}]);