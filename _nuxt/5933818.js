(window.webpackJsonp=window.webpackJsonp||[]).push([[25],{1065:function(h,O,t){"use strict";t.r(O);var a=function(){var e=this,s=e._self._c;return s("v-dialog",{attrs:{persistent:"","max-width":"800px"},model:{value:e.dialogAttachment,callback:function(d){e.dialogAttachment=d},expression:"dialogAttachment"}},[s("v-card",[s("v-card-title",[s("span",{staticClass:"font-weight-medium"},[e._v(`
          `+e._s(e.dialogTitle)+`
        `)])]),e._v(" "),s("v-card-text",[s("v-layout",{attrs:{wrap:""}},[s("v-row",[s("v-col",{staticClass:"mt-0",attrs:{cols:"12",md:"4",sm:"12"}},[s("dropzone",{ref:"attachment",attrs:{id:"attachment",options:e.options,"destroy-dropzone":!0},on:{"vdropzone-sending":function(d,m,I){return e.sendingParams(d,m,I)},"vdropzone-success":function(d,m){return e.reloadAttachment(d,m)},"vdropzone-error":function(d,m,I){return e.handleError(d,m,I)}}})],1),e._v(" "),s("v-col",{staticClass:"mt-0",attrs:{cols:"12",md:"8",sm:"12"}},[s("v-data-table",{staticClass:"elevation-1",attrs:{headers:e.headers,items:e.items,loading:e.showLoadingAttachment,dense:""},scopedSlots:e._u([{key:"item.action",fn:function(d){var m=d.item;return[s("v-tooltip",{attrs:{top:""},scopedSlots:e._u([{key:"activator",fn:function(U){var J=U.on,z=U.attrs;return[s("v-btn",e._g(e._b({attrs:{icon:""}},"v-btn",z,!1),J),[s("v-icon",{staticClass:"mr-2",attrs:{small:"",color:"orange"},on:{click:function(Z){return e.deleteFile(m)}}},[e._v(`
                          mdi-delete-circle
                        `)])],1)]}}],null,!0)},[e._v(" "),s("span",[e._v("Delete")])])]}},{key:"item.file_name",fn:function(d){var m=d.item;return[s("a",{attrs:{href:m.file_path,target:"_blank"},domProps:{textContent:e._s(m.file_name)}})]}}],null,!0)})],1)],1)],1)],1),e._v(" "),s("v-card-actions",[s("v-spacer"),e._v(" "),s("v-btn",{attrs:{color:"red darken-1",dark:"",small:""},on:{click:function(d){e.dialogAttachment=!1}}},[e._v(`
          close
        `)])],1)],1)],1)},f=[],P=t(59),M=t(660),p=t.n(M),V=t(661),y={name:"Attachment",components:{Dropzone:p.a},data:function(){return{dialogAttachment:!1,showLoadingAttachment:!1,dialogTitle:"Attachment",options:{url:"/qb-core/api/attachment",timeout:9e9,thumbnailWidth:50,thumbnailHeight:50,addRemoveLinks:!0,dictDefaultMessage:"<span class='mdi mdi-cloud-upload'></span> UPLOAD HERE",headers:{Authorization:this.$auth.$storage.getLocalStorage("_token.local")}},headers:[{text:"Attachment",value:"file_name"},{text:"Action",value:"action"}],items:[],total:0,source_id:null,type:null,row:null}},methods:{openAttachment:function(e,s,_){var d=this;this.dialogAttachment=!0,this.source_id=e,this.type=s,this.row=_,setTimeout(function(){d.getAttachment()},300)},sendingParams:function(e,s,_){_.append("source_id",this.source_id),_.append("type",this.type)},handleError:function(e,s,_){this.$swal({type:"error",title:"Oops...",text:s.message})},reloadAttachment:function(e,s){var _=this;s.errors?this.$swal({type:"error",title:"Oops...",text:s.message}):(this.$emit("eventCountAttachment",{total:s.data.count,row:this.row}),setTimeout(function(){_.getAttachment()},300),this.$swal({type:"success",title:"Success...",text:"Attachment uploaded!"}))},deleteFile:function(e){var s=this,_=this;this.$swal({title:"Are you sure?",text:"The file will be permanently deleted",type:"warning",showCancelButton:!0,confirmButtonColor:"#3085d6",cancelButtonColor:"#d33",confirmButtonText:"Yes, delete it!"}).then(function(d){d.value&&s.$axios.delete("/api/attachment",{params:{id:e.id}}).then(function(m){s.$swal({type:"success",title:"Success...",text:"Attachment Deleted!"}),_.getAttachment()}).catch(function(m){s.$swal({type:"error",title:"Oops...",text:m.response.data.message})})})},getAttachment:function(){var e=this;this.showLoadingAttachment=!0;var s=this;this.$axios.get("/api/attachment",{params:{type:s.type,source_id:s.source_id}}).then(function(_){s.items=_.data.data.rows,s.total=_.data.data.total,s.showLoadingAttachment=!1}).catch(function(_){e.showLoadingAttachment=!1,e.$swal({type:"error",title:"Oops...",text:_.response.message})})}}},W=y,j=t(50),L=t(51),C=t.n(L),B=t(164),K=t(248),i=t(88),n=t(585),r=t(908),v=t(595),g=t(247),E=t(615),D=t(599),X=t(593),S=t(848),$=Object(j.a)(W,a,f,!1,null,null,null),H=O.default=$.exports;C()($,{VBtn:B.a,VCard:K.a,VCardActions:i.a,VCardText:i.b,VCardTitle:i.c,VCol:n.a,VDataTable:r.a,VDialog:v.a,VIcon:g.a,VLayout:E.a,VRow:D.a,VSpacer:X.a,VTooltip:S.a})},599:function(h,O,t){"use strict";var a=t(7),f=t.n(a),P=t(9),M=t.n(P),p=t(12),V=t.n(p),y=t(13),W=t.n(y),j=t(2),L=t(4),C=t.n(L),B=t(33),K=t.n(B),i=t(52),n=t.n(i),r=t(28),v=t.n(r),g=t(8),E=t.n(g),D=t(21),X=t.n(D),S=t(65),$=t.n(S),H=t(269),A=t.n(H),e=t(32),s=t.n(e),_=t(270),d=t.n(_),m=t(271),I=t.n(m),U=t(272),J=t.n(U),z=t(273),it=t.n(z),Z=t(274),yt=t.n(Z),rt=t(275),Lt=t.n(rt),lt=t(276),Bt=t.n(lt),ct=t(277),It=t.n(ct),dt=t(278),Rt=t.n(dt),ut=t(279),xt=t.n(ut),vt=t(280),Wt=t.n(vt),mt=t(281),Kt=t.n(mt),ft=t(282),Ut=t.n(ft),Et=t(34),Vt=t.n(Et),ht=t(10),St=t.n(ht),Ot=t(283),$t=t.n(Ot),pt=t(3),Dt=t(78),Pt=t(1);function Q(u,l){var c=Object.keys(u);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(u);l&&(o=o.filter(function(R){return Object.getOwnPropertyDescriptor(u,R).enumerable})),c.push.apply(c,o)}return c}function b(u){for(var l=1;l<arguments.length;l++){var c=arguments[l]!=null?arguments[l]:{};l%2?Q(Object(c),!0).forEach(function(o){Object(j.a)(u,o,c[o])}):Object.getOwnPropertyDescriptors?Object.defineProperties(u,Object.getOwnPropertyDescriptors(c)):Q(Object(c)).forEach(function(o){Object.defineProperty(u,o,Object.getOwnPropertyDescriptor(c,o))})}return u}var Mt=["sm","md","lg","xl"],G=["start","end","center"];function F(u,l){return Mt.reduce(function(c,o){return c[u+Object(Pt.I)(o)]=l(),c},{})}var w=function(l){return[].concat(G,["baseline","stretch"]).includes(l)},k=F("align",function(){return{type:String,default:null,validator:w}}),q=function(l){return[].concat(G,["space-between","space-around"]).includes(l)},tt=F("justify",function(){return{type:String,default:null,validator:q}}),et=function(l){return[].concat(G,["space-between","space-around","stretch"]).includes(l)},st=F("alignContent",function(){return{type:String,default:null,validator:et}}),nt={align:Object.keys(k),justify:Object.keys(tt),alignContent:Object.keys(st)},jt={align:"align",justify:"justify",alignContent:"align-content"};function gt(u,l,c){var o=jt[u];if(c!=null){if(l){var R=l.replace(u,"");o+="-".concat(R)}return o+="-".concat(c),o.toLowerCase()}}var ot=new Map;O.a=pt.default.extend({name:"v-row",functional:!0,props:b(b(b({tag:{type:String,default:"div"},dense:Boolean,noGutters:Boolean,align:{type:String,default:null,validator:w}},k),{},{justify:{type:String,default:null,validator:q}},tt),{},{alignContent:{type:String,default:null,validator:et}},st),render:function(l,c){var o=c.props,R=c.data,At=c.children,N="";for(var Ct in o)N+=String(o[Ct]);var T=ot.get(N);return T||function(){var x;T=[];var Y;for(Y in nt)nt[Y].forEach(function(at){var Tt=o[at],_t=gt(Y,at,Tt);_t&&T.push(_t)});T.push((x={"no-gutters":o.noGutters,"row--dense":o.dense},Object(j.a)(x,"align-".concat(o.align),o.align),Object(j.a)(x,"justify-".concat(o.justify),o.justify),Object(j.a)(x,"align-content-".concat(o.alignContent),o.alignContent),x)),ot.set(N,T)}(),l(o.tag,Object(Dt.a)(R,{staticClass:"row",class:T}),At)}})},600:function(h,O,t){var a=t(375),f=t(47);h.exports=function(P,M,p){return p.get&&a(p.get,M,{getter:!0}),p.set&&a(p.set,M,{setter:!0}),f.f(P,M,p)}},615:function(h,O,t){"use strict";var a=t(284),f=t.n(a),P=t(285);O.a=Object(P.a)("layout")},730:function(h,O,t){var a=t(731);a.__esModule&&(a=a.default),typeof a=="string"&&(a=[[h.i,a,""]]),a.locals&&(h.exports=a.locals);var f=t(15).default,P=f("210504a4",a,!0,{sourceMap:!1})},731:function(h,O,t){var a=t(14),f=a(!1);f.push([h.i,".v-tooltip{display:none}.v-tooltip--attached{display:inline}.v-tooltip__content{background:rgba(97,97,97,.9);color:#fff;border-radius:4px;font-size:14px;line-height:22px;display:inline-block;padding:5px 16px;position:absolute;text-transform:none;width:auto;opacity:0;pointer-events:none}.v-tooltip__content.menuable__content__active{opacity:.9}.v-tooltip__content--fixed{position:fixed}.v-tooltip__content[class*=-active]{transition-timing-function:cubic-bezier(0,0,.2,1)}.v-tooltip__content[class*=enter-active]{transition-duration:.15s}.v-tooltip__content[class*=leave-active]{transition-duration:75ms}",""]),h.exports=f},848:function(h,O,t){"use strict";var a=t(2),f=t(22),P=t.n(f),M=t(730),p=t.n(M),V=t(115),y=t(25),W=t(199),j=t(133),L=t(244),C=t(1),B=t(11),K=t(5);O.a=Object(K.a)(y.a,W.a,j.a,L.a).extend({name:"v-tooltip",props:{closeDelay:{type:[Number,String],default:0},disabled:Boolean,openDelay:{type:[Number,String],default:0},openOnHover:{type:Boolean,default:!0},openOnFocus:{type:Boolean,default:!0},tag:{type:String,default:"span"},transition:String},data:function(){return{calculatedMinWidth:0,closeDependents:!1}},computed:{calculatedLeft:function(){var n=this.dimensions,r=n.activator,v=n.content,g=!this.bottom&&!this.left&&!this.top&&!this.right,E=this.attach!==!1?r.offsetLeft:r.left,D=0;return this.top||this.bottom||g?D=E+r.width/2-v.width/2:(this.left||this.right)&&(D=E+(this.right?r.width:-v.width)+(this.right?10:-10)),this.nudgeLeft&&(D-=parseInt(this.nudgeLeft)),this.nudgeRight&&(D+=parseInt(this.nudgeRight)),"".concat(this.calcXOverflow(D,this.dimensions.content.width),"px")},calculatedTop:function(){var n=this.dimensions,r=n.activator,v=n.content,g=this.attach!==!1?r.offsetTop:r.top,E=0;return this.top||this.bottom?E=g+(this.bottom?r.height:-v.height)+(this.bottom?10:-10):(this.left||this.right)&&(E=g+r.height/2-v.height/2),this.nudgeTop&&(E-=parseInt(this.nudgeTop)),this.nudgeBottom&&(E+=parseInt(this.nudgeBottom)),this.attach===!1&&(E+=this.pageYOffset),"".concat(this.calcYOverflow(E),"px")},classes:function(){return{"v-tooltip--top":this.top,"v-tooltip--right":this.right,"v-tooltip--bottom":this.bottom,"v-tooltip--left":this.left,"v-tooltip--attached":this.attach===""||this.attach===!0||this.attach==="attach"}},computedTransition:function(){return this.transition?this.transition:this.isActive?"scale-transition":"fade-transition"},offsetY:function(){return this.top||this.bottom},offsetX:function(){return this.left||this.right},styles:function(){return{left:this.calculatedLeft,maxWidth:Object(C.i)(this.maxWidth),minWidth:Object(C.i)(this.minWidth),top:this.calculatedTop,zIndex:this.zIndex||this.activeZIndex}}},beforeMount:function(){var n=this;this.$nextTick(function(){n.value&&n.callActivate()})},mounted:function(){Object(C.v)(this,"activator",!0)==="v-slot"&&Object(B.b)(`v-tooltip's activator slot must be bound, try '<template #activator="data"><v-btn v-on="data.on>'`,this)},methods:{activate:function(){this.updateDimensions(),requestAnimationFrame(this.startTransition)},deactivate:function(){this.runDelay("close")},genActivatorListeners:function(){var n=this,r=V.a.options.methods.genActivatorListeners.call(this);return this.openOnFocus&&(r.focus=function(v){n.getActivator(v),n.runDelay("open")},r.blur=function(v){n.getActivator(v),n.runDelay("close")}),r.keydown=function(v){v.keyCode===C.A.esc&&(n.getActivator(v),n.runDelay("close"))},r},genActivatorAttributes:function(){return{"aria-haspopup":!0,"aria-expanded":String(this.isActive)}},genTransition:function(){var n=this.genContent();return this.computedTransition?this.$createElement("transition",{props:{name:this.computedTransition}},[n]):n},genContent:function(){var n;return this.$createElement("div",this.setBackgroundColor(this.color,{staticClass:"v-tooltip__content",class:(n={},Object(a.a)(n,this.contentClass,!0),Object(a.a)(n,"menuable__content__active",this.isActive),Object(a.a)(n,"v-tooltip__content--fixed",this.activatorFixed),n),style:this.styles,attrs:this.getScopeIdAttrs(),directives:[{name:"show",value:this.isContentActive}],ref:"content"}),this.getContentSlot())}},render:function(n){var r=this;return n(this.tag,{staticClass:"v-tooltip",class:this.classes},[this.showLazyContent(function(){return[r.genTransition()]}),this.genActivator()])}})}}]);
