(window.webpackJsonp=window.webpackJsonp||[]).push([[76,31],{1121:function(F,f,a){"use strict";a.r(f);var O=function(){var t=this,s=t._self._c;return s("div",[s("DialogForm",{ref:"dialogForm",attrs:{"max-width":"1200px","dialog-title":"Payroll Summary","button-title":"Save",original:"top"},scopedSlots:t._u([{key:"content",fn:function(){return[s("v-container",[s("v-row",{attrs:{dense:""}},[s("v-col",{staticClass:"mt-0",attrs:{cols:"12",md:"2"}},[t._v("Pay Period")]),t._v(" "),s("v-col",{staticClass:"mt-0",attrs:{cols:"12",md:"2"}},[t._v(": "+t._s(t.transaction.from_date)+" to "+t._s(t.transaction.to_date))])],1),t._v(" "),s("v-row",{attrs:{dense:""}},[s("v-col",{staticClass:"mt-0",attrs:{cols:"12",md:"2"}},[t._v("Pay Date")]),t._v(" "),s("v-col",{staticClass:"mt-0",attrs:{cols:"12",md:"2"}},[t._v(": "+t._s(t.transaction.pay_date))])],1),t._v(" "),s("v-row",{attrs:{dense:""}},[s("v-col",{staticClass:"mt-0",attrs:{cols:"12",md:"2"}},[t._v("Total Payroll Cost")]),t._v(" "),s("v-col",{staticClass:"mt-0",attrs:{cols:"12",md:"2"}},[t._v(`:
              `),s("strong",[t._v(`
                `+t._s(t.$auth.user.entity.currency.currency_symbol+" "+t.$formatter.formatPrice(t.transaction.main_account_amount))+`
              `)])])],1),t._v(" "),s("v-row",[s("v-col",{staticClass:"mt-0",attrs:{cols:"12"}},[s("v-data-table",{staticClass:"elevation-0",attrs:{"mobile-breakpoint":0,headers:t.headers,items:t.allData,"items-per-page":150,options:t.options,"server-items-length":t.totalData,loading:t.loading,"show-select":"","fixed-header":"",height:"60vh","hide-default-footer":"",dense:"","footer-props":{"items-per-page-options":[150,250,500,-1]}},on:{"update:options":function(i){t.options=i}},scopedSlots:t._u([{key:"item.amount_allowance",fn:function(i){var c=i.item;return[c.amount_allowance?s("span",[t._v(`
                    `+t._s(t.$auth.user.entity.currency.currency_symbol+" "+t.$formatter.formatPrice(c.amount_allowance))+`
                  `)]):t._e()]}},{key:"item.amount_deduction",fn:function(i){var c=i.item;return[c.amount_deduction?s("span",[t._v(`
                    `+t._s(t.$auth.user.entity.currency.currency_symbol+" "+t.$formatter.formatPrice(c.amount_deduction))+`
                  `)]):t._e()]}},{key:"item.amount",fn:function(i){var c=i.item;return[c.amount?s("span",[t._v(`
                    `+t._s(t.$auth.user.entity.currency.currency_symbol+" "+t.$formatter.formatPrice(c.amount))+`
                  `)]):t._e()]}},{key:"body.append",fn:function(){return[s("tr",{staticClass:"black--text"},[s("th",{staticClass:"title"}),t._v(" "),s("th",{staticClass:"title"},[t._v("Total")]),t._v(" "),s("th",{staticClass:"title"}),t._v(" "),s("th",{staticClass:"title text-right"},[t._v(`
                      `+t._s(t.$auth.user.entity.currency.currency_symbol+" "+t.$formatter.formatPrice(t.sumField("amount_allowance")))+`
                    `)]),t._v(" "),s("th",{staticClass:"title text-right"},[t._v(`
                      `+t._s(t.$auth.user.entity.currency.currency_symbol+" "+t.$formatter.formatPrice(t.sumField("amount_deduction")))+`
                    `)]),t._v(" "),s("th",{staticClass:"title text-right"},[t._v(`
                      `+t._s(t.$auth.user.entity.currency.currency_symbol+" "+t.$formatter.formatPrice(t.sumField("amount")))+`
                    `)])])]},proxy:!0}],null,!0)})],1)],1)],1)]},proxy:!0},{key:"saveData",fn:function(){return[s("v-btn",{attrs:{loading:t.loading,small:"",dense:"",color:"primary"},on:{click:function(i){return t.printDocument(t.item)}}},[t._v("Print")])]},proxy:!0}])})],1)},C=[],h=a(4),K=a(32),T=a(34),U=a(651),B=a(291),L={name:"DialogItem",props:{viewData:{type:Boolean,default:!0},showAddBtn:{type:Boolean,default:!0}},data:function(){return{row:null,url:"",allData:[],item:[],transaction:[],totalData:0,loading:!1,options:{},headers:[{text:"Employee",value:"employee.full_name"},{text:"Pay Method",value:"employee.pay_method.name"},{text:"Total Pay",value:"amount_allowance",align:"right"},{text:"Employee Deductions",value:"amount_deduction",align:"right",class:"text-right"},{text:"Net Pay",value:"amount",align:"right"}]}},methods:{sumField:function(t){return this.allData.reduce(function(s,d){return parseFloat(s)+parseFloat(d[t]||0)},0)},openDialog:function(t){this.$refs.dialogForm.openDialog(),this.url="/api/payroll/summary/"+t.id,this.item=t,this.getDataFromApi()},printDocument:function(t){var s=this;this.loading=!0,this.$axios.get("/api/payroll/print/"+t.id,{params:{item:t},responseType:"arraybuffer"}).then(function(d){s.loading=!1;var m=window.URL.createObjectURL(new Blob([d.data])),i=document.createElement("a");i.href=m,i.setAttribute("download",t.transaction_no+".pdf"),document.body.appendChild(i),i.click()}).catch(function(d){s.loading=!1,s.$swal({type:"error",title:"Error",text:d.response.data.message})})},getDataFromApi:function(){var t=this;this.loading=!0,this.$axios.get(this.url).then(function(s){t.loading=!1;var d=s.data;t.allData=d.data.totals,t.transaction=d.data,t.totalData=d.total}).catch(function(s){t.loading=!1,t.$swal({type:"error",title:"Error",text:s.response.data.message})})}}},v=L,D=a(50),A=a(51),j=a.n(A),R=a(164),g=a(585),y=a(586),I=a(909),E=a(599),n=Object(D.a)(v,O,C,!1,null,null,null),l=f.default=n.exports;j()(n,{DialogForm:a(601).default}),j()(n,{VBtn:R.a,VCol:g.a,VContainer:y.a,VDataTable:I.a,VRow:E.a})},599:function(F,f,a){"use strict";var O=a(7),C=a.n(O),h=a(9),K=a.n(h),T=a(12),U=a.n(T),B=a(13),L=a.n(B),v=a(2),D=a(4),A=a.n(D),j=a(33),R=a.n(j),g=a(52),y=a.n(g),I=a(28),E=a.n(I),n=a(8),l=a.n(n),u=a(21),t=a.n(u),s=a(65),d=a.n(s),m=a(269),i=a.n(m),c=a(32),Mt=a.n(c),k=a(270),pt=a.n(k),q=a(271),Ct=a.n(q),tt=a(272),ht=a.n(tt),at=a(273),Tt=a.n(at),st=a(274),Bt=a.n(st),et=a(275),Lt=a.n(et),nt=a(276),At=a.n(nt),ot=a(277),Rt=a.n(ot),_t=a(278),It=a.n(_t),rt=a(279),Kt=a.n(rt),lt=a(280),Ut=a.n(lt),it=a(281),Wt=a.n(it),dt=a(282),xt=a.n(dt),ct=a(34),Vt=a.n(ct),ut=a(10),$t=a.n(ut),mt=a(283),St=a.n(mt),vt=a(3),Et=a(78),ft=a(1);function G(r,o){var _=Object.keys(r);if(Object.getOwnPropertySymbols){var e=Object.getOwnPropertySymbols(r);o&&(e=e.filter(function(M){return Object.getOwnPropertyDescriptor(r,M).enumerable})),_.push.apply(_,e)}return _}function W(r){for(var o=1;o<arguments.length;o++){var _=arguments[o]!=null?arguments[o]:{};o%2?G(Object(_),!0).forEach(function(e){Object(v.a)(r,e,_[e])}):Object.getOwnPropertyDescriptors?Object.defineProperties(r,Object.getOwnPropertyDescriptors(_)):G(Object(_)).forEach(function(e){Object.defineProperty(r,e,Object.getOwnPropertyDescriptor(_,e))})}return r}var Dt=["sm","md","lg","xl"],x=["start","end","center"];function V(r,o){return Dt.reduce(function(_,e){return _[r+Object(ft.I)(e)]=o(),_},{})}var N=function(o){return[].concat(x,["baseline","stretch"]).includes(o)},z=V("align",function(){return{type:String,default:null,validator:N}}),J=function(o){return[].concat(x,["space-between","space-around"]).includes(o)},H=V("justify",function(){return{type:String,default:null,validator:J}}),Q=function(o){return[].concat(x,["space-between","space-around","stretch"]).includes(o)},X=V("alignContent",function(){return{type:String,default:null,validator:Q}}),Y={align:Object.keys(z),justify:Object.keys(H),alignContent:Object.keys(X)},jt={align:"align",justify:"justify",alignContent:"align-content"};function Pt(r,o,_){var e=jt[r];if(_!=null){if(o){var M=o.replace(r,"");e+="-".concat(M)}return e+="-".concat(_),e.toLowerCase()}}var Z=new Map;f.a=vt.default.extend({name:"v-row",functional:!0,props:W(W(W({tag:{type:String,default:"div"},dense:Boolean,noGutters:Boolean,align:{type:String,default:null,validator:N}},z),{},{justify:{type:String,default:null,validator:J}},H),{},{alignContent:{type:String,default:null,validator:Q}},X),render:function(o,_){var e=_.props,M=_.data,Ot=_.children,$="";for(var gt in e)$+=String(e[gt]);var P=Z.get($);return P||function(){var p;P=[];var S;for(S in Y)Y[S].forEach(function(b){var yt=e[b],w=Pt(S,b,yt);w&&P.push(w)});P.push((p={"no-gutters":e.noGutters,"row--dense":e.dense},Object(v.a)(p,"align-".concat(e.align),e.align),Object(v.a)(p,"justify-".concat(e.justify),e.justify),Object(v.a)(p,"align-content-".concat(e.alignContent),e.alignContent),p)),Z.set($,P)}(),o(e.tag,Object(Et.a)(M,{staticClass:"row",class:P}),Ot)}})},601:function(F,f,a){"use strict";a.r(f);var O=function(){var n=this,l=n._self._c;return l("v-dialog",{attrs:{"no-click-animation":"",persistent:"",scrollable:"",origin:n.original,"max-width":n.maxWidth,transition:"dialog-top-transition"},model:{value:n.dialog,callback:function(t){n.dialog=t},expression:"dialog"}},[l("v-card",[l("v-card-title",[l("span",{staticClass:"subtitle-2"},[n._v(n._s(n.dialogTitle))]),n._v(" "),l("v-spacer"),n._v(" "),l("v-btn",{attrs:{icon:"",color:"red",dark:""},on:{click:function(t){return n.closeDialog()}}},[l("v-icon",[n._v("mdi-close-circle")])],1)],1),n._v(" "),l("v-divider"),n._v(" "),l("v-card-text",{staticClass:"pr-0 pl-0"},[n._t("content")],2),n._v(" "),l("v-divider"),n._v(" "),l("v-card-actions",[n._t("addLine"),n._v(" "),l("v-spacer"),n._v(" "),n._t("saveData")],2)],1)],1)},C=[],h={name:"DialogForm",props:{maxWidth:{type:String,default:"800px"},dialogTitle:{type:String,default:""},original:{type:String,default:null}},data:function(){return{dialog:!1}},methods:{addLine:function(){this.$emit("addLine")},openDialog:function(){this.dialog=!0},closeDialog:function(){this.dialog=!1,this.$emit("eventCloseDialog")},saveData:function(){this.$emit("saveData")}}},K=h,T=a(50),U=a(51),B=a.n(U),L=a(164),v=a(248),D=a(88),A=a(595),j=a(576),R=a(247),g=a(593),y=Object(T.a)(K,O,C,!1,null,null,null),I=f.default=y.exports;B()(y,{VBtn:L.a,VCard:v.a,VCardActions:D.a,VCardText:D.b,VCardTitle:D.c,VDialog:A.a,VDivider:j.a,VIcon:R.a,VSpacer:g.a})}}]);
