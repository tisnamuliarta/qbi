(window.webpackJsonp=window.webpackJsonp||[]).push([[14,18],{1109:function(c,d,o){"use strict";o.r(d);var i=function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("div",[e("DialogForm",{ref:"dialogForm",attrs:{"max-width":"600px","dialog-title":t.formTitle,"button-title":"Save"},scopedSlots:t._u([{key:"content",fn:function(){return[e("v-form",{staticClass:"pt-2"},[e("v-container",[e("v-row",{attrs:{dense:""}},[e("v-col",{attrs:{cols:"12",md:"7"}},[e("v-row",{attrs:{dense:""}},[e("v-col",{attrs:{cols:"12"}},[e("v-autocomplete",{attrs:{items:t.itemAccountType,label:"Account Type",outlined:"","persistent-hint":"",dense:"","hide-details":"auto"},on:{change:t.changeAccountType},model:{value:t.form.account_type,callback:function(s){t.$set(t.form,"account_type",s)},expression:"form.account_type"}})],1),t._v(" "),e("v-col",{attrs:{cols:"12"}},[e("v-autocomplete",{attrs:{items:t.itemCategory,label:"Category","item-text":"name","item-value":"id",outlined:"","persistent-hint":"",dense:"","hide-details":"auto"},on:{change:t.changeCategory},model:{value:t.form.category_id,callback:function(s){t.$set(t.form,"category_id",s)},expression:"form.category_id"}})],1),t._v(" "),e("v-col",{attrs:{cols:"12"}},[e("v-text-field",{attrs:{label:"Name",outlined:"",dense:"","hide-details":"auto"},model:{value:t.form.name,callback:function(s){t.$set(t.form,"name",s)},expression:"form.name"}})],1),t._v(" "),e("v-col",{attrs:{cols:"12"}},[e("v-text-field",{attrs:{label:"Number",outlined:"",dense:"","hide-details":"auto"},model:{value:t.form.code,callback:function(s){t.$set(t.form,"code",s)},expression:"form.code"}})],1),t._v(" "),e("v-col",{attrs:{cols:"12"}},[e("v-textarea",{attrs:{rows:"3",label:"Description",outlined:"",dense:"","hide-details":"auto"},model:{value:t.form.description,callback:function(s){t.$set(t.form,"description",s)},expression:"form.description"}})],1),t._v(" "),e("v-col",{attrs:{cols:"12"}},[e("v-menu",{ref:"menu",attrs:{"close-on-content-click":!1,transition:"scale-transition","offset-y":"","min-width":"290px"},scopedSlots:t._u([{key:"activator",fn:function(s){var m=s.on,g=s.attrs;return[e("v-text-field",t._g(t._b({attrs:{label:"Opening Balance Date","prepend-icon":"mdi-calendar",readonly:"","persistent-hint":"",outlined:"",dense:"","hide-details":"auto"},model:{value:t.form.opening_balance_date,callback:function(p){t.$set(t.form,"opening_balance_date",p)},expression:"form.opening_balance_date"}},"v-text-field",g,!1),m))]}}]),model:{value:t.menu,callback:function(s){t.menu=s},expression:"menu"}},[t._v(" "),e("v-date-picker",{attrs:{"no-title":""},on:{input:function(s){t.menu=!1}},model:{value:t.form.opening_balance_date,callback:function(s){t.$set(t.form,"opening_balance_date",s)},expression:"form.opening_balance_date"}})],1)],1),t._v(" "),e("v-col",{attrs:{cols:"12"}},[e("v-text-field",{attrs:{rows:"3",label:"Opening Ballance",outlined:"",dense:"","hide-details":"auto"},model:{value:t.form.opening_balance_amount,callback:function(s){t.$set(t.form,"opening_balance_amount",s)},expression:"form.opening_balance_amount"}})],1)],1)],1),t._v(" "),e("v-col",{staticClass:"bg-grey lighten-3",attrs:{cols:"12",md:"5"}},[e("span",{domProps:{textContent:t._s(t.categoryDesc)}})])],1)],1)],1)]},proxy:!0},{key:"saveData",fn:function(){return[e("v-btn",{attrs:{color:"green darken-1",dark:"",small:"",loading:t.submitLoad},on:{click:function(s){return t.save()}}},[t._v(`
        `+t._s(t.buttonTitle)+`
      `)])]},proxy:!0}])})],1)},l=[],h=o(9),j=o(4),b=o(29),$=o(59),y={name:"FormAccount",props:{formTitle:{type:String,default:""},buttonTitle:{type:String,default:""},url:{type:String,default:""},formData:{type:Object,default:function(){return{}}}},data:function(){return{menu:"",dialog:!1,submitLoad:!1,form:this.formData,itemCategory:[],itemAllCurrency:[],itemCurrency:[],itemAccountType:[],itemBank:[],itemTax:[],categoryDesc:"",statusProcessing:"insert"}},mounted:function(){this.getCategory(),this.getCurrency()},methods:{newData:function(a){this.$refs.dialogForm.openDialog(),this.statusProcessing="insert",this.form=Object.assign({},a),this.itemAccountType=a.account_type_list,this.form.account_type=this.itemAccountType[0],this.changeAccountType()},editItem:function(a,e){this.form=Object.assign({},a),this.statusProcessing="update",this.$refs.dialogForm.openDialog(),this.itemAccountType=e.account_type_list,this.changeAccountType()},changeAccountType:function(){this.itemCategory=this.itemAllCurrency.filter(this.filterTransType),this.statusProcessing==="insert"&&(this.form.category_id=this.itemCategory[0].id,this.categoryDesc=this.itemCategory[0].descriptions,this.form.name=this.itemCategory[0].name)},filterTransType:function(a){if(a.category_type===this.form.account_type)return!0},changeCategory:function(){var a=this.itemAllCurrency.filter(this.filterItemDesc);this.categoryDesc=a[0].descriptions,this.form.name=a[0].name},filterItemDesc:function(a){if(a.id===this.form.category_id)return!0},getCategory:function(){var a=this;this.$axios.get("/api/financial/account-category",{params:{type:"Account Category"}}).then(function(e){a.itemAllCurrency=e.data.data.rows}).catch(function(e){a.$swal({type:"error",title:"Error",text:e.response.data.message})})},getCurrency:function(){var a=this;this.$axios.get("/api/financial/currency",{params:{type:"Account Category"}}).then(function(e){a.itemCurrency=e.data.data.rows}).catch(function(e){a.$swal({type:"error",title:"Error",text:e.response.data.message})})},returnData:function(a){a.type==="Banks"?this.itemBank=a.item:a.type==="Item Unit"&&(this.itemUnit=a.item)},close:function(){var a=this;this.$refs.dialogForm.closeDialog(),this.statusProcessing="insert",setTimeout(function(){a.form=Object.assign({},a.defaultItem)},300)},save:function(){var a=this,e=this.form,s=this.statusProcessing;s==="insert"?this.store("post",this.url,e):s==="update"&&this.store("put",this.url+"/"+this.form.id,e),a.submitLoad=!1},store:function(a,e,s){var m=this,g=this;g.submitLoad=!0,this.$axios({method:a,url:e,data:s}).then(function(p){m.$refs.dialogForm.closeDialog(),m.$emit("getDataFromApi")}).catch(function(p){m.$swal({type:"error",title:"Error",text:p.response.data.message}),g.submitLoad=!1})}}},x=y,F=o(956),u=o(50),D=o(51),f=o.n(D),C=o(643),V=o(164),_=o(581),O=o(582),n=o(1017),T=o(612),r=o(573),v=o(595),P=o(570),L=o(797),A=Object(u.a)(x,i,l,!1,null,"7d1a1c2e",null),S=d.default=A.exports;f()(A,{DialogForm:o(613).default}),f()(A,{VAutocomplete:C.a,VBtn:V.a,VCol:_.a,VContainer:O.a,VDatePicker:n.a,VForm:T.a,VMenu:r.a,VRow:v.a,VTextField:P.a,VTextarea:L.a})},613:function(c,d,o){"use strict";o.r(d);var i=function(){var n=this,T=n.$createElement,r=n._self._c||T;return r("v-dialog",{attrs:{"no-click-animation":"",persistent:"",scrollable:"",origin:n.original,"max-width":n.maxWidth,transition:"dialog-top-transition"},model:{value:n.dialog,callback:function(v){n.dialog=v},expression:"dialog"}},[r("v-card",[r("v-card-title",[r("span",{staticClass:"subtitle-2"},[n._v(n._s(n.dialogTitle))]),n._v(" "),r("v-spacer"),n._v(" "),r("v-btn",{attrs:{icon:"",color:"red",dark:""},on:{click:function(v){return n.closeDialog()}}},[r("v-icon",[n._v("mdi-close-circle")])],1)],1),n._v(" "),r("v-divider"),n._v(" "),r("v-card-text",{staticClass:"pr-0 pl-0"},[n._t("content")],2),n._v(" "),r("v-divider"),n._v(" "),r("v-card-actions",[n._t("addLine"),n._v(" "),r("v-spacer"),n._v(" "),n._t("saveData")],2)],1)],1)},l=[],h={name:"DialogForm",props:{maxWidth:{type:String,default:"800px"},dialogTitle:{type:String,default:""},original:{type:String,default:null}},data:function(){return{dialog:!1}},methods:{addLine:function(){this.$emit("addLine")},openDialog:function(){this.dialog=!0},closeDialog:function(){this.dialog=!1,this.$emit("eventCloseDialog")},saveData:function(){this.$emit("saveData")}}},j=h,b=o(50),$=o(51),y=o.n($),x=o(164),F=o(247),u=o(88),D=o(591),f=o(572),C=o(246),V=o(589),_=Object(b.a)(j,i,l,!1,null,null,null),O=d.default=_.exports;y()(_,{VBtn:x.a,VCard:F.a,VCardActions:u.a,VCardText:u.b,VCardTitle:u.c,VDialog:D.a,VDivider:f.a,VIcon:C.a,VSpacer:V.a})},878:function(c,d,o){var i=o(957);i.__esModule&&(i=i.default),typeof i=="string"&&(i=[[c.i,i,""]]),i.locals&&(c.exports=i.locals);var l=o(15).default,h=l("8994bf98",i,!0,{sourceMap:!1})},956:function(c,d,o){"use strict";var i=o(878),l=o.n(i)},957:function(c,d,o){var i=o(14),l=i(!1);l.push([c.i,".bg-grey[data-v-7d1a1c2e]{background-color:#eee}",""]),c.exports=l}}]);
