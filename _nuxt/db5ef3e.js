(window.webpackJsonp=window.webpackJsonp||[]).push([[53,28],{1096:function(t,e,o){"use strict";o.r(e);o(27),o(7),o(46);var n=o(25),r=(o(59),o(74),{name:"FormProduct",props:{formTitle:{type:String,default:""},buttonTitle:{type:String,default:""},formData:{type:Object,default:function(){return{}}}},data:function(){return{logo:"",dialog:!1,tab:null,submitLoad:!1,form:this.formData,selectedItem:1,itemCategory:[],itemUnit:[],itemPriceList:[],itemAccounts:[],itemWarehouse:[],items:[{tab:"Sales Data",href:"#tab-1"},{tab:"Purchase Data",href:"#tab-2"},{tab:"Inventory Data",href:"#tab-3"},{tab:"Production Data",href:"#tab-4"}],itemGroup:[{id:1,name:"Inventory",desc:this.$t("Product you buy and/or sell and you track quantities of")},{id:2,name:"Non inventory",desc:this.$t("Product you buy and/or sell but you don't need to (or can't) track quantities of, for example nuts and bolts used in an installation")},{id:3,name:"Service",desc:this.$t("Service that you provide to customers, for example, landscaping or tax preparation services")}],menu:"",itemTax:[],itemContact:[],images:[],statusProcessing:"insert",valueWhenIsEmpty:null,temp_image:null,url:"/api/inventory/items",moneyOptions:{suffix:"",length:11,precision:2},options:{url:"/api/document-files",timeout:9e9,addRemoveLinks:!0,withCredentials:!0,thumbnailWidth:50,thumbnailHeight:50,acceptedFiles:"image/*",dictDefaultMessage:"<span class='mdi mdi-cloud-upload'></span> UPLOAD HERE"}}},methods:{loadData:function(){var t=this;return Object(n.a)(regeneratorRuntime.mark((function e(){var o,n,r,l,c,m,d;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,t.$axios.get("/api/inventory/item-category");case 3:return o=e.sent,e.next=6,t.$axios.get("/api/inventory/item-units");case 6:return n=e.sent,e.next=9,t.$axios.get("/api/financial/accounts",{params:{type:"All"}});case 9:return r=e.sent,e.next=12,t.$axios.get("/api/financial/taxes");case 12:return l=e.sent,e.next=15,t.$axios.get("/api/bp/contacts");case 15:return c=e.sent,e.next=18,t.$axios.get("/api/inventory/warehouse");case 18:return m=e.sent,e.next=21,t.$axios.get("/api/inventory/price-list");case 21:d=e.sent,t.itemCategory=o.data.data,t.itemUnit=n.data.data,t.itemAccounts=r.data.data,t.itemTax=l.data.data,t.itemContact=c.data.data,t.itemWarehouse=m.data.data,t.itemPriceList=d.data.data,e.next=34;break;case 31:e.prev=31,e.t0=e.catch(0),t.$swal({type:"error",title:"Error",text:e.t0.response.data.error});case 34:case"end":return e.stop()}}),e,null,[[0,31]])})))()},newData:function(form){this.$refs.dialogForm.openDialog(),this.statusProcessing="insert",this.form=Object.assign({},form),this.getFiles(),this.loadData()},editItem:function(t,e){var o=t;this.form=Object.assign({},o),this.statusProcessing="update",this.$refs.dialogForm.openDialog(),this.getFiles(),this.loadData()},sendingParams:function(t,e,o){var n=this.form.id?this.form.id:this.form.temp_id;o.append("temp_id",n),o.append("type","item")},handleError:function(t,e,o){this.$swal({type:"error",title:"Error...",text:e.message})},reloadAttachment:function(t,e){var o=this;e.errors?this.$swal({type:"error",title:"Oops...",text:e.message}):(this.$emit("eventCountAttachment",{total:e.data.count,row:this.row}),setTimeout((function(){o.getFiles()}),300),this.$swal({type:"success",title:"Success...",text:"Attachment uploaded!"}))},getFiles:function(){var t=this;this.showLoadingAttachment=!0;var e=this,o=this.form.id?this.form.id:this.form.temp_id;this.$axios.get(this.options.url,{params:{type:"item",temp_id:o}}).then((function(t){e.images=t.data.data,e.total=t.data.total,e.showLoadingAttachment=!1})).catch((function(e){t.showLoadingAttachment=!1,t.$swal({type:"error",title:"Oops...",text:e.response.message})}))},returnData:function(data){"Item Category"===data.type?this.itemCategory=data.item:"Item Unit"===data.type&&(this.itemUnit=data.item)},close:function(){var t=this;this.$refs.dialogForm.closeDialog(),this.statusProcessing="insert",setTimeout((function(){t.form=Object.assign({},t.defaultItem)}),300)},save:function(){var t=this.statusProcessing;"insert"===t?(this.store("post",this.url,this.form),this.submitLoad=!1):"update"===t&&(this.store("put",this.url+"/"+this.form.id,this.form),this.submitLoad=!1)},store:function(t,e,data){var o=this,n=this;n.submitLoad=!0,this.$axios({method:t,url:e,data:data}).then((function(t){o.$refs.dialogForm.closeDialog(),o.$emit("getDataFromApi")})).catch((function(t){o.$swal({type:"error",title:"Error",text:t.response.data.message}),n.submitLoad=!1}))}}}),l=o(50),c=o(51),m=o.n(c),d=o(637),v=o(164),f=o(248),_=o(585),h=o(586),x=o(620),y=o(34),C=o(598),$=o(688),k=o(594),w=o(732),D=o(596),A=o(373),V=o(575),component=Object(l.a)(r,(function(){var t=this,e=t._self._c;return e("div",[e("DialogForm",{ref:"dialogForm",attrs:{"max-width":"600px","dialog-title":t.formTitle,"button-title":"Save"},scopedSlots:t._u([{key:"content",fn:function(){return[e("v-form",[e("v-container",[e("v-row",{attrs:{dense:""}},[e("v-col",{attrs:{cols:"12",md:"4"}},[e("v-autocomplete",{attrs:{items:t.itemGroup,label:"Type","item-text":"name","item-value":"id",outlined:"","persistent-hint":"",dense:"","hide-details":"auto"},scopedSlots:t._u([{key:"item",fn:function(data){return[e("v-list-item-content",[e("v-list-item-title",{staticClass:"font-weight-bold",domProps:{textContent:t._s(data.item.name)}}),t._v(" "),e("v-list-item-subtitle",{domProps:{textContent:t._s(data.item.desc)}})],1)]}}]),model:{value:t.form.item_group_id,callback:function(e){t.$set(t.form,"item_group_id",e)},expression:"form.item_group_id"}})],1),t._v(" "),e("v-col",{attrs:{cols:"12",md:"8"}},[e("v-text-field",{attrs:{label:"Name",outlined:"",dense:"","hide-details":"auto"},model:{value:t.form.name,callback:function(e){t.$set(t.form,"name",e)},expression:"form.name"}})],1),t._v(" "),e("v-col",{attrs:{cols:"12",md:"4"}},[e("v-text-field",{attrs:{label:"Code",outlined:"",dense:"","hide-details":"auto"},model:{value:t.form.code,callback:function(e){t.$set(t.form,"code",e)},expression:"form.code"}})],1),t._v(" "),e("v-col",{attrs:{cols:"12",md:"4"}},[e("v-autocomplete",{attrs:{items:t.itemCategory,label:"Category","item-text":"name","item-value":"id",outlined:"","persistent-hint":"",dense:"","hide-details":"auto"},model:{value:t.form.category_id,callback:function(e){t.$set(t.form,"category_id",e)},expression:"form.category_id"}})],1),t._v(" "),e("v-col",{attrs:{cols:"12",md:"4"}},[e("v-autocomplete",{attrs:{items:t.itemUnit,label:"Unit","item-text":"name","item-value":"name",outlined:"","persistent-hint":"",dense:"","hide-details":"auto"},model:{value:t.form.unit,callback:function(e){t.$set(t.form,"unit",e)},expression:"form.unit"}})],1),t._v(" "),e("v-col",{attrs:{cols:"12",md:"4"}},[e("v-autocomplete",{attrs:{items:t.itemPriceList,label:"Price List","item-text":"price_list_name","item-value":"id",outlined:"","persistent-hint":"",dense:"","hide-details":"auto"},model:{value:t.form.price_list_id,callback:function(e){t.$set(t.form,"price_list_id",e)},expression:"form.price_list_id"}})],1),t._v(" "),e("v-col",{attrs:{cols:"12",md:"4"}},[e("v-text-field",{staticClass:"text-money",attrs:{type:"number","value-when-is-empty":t.valueWhenIsEmpty,options:t.moneyOptions,label:"Commission Rate",outlined:"",dense:"","hide-details":"auto"},model:{value:t.form.commision_rate,callback:function(e){t.$set(t.form,"commision_rate",e)},expression:"form.commision_rate"}})],1),t._v(" "),e("v-col",{attrs:{cols:"12"}},[e("v-card",{attrs:{flat:""}},[e("v-tabs",{model:{value:t.tab,callback:function(e){t.tab=e},expression:"tab"}},t._l(t.items,(function(o){return e("v-tab",{key:o.tab,attrs:{href:o.href}},[t._v("\n                      "+t._s(o.tab)+"\n                    ")])})),1),t._v(" "),e("v-tabs-items",{model:{value:t.tab,callback:function(e){t.tab=e},expression:"tab"}},[e("v-tab-item",{attrs:{value:"tab-1"}},[e("v-row",{staticClass:"mt-2",attrs:{dense:""}},[e("v-col",{attrs:{cols:"12"}},[e("v-text-field",{attrs:{label:"Descriptions",outlined:"",dense:"","hide-details":"auto"},model:{value:t.form.description,callback:function(e){t.$set(t.form,"description",e)},expression:"form.description"}})],1),t._v(" "),e("v-col",{attrs:{cols:"12",md:"3"}},[e("v-text-field",{staticClass:"text-money",attrs:{type:"number","value-when-is-empty":t.valueWhenIsEmpty,options:t.moneyOptions,label:"Sales Price",outlined:"",dense:"","hide-details":"auto"},model:{value:t.form.sale_price,callback:function(e){t.$set(t.form,"sale_price",e)},expression:"form.sale_price"}})],1),t._v(" "),e("v-col",{attrs:{cols:"12",md:"9"}},[e("v-autocomplete",{attrs:{items:t.itemAccounts,"item-text":"name","item-value":"id",label:"Income Account",outlined:"",dense:"","hide-details":"auto"},model:{value:t.form.revenue_account_id,callback:function(e){t.$set(t.form,"revenue_account_id",e)},expression:"form.revenue_account_id"}})],1),t._v(" "),e("v-col",{attrs:{cols:"12",md:"3"}},[e("v-autocomplete",{attrs:{items:t.itemTax,"item-text":"name","item-value":"id",label:"Sales Tax",outlined:"",dense:"","hide-details":"auto"},model:{value:t.form.sell_tax_id,callback:function(e){t.$set(t.form,"sell_tax_id",e)},expression:"form.sell_tax_id"}})],1)],1)],1),t._v(" "),e("v-tab-item",{attrs:{value:"tab-2"}},[e("v-row",{staticClass:"mt-2",attrs:{dense:""}},[e("v-col",{attrs:{cols:"12"}},[e("v-text-field",{attrs:{label:"Descriptions",outlined:"",dense:"","hide-details":"auto"},model:{value:t.form.purchase_description,callback:function(e){t.$set(t.form,"purchase_description",e)},expression:"form.purchase_description"}})],1),t._v(" "),e("v-col",{attrs:{cols:"12",md:"3"}},[e("v-text-field",{staticClass:"text-money",attrs:{type:"number","value-when-is-empty":t.valueWhenIsEmpty,options:t.moneyOptions,label:"Cost",outlined:"",dense:"","hide-details":"auto"},model:{value:t.form.purchase_price,callback:function(e){t.$set(t.form,"purchase_price",e)},expression:"form.purchase_price"}})],1),t._v(" "),e("v-col",{attrs:{cols:"12",md:"9"}},[e("v-autocomplete",{attrs:{items:t.itemAccounts,"item-text":"name","item-value":"id",label:"Expense Account",outlined:"",dense:"","hide-details":"auto"},model:{value:t.form.expense_account_id,callback:function(e){t.$set(t.form,"expense_account_id",e)},expression:"form.expense_account_id"}})],1),t._v(" "),e("v-col",{attrs:{cols:"12",md:"12"}},[e("v-autocomplete",{attrs:{items:t.itemContact,"item-text":"name","item-value":"id",label:"Prefered Vendor",outlined:"",dense:"","hide-details":"auto"},model:{value:t.form.contact_id,callback:function(e){t.$set(t.form,"contact_id",e)},expression:"form.contact_id"}})],1)],1)],1),t._v(" "),e("v-tab-item",{attrs:{value:"tab-3"}},[e("v-row",{staticClass:"mt-2",attrs:{dense:""}},[e("v-col",{attrs:{cols:"12",md:"12"}},[e("v-autocomplete",{attrs:{items:t.itemAccounts,"item-text":"name","item-value":"id",label:"Default Inventory Account",outlined:"",dense:"","hide-details":"auto"},model:{value:t.form.inventory_account,callback:function(e){t.$set(t.form,"inventory_account",e)},expression:"form.inventory_account"}})],1),t._v(" "),e("v-col",{attrs:{cols:"12",md:"12"}},[e("v-autocomplete",{attrs:{items:t.itemAccounts,"item-text":"name","item-value":"id",label:"COGS Account",outlined:"",dense:"","hide-details":"auto"},model:{value:t.form.cogs_account_id,callback:function(e){t.$set(t.form,"cogs_account_id",e)},expression:"form.cogs_account_id"}})],1),t._v(" "),e("v-col",{attrs:{cols:"12",md:"12"}},[e("v-autocomplete",{attrs:{items:t.itemAccounts,"item-text":"name","item-value":"id",label:"Allocation Account",outlined:"",dense:"","hide-details":"auto"},model:{value:t.form.allocation_account_id,callback:function(e){t.$set(t.form,"allocation_account_id",e)},expression:"form.allocation_account_id"}})],1),t._v(" "),e("v-col",{attrs:{cols:"12",md:"12"}},[e("v-autocomplete",{attrs:{items:t.itemAccounts,"item-text":"name","item-value":"id",label:"Price Diff Account",outlined:"",dense:"","hide-details":"auto"},model:{value:t.form.price_diff_account_id,callback:function(e){t.$set(t.form,"price_diff_account_id",e)},expression:"form.price_diff_account_id"}})],1),t._v(" "),e("v-col",{attrs:{cols:"12",md:"12"}},[e("v-simple-table",{attrs:{dense:""},scopedSlots:t._u([{key:"default",fn:function(){return[e("thead",[e("tr",[e("th",{staticClass:"text-left"},[t._v("\n                                    Warehouse\n                                  ")]),t._v(" "),e("th",{staticClass:"text-center"},[t._v("\n                                    On Hand\n                                  ")]),t._v(" "),e("th",{staticClass:"text-center"},[t._v("\n                                    Ordered\n                                  ")]),t._v(" "),e("th",{staticClass:"text-center"},[t._v("\n                                    Committed\n                                  ")]),t._v(" "),e("th",{staticClass:"text-center"},[t._v("\n                                    Available\n                                  ")]),t._v(" "),e("th",{staticClass:"text-center"},[t._v("\n                                    Cost\n                                  ")])])]),t._v(" "),e("tbody",t._l(t.form.item_warehouse,(function(o){return e("tr",{key:o.whs_name},[e("td",[t._v(t._s(o.whs_name))]),t._v(" "),e("td",{staticClass:"text-right"},[t._v(t._s(o.on_hand_qty))]),t._v(" "),e("td",{staticClass:"text-right"},[t._v(t._s(o.ordered_qty))]),t._v(" "),e("td",{staticClass:"text-right"},[t._v(t._s(o.committed_qty))]),t._v(" "),e("td",{staticClass:"text-right"},[t._v(t._s(o.available_qty))]),t._v(" "),e("td",{staticClass:"text-right"},[t._v(t._s(o.item_cost))])])})),0)]},proxy:!0}])})],1)],1)],1),t._v(" "),e("v-tab-item",{attrs:{value:"tab-4"}},[e("v-row",{staticClass:"mt-2",attrs:{dense:""}},[e("v-col",{attrs:{cols:"12",md:"12"}},[e("v-autocomplete",{attrs:{items:["backflush","manual"],label:"Issue Method",outlined:"",dense:"","hide-details":"auto"},model:{value:t.form.issue_method,callback:function(e){t.$set(t.form,"issue_method",e)},expression:"form.issue_method"}})],1),t._v(" "),e("v-col",{attrs:{cols:"12",md:"12"}},[e("v-autocomplete",{attrs:{items:["production","sales","assembly","template"],label:"Material Type",outlined:"",dense:"","hide-details":"auto"},model:{value:t.form.material_type,callback:function(e){t.$set(t.form,"material_type",e)},expression:"form.material_type"}})],1),t._v(" "),e("v-col",{attrs:{cols:"12",md:"12"}},[e("v-autocomplete",{attrs:{items:["moving average"],label:"Valuation Method",outlined:"",dense:"","hide-details":"auto"},model:{value:t.form.valuation_method,callback:function(e){t.$set(t.form,"valuation_method",e)},expression:"form.valuation_method"}})],1)],1)],1)],1)],1)],1)],1)],1)],1)]},proxy:!0},{key:"saveData",fn:function(){return[e("v-btn",{attrs:{color:"green darken-1",dark:"",small:"",loading:t.submitLoad},on:{click:function(e){return t.save()}}},[t._v("\n          "+t._s(t.buttonTitle)+"\n        ")])]},proxy:!0}])}),t._v(" "),e("LazyInventoryFormMaster",{ref:"formMaster",on:{returnData:t.returnData}})],1)}),[],!1,null,null,null);e.default=component.exports;m()(component,{DialogForm:o(603).default}),m()(component,{VAutocomplete:d.a,VBtn:v.a,VCard:f.a,VCol:_.a,VContainer:h.a,VForm:x.a,VListItemContent:y.a,VListItemSubtitle:y.b,VListItemTitle:y.c,VRow:C.a,VSimpleTable:$.a,VTab:k.a,VTabItem:w.a,VTabs:D.a,VTabsItems:A.a,VTextField:V.a})},603:function(t,e,o){"use strict";o.r(e);var n={name:"DialogForm",props:{maxWidth:{type:String,default:"800px"},dialogTitle:{type:String,default:""},original:{type:String,default:null}},data:function(){return{dialog:!1}},methods:{addLine:function(){this.$emit("addLine")},openDialog:function(){this.dialog=!0},closeDialog:function(){this.dialog=!1,this.$emit("eventCloseDialog")},saveData:function(){this.$emit("saveData")}}},r=o(50),l=o(51),c=o.n(l),m=o(164),d=o(248),v=o(88),f=o(595),_=o(576),h=o(247),x=o(593),component=Object(r.a)(n,(function(){var t=this,e=t._self._c;return e("v-dialog",{attrs:{"no-click-animation":"",persistent:"",scrollable:"",origin:t.original,"max-width":t.maxWidth,transition:"dialog-top-transition"},model:{value:t.dialog,callback:function(e){t.dialog=e},expression:"dialog"}},[e("v-card",[e("v-card-title",[e("span",{staticClass:"subtitle-2"},[t._v(t._s(t.dialogTitle))]),t._v(" "),e("v-spacer"),t._v(" "),e("v-btn",{attrs:{icon:"",color:"red",dark:""},on:{click:function(e){return t.closeDialog()}}},[e("v-icon",[t._v("mdi-close-circle")])],1)],1),t._v(" "),e("v-divider"),t._v(" "),e("v-card-text",{staticClass:"pr-0 pl-0"},[t._t("content")],2),t._v(" "),e("v-divider"),t._v(" "),e("v-card-actions",[t._t("addLine"),t._v(" "),e("v-spacer"),t._v(" "),t._t("saveData")],2)],1)],1)}),[],!1,null,null,null);e.default=component.exports;c()(component,{VBtn:m.a,VCard:d.a,VCardActions:v.a,VCardText:v.b,VCardTitle:v.c,VDialog:f.a,VDivider:_.a,VIcon:h.a,VSpacer:x.a})}}]);