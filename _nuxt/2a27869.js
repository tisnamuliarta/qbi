(window.webpackJsonp=window.webpackJsonp||[]).push([[6],{731:function(t,e,n){"use strict";n.d(e,"a",(function(){return N}));n(212),n(4),n(32),n(626),n(35),n(36),n(59),n(42),n(631),n(606),n(604),n(110),n(623),n(12),n(7),n(46),n(53),n(27),n(21);var base=n(895),o=n(607),r=n(662),l=(n(10),n(80),n(605));function c(t,i){return function(t){if(Array.isArray(t))return t}(t)||function(t,i){var e=null==t?null:"undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(null==e)return;var n,o,r=[],l=!0,c=!1;try{for(e=e.call(t);!(l=(n=e.next()).done)&&(r.push(n.value),!i||r.length!==i);l=!0);}catch(t){c=!0,o=t}finally{try{l||null==e.return||e.return()}finally{if(c)throw o}}return r}(t,i)||function(t,e){if(!t)return;if("string"==typeof t)return h(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);"Object"===n&&t.constructor&&(n=t.constructor.name);if("Map"===n||"Set"===n)return Array.from(t);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return h(t,e)}(t,i)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function h(t,e){(null==e||e>t.length)&&(e=t.length);for(var i=0,n=new Array(e);i<e;i++)n[i]=t[i];return n}function f(t,e){for(var i=0;i<e.length;i++){var n=e[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}var d=function(){function t(e){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.hot=e,this.container=null,this.injected=!1,this.rows=[],this.columns=[],this.samples=null,this.settings={useHeaders:!0}}var e,n,r;return e=t,n=[{key:"addRow",value:function(t,e){if(this.columns.length)throw new Error("Doesn't support multi-dimensional table");this.rows.length||(this.container=this.createContainer(this.hot.rootElement.className));var n={row:t};this.rows.push(n),this.samples=e,this.table=this.createTable(this.hot.table.className),this.table.colGroup.appendChild(this.createColGroupsCol()),this.table.tr.appendChild(this.createRow(t)),this.container.container.appendChild(this.table.fragment),n.table=this.table.table}},{key:"addColumnHeadersRow",value:function(t){var e=this.hot.getColHeader(0);if(null!=e){var n={row:-1};this.rows.push(n),this.container=this.createContainer(this.hot.rootElement.className),this.samples=t,this.table=this.createTable(this.hot.table.className),this.table.colGroup.appendChild(this.createColGroupsCol()),this.appendColumnHeadersRow(),this.container.container.appendChild(this.table.fragment),n.table=this.table.table}}},{key:"addColumn",value:function(t,e){if(this.rows.length)throw new Error("Doesn't support multi-dimensional table");this.columns.length||(this.container=this.createContainer(this.hot.rootElement.className));var n={col:t};this.columns.push(n),this.samples=e,this.table=this.createTable(this.hot.table.className),this.getSetting("useHeaders")&&null!==this.hot.getColHeader(t)&&this.hot.view.appendColHeader(t,this.table.th),this.table.tBody.appendChild(this.createCol(t)),this.container.container.appendChild(this.table.fragment),n.table=this.table.table}},{key:"getHeights",value:function(t){this.injected||this.injectTable(),Object(o.a)(this.rows,(function(e){t(e.row,Object(l.H)(e.table)-1)}))}},{key:"getWidths",value:function(t){this.injected||this.injectTable(),Object(o.a)(this.columns,(function(e){var n=e.table.getBoundingClientRect().width;t(e.col,Math.ceil(n))}))}},{key:"setSettings",value:function(t){this.settings=t}},{key:"setSetting",value:function(t,e){this.settings||(this.settings={}),this.settings[t]=e}},{key:"getSettings",value:function(){return this.settings}},{key:"getSetting",value:function(t){return this.settings?this.settings[t]:null}},{key:"createColGroupsCol",value:function(){var t=this,e=this.hot.rootDocument.createDocumentFragment();return this.hot.hasRowHeaders()&&e.appendChild(this.createColElement(-1)),this.samples.forEach((function(n){Object(o.a)(n.strings,(function(n){e.appendChild(t.createColElement(n.col))}))})),e}},{key:"createRow",value:function(t){var e=this,n=this.hot.rootDocument,r=n.createDocumentFragment(),th=n.createElement("th");return this.hot.hasRowHeaders()&&(this.hot.view.appendRowHeader(t,th),r.appendChild(th)),this.samples.forEach((function(l){Object(o.a)(l.strings,(function(o){var l=o.col,c=e.hot.getCellMeta(t,l);c.col=l,c.row=t;var h=e.hot.getCellRenderer(c),td=n.createElement("td");td.setAttribute("ghost-table",1),h(e.hot,td,t,l,e.hot.colToProp(l),o.value,c),r.appendChild(td)}))})),r}},{key:"appendColumnHeadersRow",value:function(){var t=this,e=this.hot.rootDocument,n=e.createDocumentFragment(),r=[];if(this.hot.hasRowHeaders()){var th=e.createElement("th");r.push([-1,th]),n.appendChild(th)}this.samples.forEach((function(t){Object(o.a)(t.strings,(function(t){var o=t.col,th=e.createElement("th");r.push([o,th]),n.appendChild(th)}))})),this.table.tHead.appendChild(n),Object(o.a)(r,(function(e){var n=c(e,2),o=n[0],th=n[1];t.hot.view.appendColHeader(o,th)}))}},{key:"createCol",value:function(t){var e=this,n=this.hot.rootDocument,r=n.createDocumentFragment();return this.samples.forEach((function(l){Object(o.a)(l.strings,(function(o){var l=o.row,c=e.hot.getCellMeta(l,t);c.col=t,c.row=l;var h=e.hot.getCellRenderer(c),td=n.createElement("td"),tr=n.createElement("tr");td.setAttribute("ghost-table",1),h(e.hot,td,l,t,e.hot.colToProp(t),o.value,c),tr.appendChild(td),r.appendChild(tr)}))})),r}},{key:"clean",value:function(){this.rows.length=0,this.rows[-1]=void 0,this.columns.length=0,this.samples&&this.samples.clear(),this.samples=null,this.removeTable()}},{key:"injectTable",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;this.injected||((t||this.hot.rootElement).appendChild(this.container.fragment),this.injected=!0)}},{key:"removeTable",value:function(){this.injected&&this.container.container.parentNode&&(this.container.container.parentNode.removeChild(this.container.container),this.container=null,this.injected=!1)}},{key:"createColElement",value:function(t){var col=this.hot.rootDocument.createElement("col");return col.style.width="".concat(this.hot.view._wt.wtTable.getStretchedColumnWidth(t),"px"),col}},{key:"createTable",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",e=this.hot.rootDocument,n=e.createDocumentFragment(),table=e.createElement("table"),o=e.createElement("thead"),r=e.createElement("tbody"),c=e.createElement("colgroup"),tr=e.createElement("tr"),th=e.createElement("th");return this.isVertical()&&table.appendChild(c),this.isHorizontal()&&(tr.appendChild(th),o.appendChild(tr),table.style.tableLayout="auto",table.style.width="auto"),table.appendChild(o),this.isVertical()&&r.appendChild(tr),table.appendChild(r),Object(l.a)(table,t),n.appendChild(table),{fragment:n,table:table,tHead:o,tBody:r,colGroup:c,tr:tr,th:th}}},{key:"createContainer",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",e=this.hot.rootDocument,n=e.createDocumentFragment(),o=e.createElement("div"),r="htGhostTable htAutoSize ".concat(t.trim());return Object(l.a)(o,r),n.appendChild(o),{fragment:n,container:o}}},{key:"isVertical",value:function(){return!(!this.rows.length||this.columns.length)}},{key:"isHorizontal",value:function(){return!(!this.columns.length||this.rows.length)}}],n&&f(e.prototype,n),r&&f(e,r),Object.defineProperty(e,"prototype",{writable:!1}),t}(),m=d,v=n(638),object=n(601),y=n(630),C=(n(269),n(8),n(622),n(617));function w(t,e){for(var i=0;i<e.length;i++){var n=e[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}var S=function(){function t(e){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.samples=null,this.dataFactory=e,this.customSampleCount=null,this.allowDuplicates=!1}var e,n,o;return e=t,o=[{key:"SAMPLE_COUNT",get:function(){return 3}}],(n=[{key:"getSampleCount",value:function(){return this.customSampleCount?this.customSampleCount:t.SAMPLE_COUNT}},{key:"setSampleCount",value:function(t){this.customSampleCount=t}},{key:"setAllowDuplicates",value:function(t){this.allowDuplicates=t}},{key:"generateRowSamples",value:function(t,e){return this.generateSamples("row",e,t)}},{key:"generateColumnSamples",value:function(t,e){return this.generateSamples("col",e,t)}},{key:"generateSamples",value:function(t,e,n){var o=this,r=new Map,l="number"==typeof n?{from:n,to:n}:n,c=l.from,h=l.to;return Object(y.c)(c,h,(function(n){var l=o.generateSample(t,e,n);r.set(n,l)})),r}},{key:"generateSample",value:function(t,e,n){var o=this;if("row"!==t&&"col"!==t)throw new Error("Unsupported sample type");var r=new Map,l="row"===t?"col":"row",c=[];return Object(y.c)(e.from,e.to,(function(e){var h,f="row"===t?o.dataFactory(n,e):o.dataFactory(e,n),d=f.value,m=f.bundleSeed,v="string"==typeof m&&m.length>0;h=v?m:Object(object.l)(d)?"".concat(Object.keys(d).length):Array.isArray(d)?"".concat(d.length):"".concat(Object(C.f)(d).length),r.has(h)||r.set(h,{needed:o.getSampleCount(),strings:[]});var y=r.get(h);y.needed&&(!(c.indexOf(d)>-1)||o.allowDuplicates||v)&&(y.strings.push(function(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}({value:d},l,e)),c.push(d),y.needed-=1)})),r}}])&&w(e.prototype,n),o&&w(e,o),Object.defineProperty(e,"prototype",{writable:!1}),t}(),k=n(643),O=n(888),j=n(693);function A(t){return A="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},A(t)}function T(t,i){return function(t){if(Array.isArray(t))return t}(t)||function(t,i){var e=null==t?null:"undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(null==e)return;var n,o,r=[],l=!0,c=!1;try{for(e=e.call(t);!(l=(n=e.next()).done)&&(r.push(n.value),!i||r.length!==i);l=!0);}catch(t){c=!0,o=t}finally{try{l||null==e.return||e.return()}finally{if(c)throw o}}return r}(t,i)||function(t,e){if(!t)return;if("string"==typeof t)return E(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);"Object"===n&&t.constructor&&(n=t.constructor.name);if("Map"===n||"Set"===n)return Array.from(t);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return E(t,e)}(t,i)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function E(t,e){(null==e||e>t.length)&&(e=t.length);for(var i=0,n=new Array(e);i<e;i++)n[i]=t[i];return n}function R(t,e){for(var i=0;i<e.length;i++){var n=e[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}function P(){return P="undefined"!=typeof Reflect&&Reflect.get?Reflect.get.bind():function(t,e,n){var base=H(t,e);if(base){var desc=Object.getOwnPropertyDescriptor(base,e);return desc.get?desc.get.call(arguments.length<3?t:n):desc.value}},P.apply(this,arguments)}function H(object,t){for(;!Object.prototype.hasOwnProperty.call(object,t)&&null!==(object=M(object)););return object}function I(t,p){return I=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,p){return t.__proto__=p,t},I(t,p)}function W(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,o=M(t);if(e){var r=M(this).constructor;n=Reflect.construct(o,arguments,r)}else n=o.apply(this,arguments);return V(this,n)}}function V(t,e){if(e&&("object"===A(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return D(t)}function D(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function M(t){return M=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},M(t)}v.a.getSingleton().register("modifyAutoColumnSizeSeed");var L="autoColumnSize",_=new WeakMap,N=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&I(t,e)}(h,t);var e,n,l,c=W(h);function h(t){var e;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,h),e=c.call(this,t),_.set(D(e),{cachedColumnHeaders:[]}),e.ghostTable=new m(e.hot),e.samplesGenerator=new S((function(t,n){var o=e.hot.getCellMeta(t,n),r="";o.spanned||(r=e.hot.getDataAtCell(t,n));var l="";return e.hot.hasHook("modifyAutoColumnSizeSeed")&&(l=e.hot.runHooks("modifyAutoColumnSizeSeed",l,o,r)),{value:r,bundleSeed:l}})),e.firstCalculation=!0,e.inProgress=!1,e.measuredColumns=0,e.columnWidthsMap=new j.a,e.hot.columnIndexMapper.registerMap("autoColumnSize",e.columnWidthsMap),e.addHook("beforeColumnResize",(function(t,n,o){return e.onBeforeColumnResize(t,n,o)})),e}return e=h,n=[{key:"isEnabled",value:function(){return!1!==this.hot.getSettings()[L]&&!this.hot.getSettings().colWidths}},{key:"enablePlugin",value:function(){var t=this;if(!this.enabled){var e=this.hot.getSettings()[L];e&&null!==e.useHeaders&&void 0!==e.useHeaders&&this.ghostTable.setSetting("useHeaders",e.useHeaders),this.setSamplingOptions(),this.addHook("afterLoadData",(function(){return t.onAfterLoadData.apply(t,arguments)})),this.addHook("beforeChangeRender",(function(e){return t.onBeforeChange(e)})),this.addHook("afterFormulasValuesUpdate",(function(e){return t.onAfterFormulasValuesUpdate(e)})),this.addHook("beforeViewRender",(function(e){return t.onBeforeViewRender(e)})),this.addHook("modifyColWidth",(function(e,col){return t.getColumnWidth(col,e)})),this.addHook("afterInit",(function(){return t.onAfterInit()})),P(M(h.prototype),"enablePlugin",this).call(this)}}},{key:"updatePlugin",value:function(){var t=this.findColumnsWhereHeaderWasChanged();t.length&&(this.clearCache(t),this.calculateVisibleColumnsWidth()),P(M(h.prototype),"updatePlugin",this).call(this)}},{key:"disablePlugin",value:function(){var t=this;P(M(h.prototype),"disablePlugin",this).call(this),this.addHook("beforeColumnResize",(function(e,n,o){return t.onBeforeColumnResize(e,n,o)}))}},{key:"calculateVisibleColumnsWidth",value:function(){if(this.hot.countRows()){var t=this.hot.renderCall,e=this.getFirstVisibleColumn(),n=this.getLastVisibleColumn();-1!==e&&-1!==n&&this.calculateColumnsWidth({from:e,to:n},void 0,t)}}},{key:"calculateColumnsWidth",value:function(){var t=this,e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{from:0,to:this.hot.countCols()-1},n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{from:0,to:this.hot.countRows()-1},r=arguments.length>2&&void 0!==arguments[2]&&arguments[2],l="number"==typeof e?{from:e,to:e}:e,c="number"==typeof n?{from:n,to:n}:n;Object(y.c)(l.from,l.to,(function(e){var n=t.hot.toPhysicalColumn(e);if(null===n&&(n=e),r||null===t.columnWidthsMap.getValueAtIndex(n)&&!t.hot._getColWidthFromSettings(n)){var l=t.samplesGenerator.generateColumnSamples(e,c);Object(o.a)(l,(function(e){var n=T(e,2),o=n[0],r=n[1];return t.ghostTable.addColumn(o,r)}))}})),this.ghostTable.columns.length&&(this.hot.batchExecution((function(){t.ghostTable.getWidths((function(e,n){var o=t.hot.toPhysicalColumn(e);t.columnWidthsMap.setValueAtIndex(o,n)}))}),!0),this.measuredColumns=l.to+1,this.ghostTable.clean())}},{key:"calculateAllColumnsWidth",value:function(){var t=this,e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{from:0,to:this.hot.countRows()-1},n=0,o=this.hot.countCols()-1,l=null;this.inProgress=!0;var c=function c(){if(!t.hot)return Object(r.a)(l),void(t.inProgress=!1);t.calculateColumnsWidth({from:n,to:Math.min(n+h.CALCULATION_STEP,o)},e),(n=n+h.CALCULATION_STEP+1)<o?l=Object(r.i)(c):(Object(r.a)(l),t.inProgress=!1,t.hot.view.adjustElementsSize())},f=this.getSyncCalculationLimit();this.firstCalculation&&f>=0&&(this.calculateColumnsWidth({from:0,to:f},e),this.firstCalculation=!1,n=f+1),n<o?c():this.inProgress=!1}},{key:"setSamplingOptions",value:function(){var t=this.hot.getSettings()[L],e=t&&Object(object.j)(t,"samplingRatio")?t.samplingRatio:void 0,n=t&&Object(object.j)(t,"allowSampleDuplicates")?t.allowSampleDuplicates:void 0;e&&!isNaN(e)&&this.samplesGenerator.setSampleCount(parseInt(e,10)),n&&this.samplesGenerator.setAllowDuplicates(n)}},{key:"recalculateAllColumnsWidth",value:function(){this.hot.view&&this.hot.view._wt.wtTable.isVisible()&&(this.clearCache(),this.calculateAllColumnsWidth())}},{key:"getSyncCalculationLimit",value:function(){var t=this.hot.getSettings()[L],e=h.SYNC_CALCULATION_LIMIT,n=this.hot.countCols()-1;return Object(object.l)(t)&&(e=t.syncLimit,Object(k.a)(e)?e=Object(y.e)(n,e):e>>=0),Math.min(e,n)}},{key:"getColumnWidth",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:void 0,n=!(arguments.length>2&&void 0!==arguments[2])||arguments[2],o=e;return void 0===o&&(o=this.columnWidthsMap.getValueAtIndex(this.hot.toPhysicalColumn(t)),n&&"number"==typeof o&&(o=Math.max(o,O.a.DEFAULT_WIDTH))),o}},{key:"getFirstVisibleColumn",value:function(){var t=this.hot.view._wt;if(t.wtViewport.columnsVisibleCalculator){var e=t.wtTable.getFirstVisibleColumn();if(-1!==e)return this.hot.columnIndexMapper.getVisualFromRenderableIndex(e)}if(t.wtViewport.columnsRenderCalculator){var n=t.wtTable.getFirstRenderedColumn();if(-1!==n)return this.hot.columnIndexMapper.getVisualFromRenderableIndex(n)}return-1}},{key:"getLastVisibleColumn",value:function(){var t=this.hot.view._wt;if(t.wtViewport.columnsVisibleCalculator){var e=t.wtTable.getLastVisibleColumn();if(-1!==e)return this.hot.columnIndexMapper.getVisualFromRenderableIndex(e)}if(t.wtViewport.columnsRenderCalculator){var n=t.wtTable.getLastRenderedColumn();if(-1!==n)return this.hot.columnIndexMapper.getVisualFromRenderableIndex(n)}return-1}},{key:"findColumnsWhereHeaderWasChanged",value:function(){var t=this.hot.getColHeader(),e=_.get(this).cachedColumnHeaders;return Object(o.d)(t,(function(t,n,o){var r=e.length;return(r-1<o||e[o]!==n)&&t.push(o),r-1<o?e.push(n):e[o]=n,t}),[])}},{key:"clearCache",value:function(){var t=this,e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];e.length?this.hot.batchExecution((function(){Object(o.a)(e,(function(e){t.columnWidthsMap.setValueAtIndex(e,null)}))}),!0):this.columnWidthsMap.clear()}},{key:"isNeedRecalculate",value:function(){return!!Object(o.b)(this.columnWidthsMap.getValues().slice(0,this.measuredColumns),(function(t){return null===t})).length}},{key:"onBeforeViewRender",value:function(){this.calculateVisibleColumnsWidth(),this.isNeedRecalculate()&&!this.inProgress&&this.calculateAllColumnsWidth()}},{key:"onAfterLoadData",value:function(){var t=this;this.hot.view?this.recalculateAllColumnsWidth():setTimeout((function(){t.hot&&t.recalculateAllColumnsWidth()}),0)}},{key:"onBeforeChange",value:function(t){var e=this,n=Object(o.c)(t,(function(t){var n=T(t,2)[1];return e.hot.toPhysicalColumn(e.hot.propToCol(n))}));this.clearCache(Array.from(new Set(n)))}},{key:"onBeforeColumnResize",value:function(t,e,n){var o=t;return n&&(this.calculateColumnsWidth(e,void 0,!0),o=this.getColumnWidth(e,void 0,!1)),o}},{key:"onAfterInit",value:function(){_.get(this).cachedColumnHeaders=this.hot.getColHeader()}},{key:"onAfterFormulasValuesUpdate",value:function(t){var e=Object(o.b)(t,(function(t){var e;return Object(C.b)(null===(e=t.address)||void 0===e?void 0:e.col)})),n=Object(o.c)(e,(function(t){return t.address.col}));this.clearCache(Array.from(new Set(n)))}},{key:"destroy",value:function(){this.ghostTable.clean(),P(M(h.prototype),"destroy",this).call(this)}}],l=[{key:"PLUGIN_KEY",get:function(){return L}},{key:"PLUGIN_PRIORITY",get:function(){return 10}},{key:"SETTING_KEYS",get:function(){return!0}},{key:"CALCULATION_STEP",get:function(){return 50}},{key:"SYNC_CALCULATION_LIMIT",get:function(){return 50}}],n&&R(e.prototype,n),l&&R(e,l),Object.defineProperty(e,"prototype",{writable:!1}),h}(base.a)}}]);