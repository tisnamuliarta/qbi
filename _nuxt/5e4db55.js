(window.webpackJsonp=window.webpackJsonp||[]).push([[154,18,31],{1012:function(I,f,a){"use strict";a.r(f);var h=a(27),P=a(21),C=a(268),D=function(){var t=this,s=t._self._c;return s("v-row",[s("v-col",{staticClass:"mt-0",attrs:{cols:"12"}},[s("div",{staticClass:"pl-4 pt-2"},[s("v-chip",{staticClass:"ma-2",attrs:{link:"",color:"primary",label:"",small:""},on:{click:function(u){return t.$router.push({path:"/app/contact/list"})}}},[s("v-icon",{attrs:{left:""}},[t._v(" mdi-arrow-left")]),t._v(`
          All Business Partner
        `)],1),t._v(" "),s("span",{staticClass:"font-weight-medium text-h6"},[t._v(t._s(t.form.name)+` account balances:
          `+t._s(t.$auth.user.entity.currency.currency_symbol+" ")+`

          `),s("strong",[t._v(`
            `+t._s(t.$auth.user.entity.currency.currency_symbol+" "+t.$formatter.formatPrice(t.balance))+`
          `)])])],1),t._v(" "),s("LazyMainToolbar",{attrs:{"document-status":t.documentStatus,"search-status":t.searchStatus,"item-search":t.itemSearch,"search-item":t.searchItem,search:t.search,title:"Chart of Accounts","show-filter":"","show-batch-action":""},on:{emitData:t.emitData,newData:t.newData,getDataFromApi:t.getDataFromApi}}),t._v(" "),s("v-simple-table",{attrs:{height:"70vh",dense:""},scopedSlots:t._u([{key:"default",fn:function(){return[s("thead",[s("tr",[s("th",{staticClass:"text-left"},[t._v("Transaction No")]),t._v(" "),s("th",{staticClass:"text-left"},[t._v("Transaction Type")]),t._v(" "),s("th",{staticClass:"text-left"},[t._v("Transaction Date")]),t._v(" "),s("th",{staticClass:"text-left"},[t._v("Notes")]),t._v(" "),s("th",{staticClass:"text-left"},[t._v("Status")]),t._v(" "),s("th",{staticClass:"text-left"},[t._v("Amount")])])]),t._v(" "),s("tbody",t._l(t.allData,function(u){return s("tr",{key:u.name},[s("td",[s("a",{on:{click:function(F){return t.editItem(u)}}},[s("strong",{domProps:{textContent:t._s(u.transaction_no)}})])]),t._v(" "),s("td",[t._v(t._s(u.type))]),t._v(" "),s("td",[t._v(t._s(u.date))]),t._v(" "),s("td",[t._v(t._s(u.narration))]),t._v(" "),s("td",[s("v-chip",{attrs:{label:"",small:"",dark:"",color:t.$formatter.statusColor(u.status)}},[t._v(`
                  `+t._s(u.status)+`
                `)])],1),t._v(" "),s("td",[t._v(`
                `+t._s(t.$auth.user.entity.currency.currency_symbol+" "+t.$formatter.formatPrice(u.contribution))+`
              `)])])}),0)]},proxy:!0}])}),t._v(" "),s("LazyAccountingFormAccount",{ref:"forms",attrs:{"form-data":t.form,"form-title":t.formTitle,"button-title":t.buttonTitle,url:t.url},on:{getDataFromApi:t.getDataFromApi}}),t._v(" "),s("AccountingDialogLedger",{ref:"ledger"})],1)],1)},m=[],L=a(9),y=a(4),M={name:"ReconcileList",data:function(){return{totalData:0,balance:0,editedIndex:-1,loading:!0,allData:[],documentStatus:[],itemSearch:[],searchStatus:"",searchItem:"",search:"",form:{},defaultItem:{},options:{},date_from:null,date_to:null,items:[{text:"Edit",action:"edit"},{text:"Delete",action:"delete"}],itemText:"",itemAction:"",url:"/api/financial/reconcile",headers:[{text:"Transaction No",value:"transaction_no",cellClass:"disable-wrap"},{text:"Transaction Type",value:"type",cellClass:"disable-wrap"},{text:"Transaction Date",value:"date",cellClass:"disable-wrap"},{text:"Notes",value:"narration",cellClass:"disable-wrap"},{text:"Status",value:"status",cellClass:"disable-wrap"},{text:"Amount",value:"contribution",cellClass:"disable-wrap",sortable:!1,filterable:!1}],title:"Detail Transactions"}},head:function(){return{title:this.title}},computed:{formTitle:function(){return this.editedIndex===-1?"New Account":"Edit Account"},buttonTitle:function(){return this.editedIndex===-1?"Save":"Update"}},watch:{options:{handler:function(){this.getDataFromApi()},deep:!0}},activated:function(){this.getDataFromApi(),this.$nuxt.$emit("extensionSetting",{show:!1,showBtn:!1})},methods:{newData:function(){this.editedIndex=-1,this.$refs.forms.newData(this.form)},actions:function(t,s){t==="edit"?this.editItem(s):this.deleteItem(s)},editItem:function(t){this.$refs.ledger.openDialog("/api/transaction/ledger/"+t.id)},deleteItem:function(t){var s=this,v=this;this.$swal({title:"Are you sure?",text:"The data will be permanently deleted",type:"warning",showCancelButton:!0,confirmButtonColor:"#3085d6",cancelButtonColor:"#d33",confirmButtonText:"Yes, delete it!"}).then(function(u){u.value&&s.$axios.delete(v.url+"/"+t.id).then(function(K){s.$swal({type:"success",title:"Success...",text:"Row Deleted!"}),s.getDataFromApi()}).catch(function(K){s.$swal({type:"error",title:"Oops...",text:K.response.data.message})})})},emitData:function(t){this.documentStatus=t.documentStatus,this.itemSearch=t.itemSearch,this.searchStatus=t.searchStatus,this.searchItem=t.searchItem,this.search=t.search,this.filters=t.filters,this.date_from=t.date_from,this.date_to=t.date_to,this.getDataFromApi()},getDataFromApi:function(){var t=this;this.loading=!0;var s=this;this.$axios.get("/api/bp/contacts/"+this.$route.query.id,{params:{options:s.options,searchItem:s.searchItem,documentStatus:s.documentStatus,searchStatus:s.searchStatus,search:s.search,date_from:s.date_from,date_to:s.date_to}}).then(function(v){t.loading=!1,t.allData=v.data.transactions,t.totalData=v.data.total,t.itemSearch=v.data.filter,t.form=Object.assign({},v.data.data),t.balance=t.form.type==="Customer"?t.form.sell_account.balance:t.form.purchase_account.balance,t.defaultItem=Object.assign({},v.data.form)}).catch(function(v){t.loading=!1,t.$swal({type:"error",title:"Error",text:v.response.data.message})})}}},E=M,j=a(50),x=a(51),p=a.n(x),O=a(578),A=a(585),g=a(247),e=a(599),n=a(627),o=Object(j.a)(E,D,m,!1,null,null,null),c=f.default=o.exports;p()(o,{AccountingDialogLedger:a(652).default}),p()(o,{VChip:O.a,VCol:A.a,VIcon:g.a,VRow:e.a,VSimpleTable:n.a})},599:function(I,f,a){"use strict";var h=a(7),P=a.n(h),C=a(9),D=a.n(C),m=a(12),L=a.n(m),y=a(13),M=a.n(y),E=a(2),j=a(4),x=a.n(j),p=a(33),O=a.n(p),A=a(52),g=a.n(A),e=a(28),n=a.n(e),o=a(8),c=a.n(o),l=a(21),t=a.n(l),s=a(65),v=a.n(s),u=a(269),K=a.n(u),F=a(32),Pt=a.n(F),k=a(270),Ct=a.n(k),q=a(271),Mt=a.n(q),tt=a(272),yt=a.n(tt),at=a(273),xt=a.n(at),et=a(274),At=a.n(et),st=a(275),Tt=a.n(st),nt=a(276),It=a.n(nt),ot=a(277),Lt=a.n(ot),rt=a(278),Bt=a.n(rt),lt=a(279),Rt=a.n(lt),_t=a(280),Kt=a.n(_t),it=a(281),Wt=a.n(it),ct=a(282),Ut=a.n(ct),dt=a(34),St=a.n(dt),ut=a(10),Vt=a.n(ut),mt=a(283),$t=a.n(mt),vt=a(3),ft=a(78),Dt=a(1);function N(d,_){var i=Object.keys(d);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(d);_&&(r=r.filter(function(B){return Object.getOwnPropertyDescriptor(d,B).enumerable})),i.push.apply(i,r)}return i}function W(d){for(var _=1;_<arguments.length;_++){var i=arguments[_]!=null?arguments[_]:{};_%2?N(Object(i),!0).forEach(function(r){Object(E.a)(d,r,i[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(d,Object.getOwnPropertyDescriptors(i)):N(Object(i)).forEach(function(r){Object.defineProperty(d,r,Object.getOwnPropertyDescriptor(i,r))})}return d}var Et=["sm","md","lg","xl"],U=["start","end","center"];function S(d,_){return Et.reduce(function(i,r){return i[d+Object(Dt.I)(r)]=_(),i},{})}var b=function(_){return[].concat(U,["baseline","stretch"]).includes(_)},G=S("align",function(){return{type:String,default:null,validator:b}}),z=function(_){return[].concat(U,["space-between","space-around"]).includes(_)},J=S("justify",function(){return{type:String,default:null,validator:z}}),Y=function(_){return[].concat(U,["space-between","space-around","stretch"]).includes(_)},H=S("alignContent",function(){return{type:String,default:null,validator:Y}}),Q={align:Object.keys(G),justify:Object.keys(J),alignContent:Object.keys(H)},gt={align:"align",justify:"justify",alignContent:"align-content"};function ht(d,_,i){var r=gt[d];if(i!=null){if(_){var B=_.replace(d,"");r+="-".concat(B)}return r+="-".concat(i),r.toLowerCase()}}var X=new Map;f.a=vt.default.extend({name:"v-row",functional:!0,props:W(W(W({tag:{type:String,default:"div"},dense:Boolean,noGutters:Boolean,align:{type:String,default:null,validator:b}},G),{},{justify:{type:String,default:null,validator:z}},J),{},{alignContent:{type:String,default:null,validator:Y}},H),render:function(_,i){var r=i.props,B=i.data,jt=i.children,V="";for(var pt in r)V+=String(r[pt]);var T=X.get(V);return T||function(){var R;T=[];var $;for($ in Q)Q[$].forEach(function(Z){var Ot=r[Z],w=ht($,Z,Ot);w&&T.push(w)});T.push((R={"no-gutters":r.noGutters,"row--dense":r.dense},Object(E.a)(R,"align-".concat(r.align),r.align),Object(E.a)(R,"justify-".concat(r.justify),r.justify),Object(E.a)(R,"align-content-".concat(r.alignContent),r.alignContent),R)),X.set(V,T)}(),_(r.tag,Object(ft.a)(B,{staticClass:"row",class:T}),jt)}})},600:function(I,f,a){var h=a(375),P=a(47);I.exports=function(C,D,m){return m.get&&h(m.get,D,{getter:!0}),m.set&&h(m.set,D,{setter:!0}),P.f(C,D,m)}},601:function(I,f,a){"use strict";a.r(f);var h=function(){var o=this,c=o._self._c;return c("v-dialog",{attrs:{"no-click-animation":"",persistent:"",scrollable:"",origin:o.original,"max-width":o.maxWidth,transition:"dialog-top-transition"},model:{value:o.dialog,callback:function(t){o.dialog=t},expression:"dialog"}},[c("v-card",[c("v-card-title",[c("span",{staticClass:"subtitle-2"},[o._v(o._s(o.dialogTitle))]),o._v(" "),c("v-spacer"),o._v(" "),c("v-btn",{attrs:{icon:"",color:"red",dark:""},on:{click:function(t){return o.closeDialog()}}},[c("v-icon",[o._v("mdi-close-circle")])],1)],1),o._v(" "),c("v-divider"),o._v(" "),c("v-card-text",{staticClass:"pr-0 pl-0"},[o._t("content")],2),o._v(" "),c("v-divider"),o._v(" "),c("v-card-actions",[o._t("addLine"),o._v(" "),c("v-spacer"),o._v(" "),o._t("saveData")],2)],1)],1)},P=[],C={name:"DialogForm",props:{maxWidth:{type:String,default:"800px"},dialogTitle:{type:String,default:""},original:{type:String,default:null}},data:function(){return{dialog:!1}},methods:{addLine:function(){this.$emit("addLine")},openDialog:function(){this.dialog=!0},closeDialog:function(){this.dialog=!1,this.$emit("eventCloseDialog")},saveData:function(){this.$emit("saveData")}}},D=C,m=a(50),L=a(51),y=a.n(L),M=a(164),E=a(248),j=a(88),x=a(595),p=a(576),O=a(247),A=a(593),g=Object(m.a)(D,h,P,!1,null,null,null),e=f.default=g.exports;y()(g,{VBtn:M.a,VCard:E.a,VCardActions:j.a,VCardText:j.b,VCardTitle:j.c,VDialog:x.a,VDivider:p.a,VIcon:O.a,VSpacer:A.a})},652:function(I,f,a){"use strict";a.r(f);var h=function(){var e=this,n=e._self._c;return n("div",[n("DialogForm",{ref:"dialogForm",attrs:{"max-width":"1200px","dialog-title":e.$t("Journal Entry"),"button-title":"Save",original:"top"},scopedSlots:e._u([{key:"content",fn:function(){return[n("v-container",[n("v-row",[n("v-col",{staticClass:"mt-0",attrs:{cols:"12"}},[n("v-data-table",{staticClass:"elevation-0",attrs:{"mobile-breakpoint":0,headers:e.headers,items:e.allData,"items-per-page":150,options:e.options,"server-items-length":e.totalData,loading:e.loading,"show-select":"","fixed-header":"",height:"60vh","hide-default-footer":"",dense:"","footer-props":{"items-per-page-options":[150,250,500,-1]}},on:{"update:options":function(l){e.options=l}},scopedSlots:e._u([{key:"item.amount_credit",fn:function(l){var t=l.item;return[t.amount_credit?n("span",[e._v(`
                    `+e._s(e.$auth.user.entity.currency.currency_symbol+" "+e.$formatter.formatPrice(t.amount_credit))+`
                  `)]):e._e()]}},{key:"item.amount_debit",fn:function(l){var t=l.item;return[t.amount_debit?n("span",[e._v(`
                    `+e._s(e.$auth.user.entity.currency.currency_symbol+" "+e.$formatter.formatPrice(t.amount_debit))+`
                  `)]):e._e()]}},{key:"body.append",fn:function(){return[n("tr",{staticClass:"black--text"},[n("th",{staticClass:"title"}),e._v(" "),n("th",{staticClass:"title"}),e._v(" "),n("th",{staticClass:"title"}),e._v(" "),n("th",{staticClass:"title"}),e._v(" "),n("th",{staticClass:"title"}),e._v(" "),n("th",{staticClass:"title"}),e._v(" "),n("th",{staticClass:"title text-right"},[e._v(`
                      `+e._s(e.$auth.user.entity.currency.currency_symbol+" "+e.$formatter.formatPrice(e.sumField("amount_debit")))+`
                    `)]),e._v(" "),n("th",{staticClass:"title text-right"},[e._v(`
                      `+e._s(e.$auth.user.entity.currency.currency_symbol+" "+e.$formatter.formatPrice(e.sumField("amount_credit")))+`
                    `)])]),e._v(" "),n("tr",[n("td",[e._v("Notes: ")]),e._v(" "),n("td",{attrs:{colspan:"3"}},[n("strong",[e._v(e._s(e.transaction.narration))])])])]},proxy:!0}],null,!0)})],1)],1)],1)]},proxy:!0}])})],1)},P=[],C=a(4),D={name:"DialogItem",props:{viewData:{type:Boolean,default:!0},showAddBtn:{type:Boolean,default:!0}},data:function(){return{row:null,url:"",allData:[],transaction:[],totalData:0,loading:!1,options:{},headers:[{text:"Reference",value:"reference"},{text:"Posting Date",value:"posting_date"},{text:"Account Code",value:"post_account.code"},{text:"Account Category",value:"post_account.account_type"},{text:"Account Name",value:"post_account.name"},{text:"Debit",value:"amount_debit",class:"text-center",cellClass:"disable-wrap text-right"},{text:"Credit",value:"amount_credit",class:"text-center",cellClass:"disable-wrap text-right"}]}},methods:{sumField:function(e){return this.allData.reduce(function(n,o){return parseFloat(n)+parseFloat(o[e]||0)},0)},openDialog:function(e){this.$refs.dialogForm.openDialog(),this.url=e,this.getDataFromApi()},getDataFromApi:function(){var e=this;this.loading=!0,this.$axios.get(this.url).then(function(n){e.loading=!1;var o=n.data;e.allData=o.data,e.transaction=o.transaction,e.totalData=o.total}).catch(function(n){e.loading=!1,e.$swal({type:"error",title:"Error",text:n.response.data.message})})}}},m=D,L=a(50),y=a(51),M=a.n(y),E=a(585),j=a(586),x=a(909),p=a(599),O=Object(L.a)(m,h,P,!1,null,null,null),A=f.default=O.exports;M()(O,{DialogForm:a(601).default}),M()(O,{VCol:E.a,VContainer:j.a,VDataTable:x.a,VRow:p.a})}}]);
