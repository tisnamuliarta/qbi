(window.webpackJsonp=window.webpackJsonp||[]).push([[285],{616:function(m,e,a){"use strict";var i=a(284),c=a.n(i),r=a(285);e.a=Object(r.a)("layout")},620:function(m,e,a){"use strict";var i=a(284),c=a.n(i),r=a(285);e.a=Object(r.a)("flex")},941:function(m,e,a){"use strict";a.r(e);var i=a(165),c=a(249),r=a(87),u=a(587),p=a(585),h=a(575),V=a(620),v=a(247),x=a(616),y=a(248),C=a(166),f=a(31),E=a(252),I=a(143),M=a(591),P=a(598),T=a(592),O=a(589),D=function(){var t=this,n=t._self._c;return n(x.a,[n(V.a,{attrs:{sm12:""}},[n(c.a,[n(p.a,{attrs:{fluid:""}},[n(P.a,{attrs:{"no-gutters":""}},[n(u.a,{attrs:{cols:"12",md:"2"}},[n(M.a,{attrs:{permanent:""}},[n(y.a,{attrs:{nav:"",dense:""}},[n(E.a,{attrs:{color:"primary"},model:{value:t.selectedItem,callback:function(o){t.selectedItem=o},expression:"selectedItem"}},t._l(t.items,function(s,o){return n(C.a,{key:o,on:{click:function(j){return t.changeTabValue(s.alias,s.action)}}},[n(I.a,[n(v.a,{domProps:{textContent:t._s(s.icon)}})],1),t._v(" "),n(f.a,[n(f.c,{domProps:{textContent:t._s(s.text)}})],1)],1)}),1)],1)],1)],1),t._v(" "),n(u.a,{attrs:{cols:"12",md:"10"}},[n(c.a,{attrs:{flat:""}},[t.loading?n(T.a,{staticClass:"mx-auto",attrs:{type:"article, actions",loading:t.loading}}):t._e(),t._v(" "),n("SetupForm",{directives:[{name:"show",rawName:"v-show",value:!t.loading,expression:"!loading"}],ref:"setupForm"})],1)],1)],1)],1),t._v(" "),t.showAction?n(h.a):t._e(),t._v(" "),n(r.a,[n(O.a),t._v(" "),t.showAction?n(i.a,{staticClass:"mr-3",attrs:{color:"green darken-1",dark:"",small:"",loading:t.loadingButton},on:{click:t.save}},[t._v(`
          Save
          `),n(v.a,{attrs:{small:"",dark:"",right:""}},[t._v(" mdi-content-save")])],1):t._e()],1)],1)],1)],1)},L=[],F=a(58),R=a(4),S=a(69),A={name:"OtherSettings",layout:"dashboard",data:function(){return{tabValue:"company",loading:!0,loadingButton:!1,selectedItem:0,form:{},showAction:!0,items:[{text:"Company",icon:"mdi-office-building-cog",alias:"company",action:!0},{text:"Finance",icon:"mdi-finance",alias:"finance",action:!0},{text:"Account Mapping",icon:"mdi-map",alias:"account_mapping",action:!0},{text:"E-Mail",icon:"mdi-email",alias:"email",action:!0},{text:"PDF",icon:"mdi-file-pdf-box",alias:"pdf",action:!0},{text:"Tags",icon:"mdi-tag",alias:"tags",action:!1},{text:"Item Units",icon:"mdi-align-vertical-distribute",alias:"units",action:!1},{text:"Item Category",icon:"mdi-shape",alias:"product_category",action:!1},{text:"Permissions",icon:"mdi-boom-gate",alias:"permissions",action:!1},{text:"Roles",icon:"mdi-police-badge",alias:"roles",action:!1},{text:"Users",icon:"mdi-account",alias:"users",action:!1},{text:"Payment Method",icon:"mdi-bank-transfer",alias:"payment",action:!1},{text:"VAT",icon:"mdi-content-cut",alias:"taxes",action:!1},{text:"Terms",icon:"mdi-file-document-outline",alias:"term",action:!1},{text:"Currency",icon:"mdi-currency-usd",alias:"currency",action:!1}]}},head:function(){return{title:"Application Setup"}},created:function(){this.changeTabValue(this.tabValue)},methods:{changeTabValue:function(t,n){var s=this;this.$axios.get("/api/settings",{params:{page:t}}).then(function(o){s.loading=!0,s.tabValue=t,s.form=o.data.data.form,s.$router.push({path:"/dashboard/settings/setup",query:{page:t}}),setTimeout(function(){s.loading=!1,s.showAction=n===void 0?!0:n,s.$refs.setupForm.changeTab(s.form,o.data.data.url)},300)})},save:function(){var t=this,n=this.$refs.setupForm.getForm(),s={},o="/api/settings";this.tabValue==="company"?s={headers:{"Content-Type":"Multipart/form-data; charset=utf-8; boundary="+Math.random().toString().substr(2)}}:this.tabValue==="account_mapping"&&(o="/api/financial/account-mapping"),this.loadingButton=!0,this.$axios.post(o,n,s).then(function(d){t.loadingButton=!1,t.tabValue==="company"&&(t.$nuxt.$emit("getLogo"),t.$nuxt.$emit("getCompany")),t.changeTabValue(t.tabValue)}).catch(function(d){t.loadingButton=!1,t.$swal({type:"error",title:"Error",text:d.response.data.message})})}}},B=A,$=a(50),g=Object($.a)(B,D,L,!1,null,null,null),U=e.default=g.exports;installComponents(g,{SetupForm:a(869).default})}}]);
