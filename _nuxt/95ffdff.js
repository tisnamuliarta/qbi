(window.webpackJsonp=window.webpackJsonp||[]).push([[95,31,71,100],{1132:function(F,C,a){"use strict";a.r(C);var r=a(585),x=function(){var l=this,d=l._self._c;return d(r.a,{attrs:{fluid:""}},[d(l.selectComponent,{ref:"childComponent",tag:"component",attrs:{formData:l.form}})],1)},b=[],g=a(58),$=a(769),S=a(771),D=a(770),P=a(772),O=a(773),j=a(774),I=a(775),E={name:"FormSetup",components:{email:$.default,general:S.default,pdf:P.default,finance:D.default,roles:O.default,permissions:j.default,users:I.default},data:function(){return{selectComponent:null,form:{}}},methods:{changeTab:function(l,d,L){var V=this;this.selectComponent=L,this.form=Object.assign({},l),setTimeout(function(){V.$refs.childComponent.setForm(V.form,d)},800)},getForm:function(){return this.$refs.childComponent.getForm()}}},y=E,h=a(50),p=Object(h.a)(y,x,b,!1,null,null,null),o=C.default=p.exports},600:function(F,C,a){"use strict";a.r(C);var r=a(165),x=a(249),b=a(87),g=a(594),$=a(575),S=a(247),D=a(589),P=function(){var o=this,m=o._self._c;return m(g.a,{attrs:{"no-click-animation":"",persistent:"",scrollable:"",origin:o.original,"max-width":o.maxWidth,transition:"dialog-top-transition"},model:{value:o.dialog,callback:function(d){o.dialog=d},expression:"dialog"}},[m(x.a,[m(b.c,[m("span",{staticClass:"subtitle-2"},[o._v(o._s(o.dialogTitle))]),o._v(" "),m(D.a),o._v(" "),m(r.a,{attrs:{icon:"",color:"red",dark:""},on:{click:function(d){return o.closeDialog()}}},[m(S.a,[o._v("mdi-close-circle")])],1)],1),o._v(" "),m($.a),o._v(" "),m(b.b,{staticClass:"pr-0 pl-0"},[o._t("content")],2),o._v(" "),m($.a),o._v(" "),m(b.a,[o._t("addLine"),o._v(" "),m(D.a),o._v(" "),o._t("saveData")],2)],1)],1)},O=[],j={name:"DialogForm",props:{maxWidth:{type:String,default:"800px"},dialogTitle:{type:String,default:""},original:{type:String,default:null}},data:function(){return{dialog:!1}},methods:{addLine:function(){this.$emit("addLine")},openDialog:function(){this.dialog=!0},closeDialog:function(){this.dialog=!1,this.$emit("eventCloseDialog")},saveData:function(){this.$emit("saveData")}}},I=j,E=a(50),y=Object(E.a)(I,P,O,!1,null,null,null),h=C.default=y.exports},618:function(F,C,a){var r=a(619);r.__esModule&&(r=r.default),typeof r=="string"&&(r=[[F.i,r,""]]),r.locals&&(F.exports=r.locals);var x=a(16).default,b=x("93dca520",r,!0,{sourceMap:!1})},619:function(F,C,a){var r=a(15),x=r(!1);x.push([F.i,".v-input--checkbox.v-input--indeterminate.v-input--is-disabled{opacity:.6}.v-input--checkbox.v-input--dense{margin-top:4px}",""]),F.exports=x},638:function(F,C,a){"use strict";var r=a(8),x=a.n(r),b=a(7),g=a.n(b),$=a(10),S=a.n($),D=a(12),P=a.n(D),O=a(9),j=a.n(O),I=a(13),E=a.n(I),y=a(89),h=a(2),p=a(4),o=a.n(p),m=a(69),l=a.n(m),d=a(618),L=a.n(d),V=a(610),N=a.n(V),_=a(45),A=a(88),R=a(611),s=["title"];function e(v,n){var t=Object.keys(v);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(v);n&&(i=i.filter(function(u){return Object.getOwnPropertyDescriptor(v,u).enumerable})),t.push.apply(t,i)}return t}function c(v){for(var n=1;n<arguments.length;n++){var t=arguments[n]!=null?arguments[n]:{};n%2?e(Object(t),!0).forEach(function(i){Object(h.a)(v,i,t[i])}):Object.getOwnPropertyDescriptors?Object.defineProperties(v,Object.getOwnPropertyDescriptors(t)):e(Object(t)).forEach(function(i){Object.defineProperty(v,i,Object.getOwnPropertyDescriptor(t,i))})}return v}C.a=R.a.extend({name:"v-checkbox",props:{indeterminate:Boolean,indeterminateIcon:{type:String,default:"$checkboxIndeterminate"},offIcon:{type:String,default:"$checkboxOff"},onIcon:{type:String,default:"$checkboxOn"}},data:function(){return{inputIndeterminate:this.indeterminate}},computed:{classes:function(){return c(c({},A.a.options.computed.classes.call(this)),{},{"v-input--selection-controls":!0,"v-input--checkbox":!0,"v-input--indeterminate":this.inputIndeterminate})},computedIcon:function(){return this.inputIndeterminate?this.indeterminateIcon:this.isActive?this.onIcon:this.offIcon},validationState:function(){if(!(this.isDisabled&&!this.inputIndeterminate)){if(this.hasError&&this.shouldValidate)return"error";if(this.hasSuccess)return"success";if(this.hasColor!==null)return this.computedColor}}},watch:{indeterminate:function(n){var t=this;this.$nextTick(function(){return t.inputIndeterminate=n})},inputIndeterminate:function(n){this.$emit("update:indeterminate",n)},isActive:function(){!this.indeterminate||(this.inputIndeterminate=!1)}},methods:{genCheckbox:function(){var n=this.attrs$,t=n.title,i=Object(y.a)(n,s);return this.$createElement("div",{staticClass:"v-input--selection-controls__input"},[this.$createElement(_.a,this.setTextColor(this.validationState,{props:{dense:this.dense,dark:this.dark,light:this.light}}),this.computedIcon),this.genInput("checkbox",c(c({},i),{},{"aria-checked":this.inputIndeterminate?"mixed":this.isActive.toString()})),this.genRipple(this.setTextColor(this.rippleState))])},genDefaultSlot:function(){return[this.genCheckbox(),this.genLabel()]}}})},659:function(F,C,a){"use strict";a.r(C);var r=a(165),x=a(249),b=a(87),g=a(594),$=a(247),S=a(589),D=function(){var o=this,m=o._self._c;return m(g.a,{attrs:{persistent:"","no-click-animation":"",scrollable:"","max-width":"1000px",transition:"dialog-bottom-transition"},model:{value:o.dialogPermission,callback:function(d){o.dialogPermission=d},expression:"dialogPermission"}},[m(x.a,{attrs:{loading:o.loadingPermission}},[m(b.c,[m("span",{staticClass:"subtitle-2"},[o._v(`
        `+o._s(o.dialogTitle)+`
      `)]),o._v(" "),m(S.a),o._v(" "),m(r.a,{attrs:{color:"red darken-1",dark:"",icon:"",small:""},on:{click:o.closeDialogPermission}},[m($.a,[o._v("mdi-close-circle")])],1)],1),o._v(" "),m(b.b,[m("div",[m("LazyMasterPermissionList",{ref:"childDetails"})],1)]),o._v(" "),m(b.a,[o.canAddData?m(r.a,{staticClass:"white--text",attrs:{small:"",color:"orange darken-1"},on:{click:function(d){return o.$refs.childDetails.addLine()}}},[o._v(`
        Add Line
      `)]):o._e(),o._v(" "),m(S.a),o._v(" "),o.canAddData?m(r.a,{attrs:{color:"green darken-1",dark:"",small:"",loading:o.loadingPermission},on:{click:function(d){return o.saveRolePermission()}}},[o._v(`
        Save
      `)]):o._e()],1)],1)],1)},P=[],O=a(4),j={name:"DialogPermission",data:function(){return{loadingPermission:!1,dialogPermission:!1,dialogTitle:"",role:"",userRole:[],form:{},canAddData:!1,type:""}},mounted:function(){this.getPermissionList()},methods:{getPermissionList:function(){var o=this;this.$axios.get("/api/master/permissions").then(function(m){o.$auth.$storage.setState("permission_list",m.data.simple)})},openDialogPermission:function(o,m){this.dialogTitle=m,this.dialogPermission=!0,this.loadingPermission=!0,this.form=Object.assign({},o),this.canAddData=!0,this.getPermissionUser(o),this.type="user"},getPermissionUser:function(o){var m=this;this.userRole=null,this.$axios.get("/api/master/user/permission",{params:{form:o}}).then(function(l){m.$refs.childDetails.setDataToDetails(l.data.data)}).finally(function(l){m.loadingPermission=!1})},closeDialogPermission:function(){this.dialogPermission=!1,this.userRole=[],this.canAddData=!1},openRolePermissions:function(o,m,l){var d=this,L=this;this.type=l,this.dialogTitle=m,this.dialogPermission=!0,this.loadingPermission=!0,this.form=Object.assign({},o);var V="";l==="user"?V="/api/master/user/roles":(this.canAddData=!0,V="/api/master/permission-role"),this.$axios.get(V,{params:{form:this.form}}).then(function(N){L.$refs.childDetails.setDataToDetails(N.data.data),d.loadingPermission=!1}).finally(function(N){d.loadingPermission=!1})},changeTab:function(o){var m=this;this.loadingPermission=!0,this.$axios.post("/api/master/permission-role",{form:o}).then(function(l){m.$refs.childDetails.setDataToDetails(l.data.data)}).finally(function(l){m.loadingPermission=!1})},getRolePermissionUser:function(o){var m=this;this.$axios.post("/api/master/user/role-permission",{item:o}).then(function(l){m.$refs.childDetails.setDataToDetails(l.data.data)}).finally(function(l){m.loadingPermission=!1})},getPermissionRole:function(o){var m=this;this.$axios.post("/api/master/permission-role",{form:this.form}).then(function(l){m.$refs.childDetails.setDataToDetails(l.data.data)}).finally(function(l){m.loadingPermission=!1})},saveRolePermission:function(){var o=this;this.loadingPermission=!0;var m=this.$refs.childDetails.getAddData(),l="";this.type==="user"?l="/api/master/user/permission":l="/api/master/permission-role",this.$axios.post(l,{details:m,form:this.form}).then(function(d){o.$swal({icon:"success",title:"Success",text:d.data.message}),o.type==="user"?o.getPermissionUser(o.form):o.getPermissionRole(o.form)}).catch(function(d){o.$swal({icon:"error",title:"Error",text:d.response.data.message})}).finally(function(d){o.loadingPermission=!1})}}},I=j,E=a(50),y=Object(E.a)(I,D,P,!1,null,null,null),h=C.default=y.exports},769:function(F,C,a){"use strict";a.r(C);var r=a(587),x=a(598),b=a(629),g=a(573),$=function(){var y=this,h=y._self._c;return h(x.a,{attrs:{"no-gutters":""}},[h(r.a,{staticClass:"pr-md-3 pl-md-3",attrs:{cols:"12",md:"6"}},[h(r.a,{staticClass:"pr-1 pl-1 pb-1 pt-1 mt-1",attrs:{cols:"12"}},[h(g.a,{attrs:{label:"Mailer",placeholder:"Product Name",outlined:"",dense:"","hide-details":"auto"}})],1),y._v(" "),h(r.a,{staticClass:"pr-1 pl-1 pb-1 pt-1 mt-1",attrs:{cols:"12"}},[h(g.a,{attrs:{label:"Host",placeholder:"Product Name",outlined:"",dense:"","hide-details":"auto"}})],1),y._v(" "),h(r.a,{staticClass:"pr-1 pl-1 pb-1 pt-1 mt-1",attrs:{cols:"12"}},[h(g.a,{attrs:{label:"Port",placeholder:"Product Name",outlined:"",dense:"","hide-details":"auto"}})],1),y._v(" "),h(r.a,{staticClass:"pr-1 pl-1 pb-1 pt-1 mt-1",attrs:{cols:"12"}},[h(g.a,{attrs:{label:"Username",placeholder:"Product Name",outlined:"",dense:"","hide-details":"auto"}})],1),y._v(" "),h(r.a,{staticClass:"pr-1 pl-1 pb-1 pt-1 mt-1",attrs:{cols:"12"}},[h(g.a,{attrs:{label:"Password",placeholder:"Product Name",outlined:"",dense:"","hide-details":"auto"}})],1),y._v(" "),h(r.a,{staticClass:"pr-1 pl-1 pb-1 pt-1 mt-1",attrs:{cols:"12"}},[h(b.a,{attrs:{items:["null","ssl","tls"],label:"Encryption",placeholder:"Product Name",outlined:"",dense:"","hide-details":"auto"}})],1),y._v(" "),h(r.a,{staticClass:"pr-1 pl-1 pb-1 pt-1 mt-1",attrs:{cols:"12"}},[h(g.a,{attrs:{label:"Mail From Address",placeholder:"Product Name",outlined:"",dense:"","hide-details":"auto"}})],1)],1)],1)},S=[],D={name:"EmailSetup",props:{formData:{type:Object,default:function(){return{}}}},data:function(){return{form:this.formData}},methods:{getForm:function(){return this.form},setForm:function(y){this.form=Object.assign({},y)}}},P=D,O=a(50),j=Object(O.a)(P,$,S,!1,null,null,null),I=C.default=j.exports},770:function(F,C,a){"use strict";a.r(C);var r=a(587),x=a(729),b=a(728),g=a(598),$=a(573),S=function(){var h=this,p=h._self._c;return p(g.a,{attrs:{"no-gutters":""}},[p(r.a,{staticClass:"pr-md-3 pl-md-3",attrs:{cols:"12",md:"6"}},[p(r.a,{staticClass:"pr-1 pl-1 pb-1 pt-1 mt-1",attrs:{cols:"12"}},[p($.a,{attrs:{label:"Invoice Number Prefix",placeholder:"Product Name",outlined:"",dense:"","hide-details":"auto"}})],1),h._v(" "),p(r.a,{staticClass:"pr-1 pl-1 pb-1 pt-1 mt-1",attrs:{cols:"12"}},[p(b.a,{attrs:{dense:"",row:"",label:"Invoice Number Format"}},[p(x.a,{attrs:{label:"Number Based (000001)",value:"radio-1"}}),h._v(" "),p(x.a,{attrs:{label:"000001-YY",value:"radio-1"}}),h._v(" "),p(x.a,{attrs:{label:"000001/MM/YYYY",value:"radio-1"}}),h._v(" "),p(x.a,{attrs:{label:"Year Based (YYYY/000001)",value:"radio-2"}})],1)],1)],1)],1)},D=[],P={name:"EmailSetup",props:{formData:{type:Object,default:function(){return{}}}},data:function(){return{form:this.formData}},methods:{getForm:function(){return this.form},setForm:function(h){this.form=Object.assign({},h)}}},O=P,j=a(50),I=Object(j.a)(O,S,D,!1,null,null,null),E=C.default=I.exports},771:function(F,C,a){"use strict";a.r(C);var r=a(620),x=a(624),b=a(616),g=a(573),$=function(){var y=this,h=y._self._c;return h(x.a,{staticClass:"pt-2"},[h(b.a,{attrs:{wrap:""}},[h(r.a,{staticClass:"d-flex",attrs:{md12:""}},[h(b.a,{attrs:{wrap:""}},[h(r.a,{staticClass:"pa-1 mb-1",attrs:{md12:""}},[h(g.a,{attrs:{label:"General Name",placeholder:"Product Name",outlined:"",dense:"","hide-details":"auto"}})],1)],1)],1)],1)],1)},S=[],D={name:"EmailSetup"},P=D,O=a(50),j=Object(O.a)(P,$,S,!1,null,null,null),I=C.default=j.exports},772:function(F,C,a){"use strict";a.r(C);var r=a(587),x=a(575),b=a(902),g=a(729),$=a(728),S=a(598),D=a(629),P=a(704),O=a(573),j=function(){var l=this,d=l._self._c;return d(S.a,{attrs:{"no-gutters":""}},[d(r.a,{staticClass:"pr-md-3 pl-md-3",attrs:{cols:"12",md:"6"}},[d(P.a,[l._v("General")]),l._v(" "),d(r.a,{staticClass:"pr-1 pl-1 pb-1 pt-1 mt-1",attrs:{cols:"12"}},[d(x.a)],1),l._v(" "),d(r.a,{staticClass:"pr-1 pl-1 pb-1 pt-1 mt-1",attrs:{cols:"12"}},[d(O.a,{attrs:{label:"Font Size",placeholder:"Product Name",outlined:"",dense:"","hide-details":"auto"}})],1),l._v(" "),d(r.a,{staticClass:"pr-1 pl-1 pb-1 pt-1 mt-1",attrs:{cols:"12"}},[d(O.a,{attrs:{label:"Logo",placeholder:"Product Name",outlined:"",dense:"","hide-details":"auto"}})],1),l._v(" "),d(r.a,{staticClass:"pr-1 pl-1 pb-1 pt-1 mt-1",attrs:{cols:"12"}},[d(O.a,{attrs:{label:"Logo Width",placeholder:"Product Name",outlined:"",dense:"","hide-details":"auto"}})],1),l._v(" "),d(P.a,[l._v("Signature")]),l._v(" "),d(r.a,{staticClass:"pr-1 pl-1 pb-1 pt-1 mt-1",attrs:{cols:"12"}},[d(x.a)],1),l._v(" "),d(r.a,{staticClass:"pr-1 pl-1 pb-1 pt-1 mt-1",attrs:{cols:"12"}},[d($.a,{attrs:{dense:"",row:"",label:"Show PDF Signature on Invoice"}},[d(g.a,{attrs:{label:"Option 1",value:"radio-1"}}),l._v(" "),d(g.a,{attrs:{label:"Option 2",value:"radio-2"}})],1)],1),l._v(" "),d(r.a,{staticClass:"pr-1 pl-1 pb-1 pt-1 mt-1",attrs:{cols:"12"}},[d(b.a,{attrs:{accept:"image/*",label:"Logo",placeholder:"Product Name",outlined:"",dense:"","hide-details":"auto"}})],1),l._v(" "),d(r.a,{staticClass:"pr-1 pl-1 pb-1 pt-1 mt-1",attrs:{cols:"12"}},[d(O.a,{attrs:{label:"Logo Width",placeholder:"Product Name",outlined:"",dense:"","hide-details":"auto"}})],1),l._v(" "),d(r.a,{staticClass:"pr-1 pl-1 pb-1 pt-1 mt-1",attrs:{cols:"12"}},[d(O.a,{attrs:{label:"Mail From Address",placeholder:"Product Name",outlined:"",dense:"","hide-details":"auto"}})],1)],1),l._v(" "),d(r.a,{staticClass:"pr-md-3 pl-md-3",attrs:{cols:"12",md:"6"}},[d(P.a,[l._v("Document Format")]),l._v(" "),d(r.a,{staticClass:"pr-1 pl-1 pb-1 pt-1 mt-1",attrs:{cols:"12"}},[d(x.a)],1),l._v(" "),d(r.a,{staticClass:"pr-1 pl-1 pb-1 pt-1 mt-1",attrs:{cols:"12"}},[d(D.a,{attrs:{items:l.paperSize,label:"Invoice",placeholder:"Product Name",outlined:"",dense:"","hide-details":"auto"}})],1),l._v(" "),d(r.a,{staticClass:"pr-1 pl-1 pb-1 pt-1 mt-1",attrs:{cols:"12"}},[d(D.a,{attrs:{items:l.paperSize,label:"Estimate",placeholder:"Product Name",outlined:"",dense:"","hide-details":"auto"}})],1),l._v(" "),d(r.a,{staticClass:"pr-1 pl-1 pb-1 pt-1 mt-1",attrs:{cols:"12"}},[d(D.a,{attrs:{items:l.paperSize,label:"Proposal",placeholder:"Product Name",outlined:"",dense:"","hide-details":"auto"}})],1),l._v(" "),d(r.a,{staticClass:"pr-1 pl-1 pb-1 pt-1 mt-1",attrs:{cols:"12"}},[d(D.a,{attrs:{items:l.paperSize,label:"Payment",placeholder:"Product Name",outlined:"",dense:"","hide-details":"auto"}})],1),l._v(" "),d(r.a,{staticClass:"pr-1 pl-1 pb-1 pt-1 mt-1",attrs:{cols:"12"}},[d(D.a,{attrs:{items:l.paperSize,label:"Credit Note",placeholder:"Product Name",outlined:"",dense:"","hide-details":"auto"}})],1),l._v(" "),d(r.a,{staticClass:"pr-1 pl-1 pb-1 pt-1 mt-1",attrs:{cols:"12"}},[d(D.a,{attrs:{items:l.paperSize,label:"Statement",placeholder:"Product Name",outlined:"",dense:"","hide-details":"auto"}})],1),l._v(" "),d(r.a,{staticClass:"pr-1 pl-1 pb-1 pt-1 mt-1",attrs:{cols:"12"}},[d(D.a,{attrs:{items:l.paperSize,label:"Contract",placeholder:"Product Name",outlined:"",dense:"","hide-details":"auto"}})],1)],1)],1)},I=[],E={name:"EmailSetup",props:{form:{type:Object,default:function(){return{}}}},data:function(){return{paperSize:["A4 Portrait","A4 Landscape","Letter Portrait","Letter Landscape"]}},methods:{getForm:function(){return this.form},setForm:function(l){this.form=Object.assign({},l)}}},y=E,h=a(50),p=Object(h.a)(y,j,I,!1,null,null,null),o=C.default=p.exports},773:function(F,C,a){"use strict";a.r(C);var r=a(165),x=a(249),b=a(87),g=a(908),$=a(594),S=a(575),D=a(620),P=a(624),O=a(247),j=a(616),I=a(589),E=a(573),y=a(72),h=a(121),p=a(27),o=a(7),m=a(46),l=function(){var e=this,c=e._self._c;return c(j.a,[c(D.a,{attrs:{sm12:"",md12:""}},[c("div",{staticClass:"mt-0"},[c(g.a,{staticClass:"elevation-1",attrs:{"mobile-breakpoint":0,headers:e.headers,items:e.allData,"items-per-page":20,options:e.options,"server-items-length":e.totalData,loading:e.loading,"footer-props":{"items-per-page-options":[20,50,100,-1]}},on:{"update:options":function(n){e.options=n}},scopedSlots:e._u([{key:"top",fn:function(){return[c(y.a,{attrs:{flat:"",color:"white",dense:""}},[c(h.a,{staticClass:"hidden-xs-only"},[e._v("Master Roles")]),e._v(" "),c(S.a,{staticClass:"mx-2",attrs:{inset:"",vertical:""}}),e._v(" "),c(I.a),e._v(" "),c(r.a,{attrs:{icon:"",color:"green",dark:""},on:{click:function(t){return e.newData()}}},[c(O.a,[e._v("mdi-plus-circle")])],1),e._v(" "),c(r.a,{attrs:{loading:e.loading,icon:""},on:{click:e.getDataFromApi}},[c(O.a,[e._v("mdi-refresh")])],1)],1)]},proxy:!0},{key:"item.ACTIONS",fn:function(n){var t=n.item;return[c(O.a,{staticClass:"mr-2",attrs:{small:"",color:"orange"},on:{click:function(u){return e.editItem(t)}}},[e._v(`
            mdi-pencil-circle
          `)]),e._v(" "),c(O.a,{staticClass:"mr-2",attrs:{small:"",color:"orange"},on:{click:function(u){return e.$refs.dialogPermission.openRolePermissions(t,"Role Permissions","role")}}},[e._v(`
            mdi-gate
          `)])]}}],null,!0)})],1)]),e._v(" "),c($.a,{attrs:{persistent:"","max-width":"500px"},model:{value:e.dialog,callback:function(n){e.dialog=n},expression:"dialog"}},[c(x.a,[c(b.c,[c("span",{staticClass:"headline"},[e._v(e._s(e.formTitle))])]),e._v(" "),c(b.b,[c(P.a,[c(j.a,{attrs:{wrap:""}},[e.message?c(D.a,{attrs:{xs12:""}},[c("div",{staticClass:"red darken-2 text-xs-center"},[c("span",{staticClass:"white--text"},[e._v(e._s(e.message))])])]):e._e(),e._v(" "),c(D.a,{staticClass:"d-flex",attrs:{md12:""}},[c(j.a,{attrs:{wrap:""}},[c(D.a,{staticClass:"pa-2",attrs:{md12:""}},[c(E.a,{attrs:{label:"Role Name",placeholder:"Role Name",outlined:"",dense:"","hide-details":"auto"},model:{value:e.form.name,callback:function(n){e.$set(e.form,"name",n)},expression:"form.name"}})],1),e._v(" "),c(D.a,{staticClass:"pa-2",attrs:{md12:""}},[c(E.a,{attrs:{label:"Description",placeholder:"Description",outlined:"",dense:"","hide-details":"auto"},model:{value:e.form.description,callback:function(n){e.$set(e.form,"description",n)},expression:"form.description"}})],1)],1)],1)],1)],1)],1),e._v(" "),c(b.a,[c(I.a),e._v(" "),c(r.a,{attrs:{color:"red darken-1",text:"",small:""},on:{click:function(n){e.dialog=!1}}},[e._v(`
          Close
        `)]),e._v(" "),c(r.a,{attrs:{color:"green darken-1",dark:"",small:"",loading:e.submitLoad},on:{click:function(n){return e.save()}}},[e._v(`
          Save
        `)])],1)],1)],1),e._v(" "),c("MasterDialogPermission",{ref:"dialogPermission"})],1)},d=[],L=a(58),V={name:"MasterRole",layout:"dashboard",data:function(){return{totalData:0,editedIndex:-1,loadNewBtn:!1,submitLoad:!1,dialogWindow:!1,statusProcessing:"insert",dialog:!1,message:!1,loading:!0,insertDivision:!0,insert:!0,loadingPermission:!0,allData:[],department:{},form:{id:null,name:null,description:null},defaultItem:{id:null,name:null,description:null},options:{},optionDivision:{},headers:[{text:"Role Name",value:"name"},{text:"Description",value:"description"},{text:"Guard",value:"guard_name"},{text:"Action",value:"ACTIONS",align:"center"}]}},head:function(){return{title:"Master Roles"}},computed:{formTitle:function(){return this.editedIndex===-1?"New":"Edit"}},watch:{options:{handler:function(){this.getDataFromApi()},deep:!0}},mounted:function(){this.getDataFromApi()},methods:{getDataFromApi:function(){var e=this;this.loading=!0;var c=this;this.$axios.get("/api/master/roles",{params:{options:c.options}}).then(function(v){e.loading=!1,e.allData=v.data.data.rows,e.totalData=v.data.data.total}).catch(function(v){e.loading=!1,e.$swal({type:"error",title:"Error",text:v.response.data.message})})},newData:function(){this.dialog=!0,this.statusProcessing="insert",this.form=Object.assign({},this.defaultItem),this.message=!1},editItem:function(e){this.editedIndex=this.allData.indexOf(e),this.form=Object.assign({},e),this.statusProcessing="update",this.dialog=!0,this.insert=!1},close:function(){var e=this;this.dialog=!1,this.statusProcessing="insert",setTimeout(function(){e.form=Object.assign({},e.defaultItem),e.editedIndex=-1},300)},save:function(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"all",c=arguments.length>1&&arguments[1]!==void 0?arguments[1]:null,v=this,n=this.form,t=this.statusProcessing,i={form:n,status:t};t==="insert"?(this.store("post","/api/master/roles",i,"insert",e),v.submitLoad=!1):t==="update"&&(this.store("put","/api/master/roles/"+this.form.id,i,"update",e),v.submitLoad=!1)},store:function(e,c,v,n){var t=this,i=arguments.length>4&&arguments[4]!==void 0?arguments[4]:"all",u=this;u.submitLoad=!0,this.$axios({method:e,url:c,data:v}).then(function(f){f.data.status==="Error"?(t.$swal({type:"error",title:"Error",text:f.data.message}),u.submitLoad=!1):(t.dialog=!1,t.message=f.data.message,setTimeout(function(){return t.message=!1},8e3),t.getDataFromApi())}).catch(function(f){t.$swal({type:"error",title:"Error",text:f.response.data.message}),u.submitLoad=!1})}}},N=V,_=a(50),A=Object(_.a)(N,l,d,!1,null,null,null),R=C.default=A.exports;installComponents(A,{MasterDialogPermission:a(659).default})},774:function(F,C,a){"use strict";a.r(C);var r=a(165),x=a(249),b=a(87),g=a(638),$=a(908),S=a(594),D=a(575),P=a(620),O=a(624),j=a(247),I=a(616),E=a(729),y=a(728),h=a(629),p=a(592),o=a(589),m=a(573),l=a(21),d=a(268),L=function(){var t=this,i=t._self._c;return i(I.a,[i(P.a,{attrs:{sm12:""}},[i("div",{staticClass:"mt-0"},[i(p.a,{directives:[{name:"show",rawName:"v-show",value:t.loading,expression:"loading"}],staticClass:"mx-auto",attrs:{type:"table"}}),t._v(" "),i($.a,{directives:[{name:"show",rawName:"v-show",value:!t.loading,expression:"!loading"}],staticClass:"elevation-1",attrs:{"mobile-breakpoint":0,headers:t.headers,items:t.allData,"items-per-page":20,options:t.options,"server-items-length":t.totalData,loading:t.loading,"footer-props":{"items-per-page-options":[20,50,100,-1]},dense:""},on:{"update:options":function(f){t.options=f}},scopedSlots:t._u([{key:"top",fn:function(){return[i("LazyMainToolbar",{attrs:{"document-status":t.documentStatus,"search-status":t.searchStatus,"item-search":t.itemSearch,"search-item":t.searchItem,search:t.search,filter:!1,title:"Master Permissions"},on:{emitData:t.emitData,newData:t.newData}})]},proxy:!0},{key:"item.ACTIONS",fn:function(f){var T=f.item;return[i(r.a,{attrs:{small:"",text:"",dark:"",color:"green"},on:{click:function(B){return t.editItem(T)}}},[i(j.a,{staticClass:"mr-2",attrs:{left:""}},[t._v(`
              mdi-pencil-circle
            `)]),t._v(`
            Edit
          `)],1)]}}],null,!0)})],1)]),t._v(" "),i(S.a,{attrs:{persistent:"","max-width":"600px",transition:"dialog-bottom-transition"},model:{value:t.dialog,callback:function(f){t.dialog=f},expression:"dialog"}},[i(x.a,[i(b.c,[i("LazyToolbarTitle",{attrs:{title:t.formTitle}}),t._v(" "),i(o.a),t._v(" "),i(r.a,{attrs:{icon:"",color:"red",dark:""},on:{click:function(f){t.dialog=!1}}},[i(j.a,[t._v("mdi-close-circle")])],1)],1),t._v(" "),i(D.a),t._v(" "),i(b.b,[i(O.a,[i(I.a,{attrs:{wrap:""}},[t.message?i(P.a,{attrs:{xs12:""}},[i("div",{staticClass:"red darken-2 text-xs-center"},[i("span",{staticClass:"white--text"},[t._v(t._s(t.message))])])]):t._e(),t._v(" "),i(P.a,{staticClass:"d-flex",attrs:{md12:""}},[i(I.a,{attrs:{wrap:""}},[i(P.a,{staticClass:"pa-1 mt-1",attrs:{xs12:""}},[i(h.a,{attrs:{items:t.itemRole,chips:"","deletable-chips":"","small-chips":"",label:"Role",multiple:"",outlined:"",dense:"","hide-details":"auto"},model:{value:t.form.role,callback:function(f){t.$set(t.form,"role",f)},expression:"form.role"}})],1),t._v(" "),i(P.a,{staticClass:"pa-1 mt-1",attrs:{xs12:""}},[i(h.a,{attrs:{items:t.dataParent,label:"Parent Name",outlined:"",dense:"","hide-details":"auto",clearable:""},model:{value:t.form.parent_name,callback:function(f){t.$set(t.form,"parent_name",f)},expression:"form.parent_name"}})],1),t._v(" "),i(P.a,{staticClass:"pa-1 mt-1",attrs:{md12:""}},[i(m.a,{attrs:{label:"Name",placeholder:"Name",outlined:"",dense:"","hide-details":"auto"},model:{value:t.form.menu_name,callback:function(f){t.$set(t.form,"menu_name",f)},expression:"form.menu_name"}})],1),t._v(" "),i(P.a,{staticClass:"pa-1 mt-1",attrs:{md12:""}},[i(m.a,{attrs:{label:"Icon",placeholder:"Icon",outlined:"",dense:"","hide-details":"auto"},model:{value:t.form.icon,callback:function(f){t.$set(t.form,"icon",f)},expression:"form.icon"}})],1),t._v(" "),i(P.a,{staticClass:"pa-1 mt-1",attrs:{md12:""}},[i(m.a,{attrs:{label:"Order Line",placeholder:"Order Line",outlined:"",dense:"","hide-details":"auto"},model:{value:t.form.order_line,callback:function(f){t.$set(t.form,"order_line",f)},expression:"form.order_line"}})],1),t._v(" "),i(P.a,{staticClass:"pa-1 mt-1",attrs:{xs12:""}},[i(y.a,{attrs:{row:"","hide-details":"auto",label:"Has Route"},model:{value:t.form.has_route,callback:function(f){t.$set(t.form,"has_route",f)},expression:"form.has_route"}},[i(E.a,{attrs:{label:"Yes",value:"Y",color:"primary"}}),t._v(" "),i(E.a,{attrs:{label:"No",value:"N",color:"primary"}})],1)],1),t._v(" "),t.form.has_route==="Y"?i(P.a,{staticClass:"pa-1",attrs:{md12:""}},[i(m.a,{attrs:{label:"Route Name",placeholder:"Route Name",outlined:"",dense:"","hide-details":"auto"},model:{value:t.form.route_name,callback:function(f){t.$set(t.form,"route_name",f)},expression:"form.route_name"}})],1):t._e(),t._v(" "),i(P.a,{staticClass:"pa-1",attrs:{xs12:""}},[i(y.a,{attrs:{row:"","hide-details":"auto",label:"Has Child"},model:{value:t.form.has_child,callback:function(f){t.$set(t.form,"has_child",f)},expression:"form.has_child"}},[i(E.a,{attrs:{label:"Yes",value:"Y",color:"primary"}}),t._v(" "),i(E.a,{attrs:{label:"No",value:"N",color:"primary"}})],1)],1),t._v(" "),i(P.a,{staticClass:"pa-1",attrs:{xs12:""}},[i(y.a,{attrs:{row:"","hide-details":"auto",label:"Is CRUD"},model:{value:t.form.is_crud,callback:function(f){t.$set(t.form,"is_crud",f)},expression:"form.is_crud"}},[i(E.a,{attrs:{label:"Yes",value:"Y",color:"primary"},on:{change:function(f){return t.changeCrud("Y")}}}),t._v(" "),i(E.a,{attrs:{label:"No",value:"N",color:"primary"},on:{change:function(f){return t.changeCrud("N")}}})],1)],1),t._v(" "),i(P.a,{staticClass:"pa-1 d-flex",attrs:{xs12:""}},[i("span",{staticClass:"font-weight-medium"},[t._v("Ability")])]),t._v(" "),i(P.a,{staticClass:"pa-1 d-flex",attrs:{xs12:""}},[i(g.a,{attrs:{value:t.form.index,label:"Index",color:"primary","hide-details":""},model:{value:t.form.index,callback:function(f){t.$set(t.form,"index",f)},expression:"form.index"}}),t._v(" "),i(g.a,{attrs:{value:t.form.store,label:"Store",color:"primary","hide-details":""},model:{value:t.form.store,callback:function(f){t.$set(t.form,"store",f)},expression:"form.store"}}),t._v(" "),i(g.a,{attrs:{value:t.form.edits,label:"Edits",color:"primary","hide-details":""},model:{value:t.form.edits,callback:function(f){t.$set(t.form,"edits",f)},expression:"form.edits"}}),t._v(" "),i(g.a,{attrs:{value:t.form.erase,label:"Erase",color:"primary","hide-details":""},model:{value:t.form.erase,callback:function(f){t.$set(t.form,"erase",f)},expression:"form.erase"}})],1)],1)],1)],1)],1)],1),t._v(" "),i(D.a),t._v(" "),i(b.a,[i(o.a),t._v(" "),i(r.a,{attrs:{color:"blue darken-1",dark:"",small:"",loading:t.submitLoad},on:{click:function(f){return t.save()}}},[t._v(`
          Save
        `)])],1)],1)],1),t._v(" "),i(S.a,{attrs:{persistent:"","max-width":"1000px"},model:{value:t.dialogPermission,callback:function(f){t.dialogPermission=f},expression:"dialogPermission"}},[i(x.a,{attrs:{loading:t.loadingPermission}},[i(b.c,[i("span",{staticClass:"font-weight-medium"},[t._v("Role Permission")])]),t._v(" "),i(b.b,[i("div",{staticClass:"scroll-container"},[i("LazyMasterPermissionList",{ref:"childDetails"})],1)]),t._v(" "),i(b.a,[i(r.a,{staticClass:"white--text",attrs:{small:"",color:"blue darken-1"},on:{click:function(f){return t.$refs.childDetails.addLine()}}},[i(j.a,{attrs:{small:""}},[t._v(" mdi-plus ")])],1),t._v(" "),i(o.a),t._v(" "),i(r.a,{attrs:{color:"red darken-1",dark:"",small:""},on:{click:function(f){t.dialogPermission=!1}}},[t._v(`
          close
        `)]),t._v(" "),i(r.a,{attrs:{color:"green darken-1",dark:"",small:"",loading:t.loadingPermission},on:{click:function(f){return t.saveRolePermission()}}},[t._v(`
          Save
        `)])],1)],1)],1)],1)},V=[],N=a(58),_=a(4),A=a(27),R={name:"MasterPermission",layout:"dashboard",data:function(){return{totalData:0,editedIndex:-1,loadNewBtn:!1,submitLoad:!1,dialogWindow:!1,statusProcessing:"insert",dialog:!1,dialogPermission:!1,message:!1,loading:!0,insertDivision:!0,insert:!0,documentStatus:[],itemSearch:[],searchStatus:"",searchItem:"",search:"",loadingPermission:!0,allData:[],dataParent:[],itemApps:[],itemRole:[],department:{},form:{id:null,is_crud:"N",order_line:null,has_route:"N",has_child:"N",route_name:"N",icon:null,menu_name:null,parent_name:null,app_name:null,name:null,old_name:null,index:"Y",store:"",edits:"",erase:"",role:[]},defaultItem:{id:null,is_crud:"N",order_line:null,has_route:"N",has_child:"N",route_name:"N",icon:null,menu_name:null,parent_name:null,app_name:null,name:null,old_name:null,index:"Y",store:"",edits:"",erase:"",role:[]},options:{},headers:[{text:"Name",value:"menu_name"},{text:"Parent Name",value:"parent_name"},{text:"Route",value:"route_name"},{text:"Has Child",value:"has_child"},{text:"Is CRUD",value:"is_crud"},{text:"Order Line",value:"order_line"},{text:"Action",value:"ACTIONS",align:"center"}]}},head:function(){return{title:"Master Permissions"}},computed:{formTitle:function(){return this.editedIndex===-1?"New":"Edit"}},watch:{options:{handler:function(){this.getDataFromApi()},deep:!0}},mounted:function(){this.getDataFromApi(),this.getRole()},methods:{getRole:function(){var t=this;this.$axios.get("/api/master/roles").then(function(i){t.itemRole=i.data.data.simple})},emitData:function(t){this.documentStatus=t.documentStatus,this.itemSearch=t.itemSearch,this.searchStatus=t.searchStatus,this.searchItem=t.searchItem,this.search=t.search,this.filters=t.filters,this.getDataFromApi()},getDataFromApi:function(){var t=this;this.loading=!0;var i=this;this.$axios.get("/api/master/permissions",{params:{options:i.options}}).then(function(u){t.loading=!1,t.allData=u.data.data.rows,t.totalData=u.data.data.total,t.dataParent=u.data.data.parent}).catch(function(u){t.loading=!1,t.$swal({type:"error",title:"Error",text:u.response.data.message})})},newData:function(){this.dialog=!0,this.statusProcessing="insert",this.form=Object.assign({},this.defaultItem),this.message=!1},editItem:function(t){var i=this;this.editedIndex=this.allData.indexOf(t),this.form=Object.assign({},t),this.statusProcessing="update",this.$axios.get("/api/master/permissions/"+this.form.parent_id,{params:{menu_name:this.form.menu_name}}).then(function(u){var f=Object.assign({},u.data.data.rows);f.old_name=u.data.data.rows.menu_name,f.role=JSON.parse(u.data.data.rows.role_name),setTimeout(function(){return i.form=Object.assign({},f)},150)}),this.dialog=!0,this.insert=!1},openDialogPermission:function(t){this.dialogPermission=!0,this.loadingPermission=!0,this.form=Object.assign({},t),this.getPermissionRole(t)},getPermissionRole:function(t){var i=this;this.$axios.get("/api/master/permission-role",{params:{role:t.name}}).then(function(u){i.$refs.childDetails.setDataToDetails(u.data.data.rows)}).finally(function(u){i.loadingPermission=!1})},saveRolePermission:function(){var t=this;this.loadingPermission=!0;var i=this.$refs.childDetails.getAddData();this.$axios.post("/api/master/permission-role",{details:i,role:this.form.name}).then(function(u){t.$swal({icon:"success",title:"Success",text:u.data.message}),t.getPermissionRole(t.form)}).catch(function(u){t.$swal({type:"error",title:"Error",text:u.response.data.message})}).finally(function(u){t.loadingPermission=!1})},close:function(){var t=this;this.dialog=!1,this.statusProcessing="insert",setTimeout(function(){t.form=Object.assign({},t.defaultItem),t.editedIndex=-1},300)},save:function(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"all",i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:null,u=this,f=this.form,T=this.statusProcessing,U={form:f,status:T};T==="insert"?(this.store("post","/api/master/permissions",U,"insert",t),u.submitLoad=!1):T==="update"&&(this.store("put","/api/master/permissions/"+this.form.parent_id,U,"update",t),u.submitLoad=!1)},store:function(t,i,u,f){var T=this,U=arguments.length>4&&arguments[4]!==void 0?arguments[4]:"all",B=this;B.submitLoad=!0,this.$axios({method:t,url:i,data:u}).then(function(M){M.data.status==="Error"?(T.$swal({type:"error",title:"Error",text:M.data.message}),B.submitLoad=!1):(T.dialog=!1,T.message=M.data.message,setTimeout(function(){return T.message=!1},8e3),T.$nuxt.$emit("getMenu","nice payload"),T.getDataFromApi())}).catch(function(M){T.$swal({type:"error",title:"Error",text:M.response.data.message}),B.submitLoad=!1})},changeCrud:function(t){t==="Y"?(this.form.index="Y",this.form.store="Y",this.form.edits="Y",this.form.erase="Y"):(this.form.index="",this.form.store="",this.form.edits="",this.form.erase="")}}},s=R,e=a(50),c=Object(e.a)(s,L,V,!1,null,null,null),v=C.default=c.exports},775:function(F,C,a){"use strict";a.r(C);var r=a(633),x=a(165),b=a(908),g=a(620),$=a(624),S=a(247),D=a(616),P=a(629),O=a(592),j=a(899),I=a(573),E=a(21),y=a(268),h=a(27),p=function(){var s=this,e=s._self._c;return e(D.a,[e(g.a,{attrs:{sm12:""}},[e("div",{staticClass:"mt-0"},[e(O.a,{directives:[{name:"show",rawName:"v-show",value:s.loading,expression:"loading"}],staticClass:"mx-auto",attrs:{type:"table"}}),s._v(" "),e(b.a,{directives:[{name:"show",rawName:"v-show",value:!s.loading,expression:"!loading"}],staticClass:"elevation-1",attrs:{"mobile-breakpoint":0,headers:s.headers,items:s.allData,"items-per-page":20,options:s.options,"server-items-length":s.totalData,loading:s.loading,dense:"","footer-props":{"items-per-page-options":[20,50,100,-1]}},on:{"update:options":function(v){s.options=v}},scopedSlots:s._u([{key:"top",fn:function(){return[e("LazyMainToolbar",{staticClass:"has-border-bottom",attrs:{"document-status":s.documentStatus,"search-status":s.searchStatus,"item-search":s.itemSearch,"search-item":s.searchItem,search:s.search,filter:!1,title:"Users","title-button":"User"},on:{emitData:s.emitData,newData:s.newData}})]},proxy:!0},{key:"item.Action",fn:function(v){var n=v.item;return[e(x.a,{attrs:{value:"left",small:"",icon:""},on:{click:function(i){return s.editItem(n)}}},[e(S.a,{attrs:{left:""}},[s._v(`
              mdi-pencil-circle
            `)])],1),s._v(" "),e(x.a,{attrs:{value:"center",small:"",icon:""},on:{click:function(i){return s.copyItem(n)}}},[e(S.a,{attrs:{left:""}},[s._v(`
              mdi-content-copy
            `)])],1),s._v(" "),e(x.a,{attrs:{value:"right",small:"",icon:""},on:{click:function(i){return s.$refs.dialogPermission.openDialogPermission(n,"Direct Permissions")}}},[e(S.a,{attrs:{left:""}},[s._v(`
              mdi-playlist-edit
            `)])],1)]}}],null,!0)})],1)]),s._v(" "),e("DialogForm",{ref:"dialogForm",attrs:{"max-width":"600px","dialog-title":s.formTitle,"button-title":"Save"},scopedSlots:s._u([{key:"content",fn:function(){return[e($.a,[e(D.a,{attrs:{wrap:""}},[e(g.a,{staticClass:"d-flex",attrs:{md12:""}},[e(D.a,{attrs:{wrap:""}},[e(g.a,{staticClass:"pa-2",attrs:{xs12:""}},[e(I.a,{attrs:{label:"Name",placeholder:"Name",outlined:"",dense:"",clearable:"","hide-details":"auto"},model:{value:s.form.name,callback:function(n){s.$set(s.form,"name",n)},expression:"form.name"}})],1),s._v(" "),e(g.a,{staticClass:"pa-2",attrs:{xs12:""}},[e(I.a,{attrs:{label:"Username",placeholder:"Username",outlined:"",dense:"",clearable:"","hide-details":"auto"},model:{value:s.form.username,callback:function(n){s.$set(s.form,"username",n)},expression:"form.username"}})],1),s._v(" "),e(g.a,{staticClass:"pa-2",attrs:{xs12:""}},[e(I.a,{attrs:{label:"E-mail",placeholder:"E-mail",outlined:"",dense:"",clearable:"","hide-details":"auto"},model:{value:s.form.email,callback:function(n){s.$set(s.form,"email",n)},expression:"form.email"}})],1),s._v(" "),e(g.a,{staticClass:"pa-2",attrs:{xs12:""}},[e(r.a,{attrs:{items:s.itemRole,chips:"","deletable-chips":"","hide-no-data":"","small-chips":"",label:"Role",multiple:"",outlined:"",dense:"","hide-details":"auto"},model:{value:s.form.role,callback:function(n){s.$set(s.form,"role",n)},expression:"form.role"}})],1),s._v(" "),e(g.a,{staticClass:"pa-2",attrs:{xs12:""}},[e(P.a,{attrs:{items:s.itemEntity,"hide-no-data":"",label:"Company",outlined:"",dense:"","item-text":"name","item-value":"id","hide-details":"auto",clearable:""},model:{value:s.form.entity_id,callback:function(n){s.$set(s.form,"entity_id",n)},expression:"form.entity_id"}})],1),s._v(" "),e(g.a,{staticClass:"pa-2",attrs:{xs12:""}},[e(j.a,{attrs:{inset:"",label:"Enabled"},model:{value:s.form.enabled,callback:function(n){s.$set(s.form,"enabled",n)},expression:"form.enabled"}})],1)],1)],1)],1)],1)]},proxy:!0},{key:"saveData",fn:function(){return[e(x.a,{attrs:{color:"green darken-1",small:"",dark:"",loading:s.submitLoad},on:{click:function(n){return s.save()}}},[s._v(`
        Save
      `)])]},proxy:!0}])}),s._v(" "),e("MasterDialogPermission",{ref:"dialogPermission"})],1)},o=[],m=a(58),l=a(10),d=a(4),L={name:"MasterUser",layout:"dashboard",data:function(){return{totalData:0,editedIndex:-1,loadNewBtn:!1,submitLoad:!1,statusProcessing:"insert",show:!1,dialog:!1,message:!1,loading:!0,loadingSync:!1,searchItem:"",searchRole:"",search:"",searchStatus:"",allData:[],itemRole:[],itemEntity:[],itemSearch:[],documentStatus:[],options:{},sub_id:{},url:"",form:{},defaultForm:{},headers:[{text:"Username",value:"username"},{text:"Name",value:"name"},{text:"Email",value:"email"},{text:"Enabled",value:"enabled"},{text:"Role",value:"role"},{text:"Action",value:"Action",align:"end"}]}},head:function(){return{title:"Master Users"}},computed:{formTitle:function(){return this.editedIndex===-1?"New User":"Edit User"}},watch:{options:{handler:function(){this.getDataFromApi()},deep:!0}},mounted:function(){var s=this;setTimeout(function(){s.refreshData()},500)},methods:{emitData:function(s){this.documentStatus=s.documentStatus,this.itemSearch=s.itemSearch,this.searchStatus=s.searchStatus,this.searchItem=s.searchItem,this.search=s.search,this.filters=s.filters,this.getDataFromApi()},refreshData:function(){this.getDataFromApi(),this.getRole(),this.getEntity()},getRole:function(){var s=this;this.$axios.get("/api/master/roles").then(function(e){s.itemRole=e.data.data.simple}).catch(function(e){s.$swal({type:"error",title:"Error",text:e.response.data.message})})},getEntity:function(){var s=this;this.$axios.get("/api/entities").then(function(e){s.itemEntity=e.data.data.rows}).catch(function(e){s.$swal({type:"error",title:"Error",text:e.response.data.message})})},getDataFromApi:function(){var s=this;this.loading=!0;var e=this;this.$axios.get("/api/master/users",{params:{options:e.options,searchItem:e.searchItem,documentStatus:e.documentStatus,searchStatus:e.searchStatus,search:e.search}}).then(function(c){s.loading=!1,s.allData=c.data.data.rows,s.totalData=c.data.data.total,s.itemSearch=c.data.data.filter,s.form=Object.assign({},c.data.data.form),s.defaultForm=Object.assign({},c.data.data.form)}).catch(function(c){s.loading=!1,s.$swal({type:"error",title:"Error",text:c.response.data.message})})},newData:function(){var s=this;this.$refs.dialogForm.openDialog(),setTimeout(function(){s.form=Object.assign({},s.defaultForm),s.editedIndex=-1},300),this.statusProcessing="insert"},editItem:function(s){var e=s;e.role=JSON.parse(e.role),this.statusProcessing="update",this.editedIndex=this.allData.indexOf(s),this.form=Object.assign({},e),this.$refs.dialogForm.openDialog(),this.insert=!1},copyItem:function(s){var e=s;e.role=JSON.parse(e.role),this.statusProcessing="copy",this.editedIndex=this.allData.indexOf(s),this.form=Object.assign({},e),this.$refs.dialogForm.openDialog(),this.insert=!1},close:function(){var s=this;this.statusProcessing="insert",this.dialog=!1,setTimeout(function(){s.form=Object.assign({},s.defaultForm),s.editedIndex=-1},300)},save:function(){var s=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"all",e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:null,c=this,v=this.form,n=this.statusProcessing;c.submitLoad=!0,n==="insert"?this.store("post","/api/master/users",v,"insert",s):n==="copy"?this.store("post","/api/master/users",v,"insert",s):n==="update"&&this.store("put","/api/master/users/"+this.form.id,v,"update",s)},store:function(s,e,c,v){var n=this,t=arguments.length>4&&arguments[4]!==void 0?arguments[4]:"all",i=this;i.submitLoad=!0,this.$axios({method:s,url:e,data:c}).then(function(u){n.dialog=!1,n.$swal({type:"success",title:"Success!",text:u.data.message}),n.$refs.dialogForm.closeDialog(),n.getDataFromApi(),i.submitLoad=!1}).catch(function(u){n.$swal({type:"error",title:"Error",text:u.response.data.message}),i.submitLoad=!1})}}},V=L,N=a(50),_=Object(N.a)(V,p,o,!1,null,null,null),A=C.default=_.exports;installComponents(_,{DialogForm:a(600).default,MasterDialogPermission:a(659).default})}}]);
