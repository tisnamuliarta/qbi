(window.webpackJsonp=window.webpackJsonp||[]).push([[17],{1102:function(p,E,t){"use strict";t.r(E);var i=function(){var s=this,m=s.$createElement,e=s._self._c||m;return e("v-dialog",{attrs:{persistent:"","max-width":"800px"},model:{value:s.dialogAttachment,callback:function(o){s.dialogAttachment=o},expression:"dialogAttachment"}},[e("v-card",[e("v-card-title",[e("span",{staticClass:"font-weight-medium"},[s._v(`
        `+s._s(s.dialogTitle)+`
      `)])]),s._v(" "),e("v-card-text",[e("v-layout",{attrs:{wrap:""}},[e("v-row",[e("v-col",{staticClass:"mt-0",attrs:{cols:"12",md:"4",sm:"12"}},[e("dropzone",{ref:"attachment",attrs:{id:"attachment",options:s.options,"destroy-dropzone":!0},on:{"vdropzone-sending":function(o,v,h){return s.sendingParams(o,v,h)},"vdropzone-success":function(o,v){return s.reloadAttachment(o,v)},"vdropzone-error":function(o,v,h){return s.handleError(o,v,h)}}})],1),s._v(" "),e("v-col",{staticClass:"mt-0",attrs:{cols:"12",md:"8",sm:"12"}},[e("v-data-table",{staticClass:"elevation-1",attrs:{headers:s.headers,items:s.items,loading:s.showLoadingAttachment,dense:""},scopedSlots:s._u([{key:"item.action",fn:function(o){var v=o.item;return[e("v-tooltip",{attrs:{top:""},scopedSlots:s._u([{key:"activator",fn:function(h){var H=h.on,S=h.attrs;return[e("v-btn",s._g(s._b({attrs:{icon:""}},"v-btn",S,!1),H),[e("v-icon",{staticClass:"mr-2",attrs:{small:"",color:"orange"},on:{click:function(ot){return s.deleteFile(v)}}},[s._v(`
                        mdi-delete-circle
                      `)])],1)]}}],null,!0)},[s._v(" "),e("span",[s._v("Delete")])])]}},{key:"item.file_name",fn:function(o){var v=o.item;return[e("a",{attrs:{href:v.file_path,target:"_blank"},domProps:{textContent:s._s(v.file_name)}})]}}],null,!0)})],1)],1)],1)],1),s._v(" "),e("v-card-actions",[e("v-spacer"),s._v(" "),e("v-btn",{attrs:{color:"red darken-1",dark:"",small:""},on:{click:function(o){s.dialogAttachment=!1}}},[s._v(`
        close
      `)])],1)],1)],1)},O=[],g=t(59),I=t(648),R=t.n(I),K=t(649),C={name:"Attachment",components:{Dropzone:R.a},data:function(){return{dialogAttachment:!1,showLoadingAttachment:!1,dialogTitle:"Attachment",options:{url:"/qb-core/api/attachment",timeout:9e9,thumbnailWidth:50,thumbnailHeight:50,addRemoveLinks:!0,dictDefaultMessage:"<span class='mdi mdi-cloud-upload'></span> UPLOAD HERE",headers:{Authorization:this.$auth.$storage.getLocalStorage("_token.local")}},headers:[{text:"Attachment",value:"file_name"},{text:"Action",value:"action"}],items:[],total:0,source_id:null,type:null,row:null}},methods:{openAttachment:function(m,e,o){var v=this;this.dialogAttachment=!0,this.source_id=m,this.type=e,this.row=o,setTimeout(function(){v.getAttachment()},300)},sendingParams:function(m,e,o){o.append("source_id",this.source_id),o.append("type",this.type)},handleError:function(m,e,o){this.$swal({type:"error",title:"Oops...",text:e.message})},reloadAttachment:function(m,e){var o=this;e.errors?this.$swal({type:"error",title:"Oops...",text:e.message}):(this.$emit("eventCountAttachment",{total:e.data.count,row:this.row}),setTimeout(function(){o.getAttachment()},300),this.$swal({type:"success",title:"Success...",text:"Attachment uploaded!"}))},deleteFile:function(m){var e=this,o=this;this.$swal({title:"Are you sure?",text:"The file will be permanently deleted",type:"warning",showCancelButton:!0,confirmButtonColor:"#3085d6",cancelButtonColor:"#d33",confirmButtonText:"Yes, delete it!"}).then(function(v){v.value&&e.$axios.delete("/api/attachment",{params:{id:m.id}}).then(function(h){e.$swal({type:"success",title:"Success...",text:"Attachment Deleted!"}),o.getAttachment()}).catch(function(h){e.$swal({type:"error",title:"Oops...",text:h.response.data.message})})})},getAttachment:function(){var m=this;this.showLoadingAttachment=!0;var e=this;this.$axios.get("/api/attachment",{params:{type:e.type,source_id:e.source_id}}).then(function(o){e.items=o.data.data.rows,e.total=o.data.data.total,e.showLoadingAttachment=!1}).catch(function(o){m.showLoadingAttachment=!1,m.$swal({type:"error",title:"Oops...",text:o.response.message})})}}},x=C,P=t(50),T=t(51),j=t.n(T),y=t(164),W=t(247),_=t(88),n=t(581),r=t(1018),u=t(591),M=t(246),f=t(615),D=t(595),N=t(589),U=t(935),V=Object(P.a)(x,i,O,!1,null,null,null),Y=E.default=V.exports;j()(V,{VBtn:y.a,VCard:W.a,VCardActions:_.a,VCardText:_.b,VCardTitle:_.c,VCol:n.a,VDataTable:r.a,VDialog:u.a,VIcon:M.a,VLayout:f.a,VRow:D.a,VSpacer:N.a,VTooltip:U.a})},595:function(p,E,t){"use strict";var i=t(7),O=t.n(i),g=t(9),I=t.n(g),R=t(12),K=t.n(R),C=t(13),x=t.n(C),P=t(1),T=t(4),j=t.n(T),y=t(33),W=t.n(y),_=t(52),n=t.n(_),r=t(27),u=t.n(r),M=t(8),f=t.n(M),D=t(21),N=t.n(D),U=t(65),V=t.n(U),Y=t(266),s=t.n(Y),m=t(32),e=t.n(m),o=t(267),v=t.n(o),h=t(268),H=t.n(h),S=t(269),ot=t.n(S),at=t(270),Tt=t.n(at),_t=t(271),yt=t.n(_t),it=t(272),Lt=t.n(it),rt=t(273),Bt=t.n(rt),lt=t(274),It=t.n(lt),ct=t(275),Rt=t.n(ct),dt=t(276),xt=t.n(dt),ut=t(277),Wt=t.n(ut),vt=t(278),Kt=t.n(vt),mt=t(279),Ut=t.n(mt),ft=t(35),Vt=t.n(ft),ht=t(10),St=t.n(ht),Et=t(280),$t=t.n(Et),Ot=t(2),pt=t(78),Dt=t(0);function X(d,l){var c=Object.keys(d);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(d);l&&(a=a.filter(function(L){return Object.getOwnPropertyDescriptor(d,L).enumerable})),c.push.apply(c,a)}return c}function $(d){for(var l=1;l<arguments.length;l++){var c=arguments[l]!=null?arguments[l]:{};l%2?X(Object(c),!0).forEach(function(a){Object(P.a)(d,a,c[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(d,Object.getOwnPropertyDescriptors(c)):X(Object(c)).forEach(function(a){Object.defineProperty(d,a,Object.getOwnPropertyDescriptor(c,a))})}return d}var Pt=["sm","md","lg","xl"],z=["start","end","center"];function b(d,l){return Pt.reduce(function(c,a){return c[d+Object(Dt.H)(a)]=l(),c},{})}var J=function(l){return[].concat(z,["baseline","stretch"]).includes(l)},Z=b("align",function(){return{type:String,default:null,validator:J}}),Q=function(l){return[].concat(z,["space-between","space-around"]).includes(l)},w=b("justify",function(){return{type:String,default:null,validator:Q}}),k=function(l){return[].concat(z,["space-between","space-around","stretch"]).includes(l)},q=b("alignContent",function(){return{type:String,default:null,validator:k}}),tt={align:Object.keys(Z),justify:Object.keys(w),alignContent:Object.keys(q)},Mt={align:"align",justify:"justify",alignContent:"align-content"};function jt(d,l,c){var a=Mt[d];if(c!=null){if(l){var L=l.replace(d,"");a+="-".concat(L)}return a+="-".concat(c),a.toLowerCase()}}var et=new Map;E.a=Ot.default.extend({name:"v-row",functional:!0,props:$($($({tag:{type:String,default:"div"},dense:Boolean,noGutters:Boolean,align:{type:String,default:null,validator:J}},Z),{},{justify:{type:String,default:null,validator:Q}},w),{},{alignContent:{type:String,default:null,validator:k}},q),render:function(l,c){var a=c.props,L=c.data,gt=c.children,G="";for(var At in a)G+=String(a[At]);var A=et.get(G);return A||function(){var B;A=[];var F;for(F in tt)tt[F].forEach(function(st){var Ct=a[st],nt=jt(F,st,Ct);nt&&A.push(nt)});A.push((B={"no-gutters":a.noGutters,"row--dense":a.dense},Object(P.a)(B,"align-".concat(a.align),a.align),Object(P.a)(B,"justify-".concat(a.justify),a.justify),Object(P.a)(B,"align-content-".concat(a.alignContent),a.alignContent),B)),et.set(G,A)}(),l(a.tag,Object(pt.a)(L,{staticClass:"row",class:A}),gt)}})},615:function(p,E,t){"use strict";var i=t(281),O=t.n(i),g=t(282);E.a=Object(g.a)("layout")},832:function(p,E,t){var i=t(833);i.__esModule&&(i=i.default),typeof i=="string"&&(i=[[p.i,i,""]]),i.locals&&(p.exports=i.locals);var O=t(15).default,g=O("210504a4",i,!0,{sourceMap:!1})},833:function(p,E,t){var i=t(14),O=i(!1);O.push([p.i,".v-tooltip{display:none}.v-tooltip--attached{display:inline}.v-tooltip__content{background:rgba(97,97,97,.9);color:#fff;border-radius:4px;font-size:14px;line-height:22px;display:inline-block;padding:5px 16px;position:absolute;text-transform:none;width:auto;opacity:0;pointer-events:none}.v-tooltip__content.menuable__content__active{opacity:.9}.v-tooltip__content--fixed{position:fixed}.v-tooltip__content[class*=-active]{transition-timing-function:cubic-bezier(0,0,.2,1)}.v-tooltip__content[class*=enter-active]{transition-duration:.15s}.v-tooltip__content[class*=leave-active]{transition-duration:75ms}",""]),p.exports=O},935:function(p,E,t){"use strict";var i=t(1),O=t(22),g=t.n(O),I=t(832),R=t.n(I),K=t(115),C=t(23),x=t(198),P=t(133),T=t(243),j=t(0),y=t(11),W=t(5);E.a=Object(W.a)(C.a,x.a,P.a,T.a).extend({name:"v-tooltip",props:{closeDelay:{type:[Number,String],default:0},disabled:Boolean,openDelay:{type:[Number,String],default:0},openOnHover:{type:Boolean,default:!0},openOnFocus:{type:Boolean,default:!0},tag:{type:String,default:"span"},transition:String},data:function(){return{calculatedMinWidth:0,closeDependents:!1}},computed:{calculatedLeft:function(){var n=this.dimensions,r=n.activator,u=n.content,M=!this.bottom&&!this.left&&!this.top&&!this.right,f=this.attach!==!1?r.offsetLeft:r.left,D=0;return this.top||this.bottom||M?D=f+r.width/2-u.width/2:(this.left||this.right)&&(D=f+(this.right?r.width:-u.width)+(this.right?10:-10)),this.nudgeLeft&&(D-=parseInt(this.nudgeLeft)),this.nudgeRight&&(D+=parseInt(this.nudgeRight)),"".concat(this.calcXOverflow(D,this.dimensions.content.width),"px")},calculatedTop:function(){var n=this.dimensions,r=n.activator,u=n.content,M=this.attach!==!1?r.offsetTop:r.top,f=0;return this.top||this.bottom?f=M+(this.bottom?r.height:-u.height)+(this.bottom?10:-10):(this.left||this.right)&&(f=M+r.height/2-u.height/2),this.nudgeTop&&(f-=parseInt(this.nudgeTop)),this.nudgeBottom&&(f+=parseInt(this.nudgeBottom)),this.attach===!1&&(f+=this.pageYOffset),"".concat(this.calcYOverflow(f),"px")},classes:function(){return{"v-tooltip--top":this.top,"v-tooltip--right":this.right,"v-tooltip--bottom":this.bottom,"v-tooltip--left":this.left,"v-tooltip--attached":this.attach===""||this.attach===!0||this.attach==="attach"}},computedTransition:function(){return this.transition?this.transition:this.isActive?"scale-transition":"fade-transition"},offsetY:function(){return this.top||this.bottom},offsetX:function(){return this.left||this.right},styles:function(){return{left:this.calculatedLeft,maxWidth:Object(j.h)(this.maxWidth),minWidth:Object(j.h)(this.minWidth),top:this.calculatedTop,zIndex:this.zIndex||this.activeZIndex}}},beforeMount:function(){var n=this;this.$nextTick(function(){n.value&&n.callActivate()})},mounted:function(){Object(j.u)(this,"activator",!0)==="v-slot"&&Object(y.b)(`v-tooltip's activator slot must be bound, try '<template #activator="data"><v-btn v-on="data.on>'`,this)},methods:{activate:function(){this.updateDimensions(),requestAnimationFrame(this.startTransition)},deactivate:function(){this.runDelay("close")},genActivatorListeners:function(){var n=this,r=K.a.options.methods.genActivatorListeners.call(this);return this.openOnFocus&&(r.focus=function(u){n.getActivator(u),n.runDelay("open")},r.blur=function(u){n.getActivator(u),n.runDelay("close")}),r.keydown=function(u){u.keyCode===j.z.esc&&(n.getActivator(u),n.runDelay("close"))},r},genActivatorAttributes:function(){return{"aria-haspopup":!0,"aria-expanded":String(this.isActive)}},genTransition:function(){var n=this.genContent();return this.computedTransition?this.$createElement("transition",{props:{name:this.computedTransition}},[n]):n},genContent:function(){var n;return this.$createElement("div",this.setBackgroundColor(this.color,{staticClass:"v-tooltip__content",class:(n={},Object(i.a)(n,this.contentClass,!0),Object(i.a)(n,"menuable__content__active",this.isActive),Object(i.a)(n,"v-tooltip__content--fixed",this.activatorFixed),n),style:this.styles,attrs:this.getScopeIdAttrs(),directives:[{name:"show",value:this.isContentActive}],ref:"content"}),this.getContentSlot())}},render:function(n){var r=this;return n(this.tag,{staticClass:"v-tooltip",class:this.classes},[this.showLazyContent(function(){return[r.genTransition()]}),this.genActivator()])}})}}]);
