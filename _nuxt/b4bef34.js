(window.webpackJsonp=window.webpackJsonp||[]).push([[79],{1124:function(C,l,s){"use strict";s.r(l);var u=function(){var t=this,e=t._self._c;return e("v-row",{attrs:{dense:""}},[e("v-col",{attrs:{cols:"12",md:"9",sm:"8"}},[e("v-row",{attrs:{dense:""}},[e("v-col",{attrs:{cols:"12",md:"3",sm:"12"}},[e("v-autocomplete",{attrs:{items:t.itemAccounts,label:t.$t("Pay from"),"item-value":"id","item-text":"name",outlined:"",dense:"","hide-details":"auto"},model:{value:t.form.account_id,callback:function(a){t.$set(t.form,"account_id",a)},expression:"form.account_id"}})],1),t._v(" "),e("v-col",{attrs:{cols:"12",md:"2",sm:"12"}},[e("v-autocomplete",{attrs:{items:t.itemPayPeriod,label:t.$t("End Pay Period"),"return-object":"","item-value":"id","item-text":"name",outlined:"",dense:"","hide-details":"auto"},on:{change:t.changePeriodDate},model:{value:t.form.pay_period,callback:function(a){t.$set(t.form,"pay_period",a)},expression:"form.pay_period"}})],1),t._v(" "),e("v-col",{attrs:{cols:"12",lg:"2",md:"2",sm:"6"}},[e("v-text-field",{attrs:{label:t.$t("Pay date"),"persistent-hint":"",outlined:"",dense:"","hide-details":"auto",type:"date"},model:{value:t.form.transaction_date,callback:function(a){t.$set(t.form,"transaction_date",a)},expression:"form.transaction_date"}})],1),t._v(" "),e("v-col",{attrs:{cols:"12",md:"2",sm:"12"}},[e("v-autocomplete",{attrs:{items:["draft","closed","cancel"],label:"Status",outlined:"",dense:"","hide-details":"auto"},model:{value:t.form.status,callback:function(a){t.$set(t.form,"status",a)},expression:"form.status"}})],1)],1)],1),t._v(" "),e("v-spacer"),t._v(" "),e("v-col",{staticClass:"text-right",attrs:{cols:"12",md:"3",xl:"2",sm:"4"}},[e("v-row",{attrs:{dense:""}},[e("v-col",{staticClass:"pt-0",attrs:{cols:"12"}},[e("p",{staticClass:"mb-0"},[t._v("Amount")]),t._v(" "),e("span",{staticClass:"text-right font-weight-bold text-h4"},[t._v(`
            `+t._s(isNaN(t.form.main_account_amount)?0:t.$formatter.formatPrice(t.form.main_account_amount))+`
          `)])])],1)],1),t._v(" "),e("v-col",{staticClass:"mt-1",attrs:{cols:"12"}},[e("v-card",{attrs:{flat:""}},[e("div",{staticClass:"scroll-container-min"},[e("LazyPayrollTableDetailPayCheck",{ref:"childDetails",on:{calcTotal:t.calcTotal}})],1)])],1),t._v(" "),e("v-col",{attrs:{cols:"12",md:"4",lg:"4"}},[e("v-col",{attrs:{cols:"12",md:"12"}},[e("v-textarea",{attrs:{rows:"2",label:"Journal Remark",outlined:"",dense:"","hide-details":"auto"},model:{value:t.form.narration,callback:function(a){t.$set(t.form,"narration",a)},expression:"form.narration"}})],1)],1)],1)},d=[],c=s(24),w=s(59),V=s(4),k=s(10),A=s(74),f={name:"FormPayCheck",props:{formType:{type:String,default:""}},data:function(){return{tab:null,menu:"",menu2:"",menu3:"",menu4:"",logo:"",search:null,selectedItem:1,dialog:!1,checkbox:!1,deposit:!1,tax:!0,withholding:!1,submitLoad:!1,showLoading:!1,form:{},itemCategory:[],itemUnit:[],itemPayPeriod:[],itemContact:[],itemAccounts:[],itemTag:[],itemPaymentTerm:[],itemWarehouse:[],itemFiles:[],taxDetails:[],itemSalesPersons:[],statusProcessing:"insert",valueWhenIsEmpty:"0",tempTotalTax:0,subTotalMinDiscount:0,taxAmount:0,taxDiscount:0,amountBeforeTax:0,withholdingAmount:0,commission:0,moneyOptions:{locale:"en",prefix:"",length:11,precision:0},moneyOptionTotal:{locale:"en",prefix:"",length:14,precision:2},moneyOptionTotalDiscount:{locale:"en",prefix:"",length:14,precision:0}}},activated:function(){var t=this;this.$nextTick(function(){t.$nuxt.$loading.start()}),this.getMasterData()},mounted:function(){this.getMasterData()},methods:{changePeriodDate:function(){var t=this;return Object(c.a)(regeneratorRuntime.mark(function e(){var n;return regeneratorRuntime.wrap(function(i){for(;;)switch(i.prev=i.next){case 0:return i.next=2,t.$axios.get("/api/payroll/employee-commission",{params:{date_period:t.form.pay_period}});case 2:n=i.sent,t.$refs.childDetails.setCommission(n.data.data);case 4:case"end":return i.stop()}},e)}))()},changeQty:function(){this.$refs.childDetails.setQty(this.form.planned_qty)},checkDisable:function(){return this.form.status==="closed"||this.form.status==="cancel"},statusColor:function(t){switch(t){case"planned":return"blue darken-3";case"partial":return"orange";case"released":return"orange";case"closed":return"green";case"overdue":return"red";case"cancel":return"red"}},calcTotal:function(t){try{this.form.main_account_amount=t.subTotal}catch(e){console.log(e)}},showLoad:function(t){this.showLoading=t},setData:function(t,e,n){var a=this;this.showLoading=!0,setTimeout(function(){a.$refs.childDetails.setDataToDetails([{quantity:null}],t,e,n)},500),this.form=Object.assign({},t),this.form.tax_details&&(this.form.tax_details=this.reduceArrayTax(this.form.tax_details)),this.moneyOptionTotal.prefix=this.form.default_currency_symbol,this.moneyOptionTotalDiscount.prefix=this.form.default_currency_symbol,this.moneyOptions.prefix=this.form.default_currency_symbol,this.statusProcessing="insert"},eventGetFiles:function(t){this.itemFiles=t.row},getMasterData:function(){var t=this;return Object(c.a)(regeneratorRuntime.mark(function e(){var n,a;return regeneratorRuntime.wrap(function(o){for(;;)switch(o.prev=o.next){case 0:return t.$nuxt.$loading.start(),o.prev=1,o.next=4,t.$axios.get("/api/payroll/pay-period",{params:{pay_schedule_id:1}});case 4:return n=o.sent,o.next=7,t.$axios.get("/api/financial/accounts",{params:{type:"BANK"}});case 7:a=o.sent,t.itemAccounts=a.data.data,t.itemPayPeriod=n.data.data,o.next=15;break;case 12:o.prev=12,o.t0=o.catch(1),t.$swal({type:"error",title:"Error",text:o.t0.response.data.error});case 15:case"end":return o.stop()}},e,null,[[1,12]])}))()},checkDocument:function(){var t=this.$route.query.type;switch(t){case"SQ":case"PQ":return!1;default:return!0}},returnData:function(t){var e=this,n={},a=e.$refs.childDetails.getAddData(t);return a.forEach(function(i,o){e.$refs.childDetails.checkIfEmptyRow(o)||(n[o]=i)}),this.form.line_items=n,this.form},changeValue:function(t,e){this.form[t]=e}}},h=f,v=s(50),p=s(51),y=s.n(p),g=s(634),x=s(248),D=s(585),P=s(599),T=s(593),$=s(574),b=s(659),m=Object(v.a)(h,u,d,!1,null,null,null),F=l.default=m.exports;y()(m,{VAutocomplete:g.a,VCard:x.a,VCol:D.a,VRow:P.a,VSpacer:T.a,VTextField:$.a,VTextarea:b.a})}}]);
